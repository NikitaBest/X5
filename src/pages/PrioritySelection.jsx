import { useState } from 'react'
import { useNavigate } from 'react-router-dom'
import Page from '../layout/Page.jsx'
import RadioCard from '../ui/RadioCard.jsx'
import PrimaryButton from '../components/PrimaryButton.jsx'
import './PrioritySelection.css'

const PRIORITY_OPTIONS = [
  {
    value: 'heart',
    label: 'Здоровое сердце',
    icon: (
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7.5 4C4.4625 4 2 6.4625 2 9.5C2 15 8.5 20 12 21.163C15.5 20 22 15 22 9.5C22 6.4625 19.5375 4 16.5 4C14.64 4 12.995 4.9235 12 6.337C11.4928 5.61469 10.819 5.0252 10.0357 4.61841C9.25238 4.21162 8.38263 3.9995 7.5 4Z" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" fill="none"/>
      </svg>
    ),
  },
  {
    value: 'stress',
    label: 'Управление стрессом',
    icon: (
      <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M19.625 2C20.7441 2.00009 21.8251 2.40601 22.6677 3.14249C23.5103 3.87896 24.0572 4.896 24.207 6.005C25.222 6.04758 26.1999 6.39832 27.0106 7.01053C27.8213 7.62275 28.4263 8.46738 28.745 9.43198C29.0637 10.3966 29.0811 11.4354 28.7947 12.4101C28.5083 13.3848 27.9318 14.2491 27.142 14.888C28.0155 15.4249 28.7368 16.1767 29.2371 17.0716C29.7374 17.9665 30.0001 18.9747 30 20V20.5C29.9996 21.8283 29.5186 23.1117 28.6456 24.1129C27.7727 25.1141 26.5669 25.7656 25.251 25.947L25.082 26.491C24.7643 27.508 24.1299 28.397 23.2715 29.0282C22.4131 29.6594 21.3755 29.9999 20.31 30H20C19.2237 29.9999 18.4581 29.819 17.7638 29.4717C17.0695 29.1244 16.4656 28.6202 16 27.999C15.5344 28.6202 14.9305 29.1244 14.2362 29.4717C13.5419 29.819 12.7763 29.9999 12 30H11.69C10.6245 29.9999 9.58688 29.6594 8.72847 29.0282C7.87006 28.397 7.23573 27.508 6.918 26.491L6.749 25.947C5.4331 25.7656 4.22731 25.1141 3.35438 24.1129C2.48144 23.1117 2.00036 21.8283 2 20.5V20C1.99992 18.9747 2.26258 17.9665 2.7629 17.0716C3.26323 16.1767 3.98454 15.4249 4.858 14.888C4.06817 14.2491 3.49169 13.3848 3.20532 12.4101C2.91895 11.4354 2.93627 10.3966 3.25498 9.43198C3.57369 8.46738 4.17866 7.62275 4.98936 7.01053C5.80005 6.39832 6.778 6.04758 7.793 6.005C7.91446 5.10604 8.29766 4.26265 8.89488 3.57986C9.4921 2.89706 10.277 2.405 11.1518 2.16496C12.0266 1.92492 12.9526 1.94748 13.8147 2.22985C14.6768 2.51222 15.4367 3.04192 16 3.753C16.4327 3.20617 16.9837 2.76439 17.6115 2.4608C18.2393 2.15721 18.9276 1.99967 19.625 2ZM12.375 4C11.6788 4 11.0111 4.27656 10.5188 4.76885C10.0266 5.26113 9.75 5.92881 9.75 6.625V7C9.75 7.26522 9.64464 7.51957 9.45711 7.70711C9.26957 7.89464 9.01522 8 8.75 8H8C7.21784 8.00023 6.46669 8.30592 5.90664 8.85192C5.3466 9.39793 5.02194 10.1411 5.00185 10.923C4.98177 11.7049 5.26786 12.4637 5.79914 13.0377C6.33042 13.6118 7.06488 13.9556 7.846 13.996L8 14H9C9.26522 14 9.51957 14.1054 9.70711 14.2929C9.89464 14.4804 10 14.7348 10 15C10 15.2652 9.89464 15.5196 9.70711 15.7071C9.51957 15.8946 9.26522 16 9 16H8L7.794 16.005C6.7701 16.0578 5.80557 16.5017 5.09955 17.2452C4.39353 17.9886 3.99992 18.9747 4 20V20.5C4 21.4283 4.36875 22.3185 5.02513 22.9749C5.6815 23.6313 6.57174 24 7.5 24C7.68594 24 7.86819 24.0519 8.02629 24.1497C8.18439 24.2476 8.31207 24.3876 8.395 24.554L8.455 24.702L8.827 25.894C9.01752 26.5043 9.39804 27.0378 9.91306 27.4166C10.4281 27.7955 11.0507 27.9999 11.69 28H12C12.7956 28 13.5587 27.6839 14.1213 27.1213C14.6839 26.5587 15 25.7956 15 25V6.625C15 5.92881 14.7234 5.26113 14.2312 4.76885C13.7389 4.27656 13.0712 4 12.375 4ZM19.625 4C18.9288 4 18.2611 4.27656 17.7688 4.76885C17.2766 5.26113 17 5.92881 17 6.625V25C17 25.7956 17.3161 26.5587 17.8787 27.1213C18.4413 27.6839 19.2044 28 20 28H20.31C20.9492 27.9999 21.5717 27.7957 22.0867 27.417C22.6017 27.0384 22.9823 26.5051 23.173 25.895L23.546 24.702L23.606 24.554C23.6889 24.3877 23.8164 24.2478 23.9743 24.15C24.1322 24.0521 24.3142 24.0002 24.5 24C25.4283 24 26.3185 23.6313 26.9749 22.9749C27.6313 22.3185 28 21.4283 28 20.5V20C28.0001 18.9747 27.6065 17.9886 26.9005 17.2452C26.1944 16.5017 25.2299 16.0578 24.206 16.005L24 16H23C22.7348 16 22.4804 15.8946 22.2929 15.7071C22.1054 15.5196 22 15.2652 22 15C22 14.7348 22.1054 14.4804 22.2929 14.2929C22.4804 14.1054 22.7348 14 23 14H24L24.154 13.996C24.9351 13.9556 25.6696 13.6118 26.2009 13.0377C26.7321 12.4637 27.0182 11.7049 26.9981 10.923C26.9781 10.1411 26.6534 9.39793 26.0934 8.85192C25.5333 8.30592 24.7822 8.00023 24 8H23.25C22.9848 8 22.7304 7.89464 22.5429 7.70711C22.3554 7.51957 22.25 7.26522 22.25 7V6.625C22.25 6.28028 22.1821 5.93894 22.0502 5.62046C21.9183 5.30198 21.7249 5.0126 21.4812 4.76885C21.2374 4.52509 20.948 4.33174 20.6295 4.19982C20.3111 4.0679 19.9697 4 19.625 4Z" fill="currentColor"/>
      </svg>
    ),
  },
  {
    value: 'energy',
    label: 'Энергия и Тонус',
    icon: (
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M6.20366 10.7566L12.5014 2.13241C12.9949 1.45826 13.9167 1.87747 13.9167 2.77562V9.45096C13.9167 9.98964 14.279 10.4249 14.7252 10.4249H17.789C18.4852 10.4249 18.8558 11.4137 18.3959 12.0441L12.0982 20.6672C11.6047 21.3413 10.6828 20.9221 10.6828 20.024V13.3486C10.6828 12.81 10.3206 12.3748 9.87436 12.3748H6.8095C6.11337 12.3748 5.74378 11.3859 6.20366 10.7566Z" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" fill="none"/>
      </svg>
    ),
  },
  {
    value: 'weight',
    label: 'Контроль веса и метаболизм',
    icon: (
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 6.528V3C12 2.73478 12.1054 2.48043 12.2929 2.29289C12.4804 2.10536 12.7348 2 13 2" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" fill="none"/>
        <path d="M18.237 21C20.6763 18.2415 22.0156 14.6822 22 11C22 9.84175 21.6647 8.70827 21.0347 7.73637C20.4047 6.76448 19.5068 5.99571 18.4495 5.52287C17.3921 5.05003 16.2205 4.89333 15.0761 5.07169C13.9317 5.25004 12.8633 5.75583 12 6.52799C11.1367 5.75583 10.0684 5.25004 8.92395 5.07169C7.77952 4.89333 6.60793 5.05003 5.55059 5.52287C4.49326 5.99571 3.59539 6.76448 2.96535 7.73637C2.33531 8.70827 2.00005 9.84175 2.00002 11C1.99371 14.6805 3.33188 18.2367 5.76302 21C6.21073 21.5009 6.81359 21.837 7.47503 21.9545C8.13647 22.0719 8.81821 21.964 9.41102 21.648C10.2078 21.2229 11.097 21.0005 12 21.0005C12.9031 21.0005 13.7923 21.2229 14.589 21.648C15.1818 21.964 15.8636 22.0719 16.525 21.9545C17.1865 21.837 17.7893 21.5009 18.237 21Z" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" fill="none"/>
      </svg>
    ),
  },
  {
    value: 'longevity',
    label: 'Активное долголетие',
    icon: (
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clipPath="url(#clip0_717_1411)">
          <path fillRule="evenodd" clipRule="evenodd" d="M17.9349 1.44319C17.9837 1.31116 18.0059 1.17081 18.0004 1.03018C17.9949 0.889543 17.9618 0.751367 17.9029 0.623541C17.844 0.495714 17.7605 0.38074 17.6572 0.285184C17.5538 0.189627 17.4327 0.115359 17.3007 0.0666199C17.1686 0.0178807 17.0283 -0.00437501 16.8876 0.00112338C16.747 0.00662177 16.6088 0.0397666 16.481 0.0986655C16.2229 0.217617 16.0225 0.434249 15.9241 0.700906C15.1342 2.84331 15.1832 5.2051 16.0612 7.3129V7.31462C16.495 8.34623 16.6763 9.46651 16.5898 10.5823C16.5033 11.698 16.1517 12.777 15.5641 13.7295L10.1607 8.32262C11.015 7.69547 11.9972 7.26464 13.0372 7.06091C13.3128 7.00331 13.5545 6.83962 13.7103 6.60519C13.8661 6.37077 13.9234 6.08445 13.8698 5.80812C13.8162 5.5318 13.6561 5.28766 13.4239 5.12849C13.1918 4.96931 12.9063 4.90788 12.6292 4.95748C10.8271 5.30854 9.16897 6.18471 7.86351 7.47576L7.85323 7.48433C6.82312 8.52818 6.05731 9.80304 5.61957 11.2027C5.18184 12.6024 5.08484 14.0864 5.33666 15.5312C3.78652 15.2496 2.18945 15.3839 0.708086 15.9203C0.575714 15.9681 0.454038 16.0414 0.350006 16.1361C0.245974 16.2309 0.161623 16.3452 0.101769 16.4726C0.0419146 16.5999 0.00772991 16.7378 0.00116636 16.8784C-0.0053972 17.0189 0.0157889 17.1594 0.063515 17.2918C0.111241 17.4241 0.184573 17.5458 0.279323 17.6498C0.374072 17.7539 0.488385 17.8382 0.615734 17.8981C0.743083 17.9579 0.880974 17.9921 1.02153 17.9987C1.16209 18.0052 1.30257 17.9841 1.43494 17.9363C2.93839 17.3944 4.58436 17.3974 6.0858 17.9449C6.60352 19.438 6.60009 21.07 6.06352 22.5666C6.01601 22.6991 5.99507 22.8396 6.00189 22.9802C6.0087 23.1208 6.04314 23.2587 6.10323 23.3859C6.16332 23.5132 6.2479 23.6274 6.35212 23.722C6.45634 23.8166 6.57817 23.8897 6.71066 23.9372C6.84314 23.9847 6.98369 24.0056 7.12427 23.9988C7.26484 23.992 7.4027 23.9576 7.52997 23.8975C7.65724 23.8374 7.77143 23.7528 7.86601 23.6486C7.9606 23.5444 8.03373 23.4225 8.08123 23.29C8.85236 21.1362 8.78257 18.7707 7.8858 16.666C7.45219 15.6264 7.27356 14.498 7.36481 13.3752C7.45606 12.2525 7.81456 11.1678 8.41037 10.2118L13.8327 15.634C12.9687 16.2855 11.9641 16.7329 10.8944 16.942C10.7563 16.9691 10.6248 17.023 10.5076 17.1008C10.3903 17.1786 10.2895 17.2788 10.2109 17.3955C10.1324 17.5123 10.0776 17.6434 10.0497 17.7813C10.0218 17.9193 10.0214 18.0614 10.0484 18.1995C10.0754 18.3376 10.1293 18.469 10.2072 18.5863C10.285 18.7036 10.3851 18.8043 10.5019 18.8829C10.7377 19.0416 11.0269 19.1 11.3058 19.0455C13.1159 18.6913 14.7803 17.8084 16.0887 16.5083L16.0955 16.5015C17.1256 15.4604 17.892 14.1881 18.3306 12.7907C18.7693 11.3934 18.8675 9.91139 18.6172 8.46833C20.1704 8.75119 21.7835 8.62262 23.2921 8.08091C23.5542 7.98082 23.7665 7.78193 23.8836 7.52698C24.0006 7.27202 24.013 6.98132 23.918 6.71734C23.8231 6.45336 23.6284 6.23715 23.3758 6.11516C23.1231 5.99317 22.8327 5.97512 22.5669 6.06491C21.0493 6.60991 19.3889 6.60688 17.8732 6.05633C17.3644 4.5577 17.3856 2.9298 17.9332 1.44491" fill="currentColor"/>
        </g>
        <defs>
          <clipPath id="clip0_717_1411">
            <rect width="24" height="24" fill="white"/>
          </clipPath>
        </defs>
      </svg>
    ),
  },
]

function PrioritySelection() {
  const navigate = useNavigate()
  const [selectedPriority, setSelectedPriority] = useState('stress')

  const handleNext = () => {
    // Переход на страницу настройки алгоритмов
    navigate('/algorithm-settings')
  }

  return (
    <Page className="priority-selection-page">
      <div className="priority-selection-content">
        <h1 className="priority-selection-title">На чем сфокусируемся?</h1>
        <p className="priority-selection-subtitle">
          Выберите приоритет, чтобы AI составил план рекомендаций.
        </p>

        <div className="priority-options">
          {PRIORITY_OPTIONS.map((option) => (
            <RadioCard
              key={option.value}
              icon={option.icon}
              label={option.label}
              value={option.value}
              selected={selectedPriority === option.value}
              onClick={setSelectedPriority}
            />
          ))}
        </div>
      </div>

      <div className="priority-selection-footer">
        <PrimaryButton onClick={handleNext} disabled={!selectedPriority}>
          Далее
        </PrimaryButton>
        <p className="priority-selection-hint">
          Вы сможете изменить приоритет в любой момент в настройках профиля
        </p>
      </div>
    </Page>
  )
}

export default PrioritySelection

