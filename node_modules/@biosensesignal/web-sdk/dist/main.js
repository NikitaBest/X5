/*! For license information please see main.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(self,(function(){return(()=>{var e,t,r={8384:(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{default:()=>i});const i=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e={}){var t,r,i=e;i.ready=new Promise(((e,n)=>{t=e,r=n}));var o,s,a,l=Object.assign({},i),u="./this.program",c=(e,t)=>{throw t},d="object"==typeof window,h="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,f=i.ENVIRONMENT_IS_PTHREAD||!1,_="";function g(e){return i.locateFile?i.locateFile(e,_):_+e}(d||h)&&(h?_=self.location.href:"undefined"!=typeof document&&document.currentScript&&(_=document.currentScript.src),n&&(_=n),_=0!==_.indexOf("blob:")?_.substr(0,_.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},h&&(a=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),s=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var m,E=i.print||console.log.bind(console),v=i.printErr||console.error.bind(console);Object.assign(i,l),l=null,i.arguments&&i.arguments,i.thisProgram&&(u=i.thisProgram),i.quit&&(c=i.quit),i.wasmBinary&&(m=i.wasmBinary);var y,b,w,S=i.noExitRuntime||!0;"object"!=typeof WebAssembly&&ee("no native wasm support detected");var I,R,A,O,N,T,M,C,D,L=!1;function k(e,t){e||ee(t)}var P,x,F=i.INITIAL_MEMORY||536870912;if(k(F>=5242880,"INITIAL_MEMORY should be larger than STACK_SIZE, was "+F+"! (STACK_SIZE=5242880)"),f)y=i.wasmMemory;else if(i.wasmMemory)y=i.wasmMemory;else if(!((y=new WebAssembly.Memory({initial:F/65536,maximum:F/65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw v("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),p&&v("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");P=y.buffer,i.HEAP8=R=new Int8Array(P),i.HEAP16=O=new Int16Array(P),i.HEAP32=T=new Int32Array(P),i.HEAPU8=A=new Uint8Array(P),i.HEAPU16=N=new Uint16Array(P),i.HEAPU32=M=new Uint32Array(P),i.HEAPF32=C=new Float32Array(P),i.HEAPF64=D=new Float64Array(P),F=y.buffer.byteLength;var H=[],U=[],B=[],j=!1,G=0;function z(){return S||G>0}function W(){j=!0,f||(i.noFSInit||Ie.init.initialized||Ie.init(),Ie.ignorePermissions=!1,Ee.init(),Ce(U))}function V(e){H.unshift(e)}var Z,$,K,q=0,Y=null,J=null;function X(e){q++,i.monitorRunDependencies&&i.monitorRunDependencies(q)}function Q(e){if(q--,i.monitorRunDependencies&&i.monitorRunDependencies(q),0==q&&(null!==Y&&(clearInterval(Y),Y=null),J)){var t=J;J=null,t()}}function ee(e){i.onAbort&&i.onAbort(e),v(e="Aborted("+e+")"),L=!0,I=1,e+=". Build with -sASSERTIONS for more info.",j&&on();var t=new WebAssembly.RuntimeError(e);throw r(t),t}function te(e){return e.startsWith("data:application/octet-stream;base64,")}function re(e){if(e==Z&&m)return new Uint8Array(m);if(a)return a(e);throw"both async and sync fetching of the wasm failed"}function ne(e,t,r){return function(e){return m||!d&&!h||"function"!=typeof fetch?Promise.resolve().then((()=>re(e))):fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((()=>re(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{v("failed to asynchronously prepare wasm: "+e),ee(e)}))}te(Z="a.wasm")||(Z=g(Z));var ie={2516453:(e,t)=>{window.biosenseSignalConfig.onMessage(e,t)},2516507:e=>{window.biosenseSignalConfig.onImageData(e)},2516559:(e,t,r,n,i)=>{window.biosenseSignalConfig.onFaceDetected(e,t,r,n,i)},2516630:(e,t)=>{window.biosenseSignalConfig.onLicenseMessage(e,t)},2516691:(e,t)=>{window.biosenseSignalConfig.onLicenseMessage(e,t)},2516752:(e,t)=>{window.biosenseSignalConfig.onLicenseMessage(e,t)},2516813:(e,t,r,n,i,o)=>{window.biosenseSignalConfig.onHttpRequest(Re(e),Re(t),Re(r),n,Re(i),o)},2516943:(e,t)=>{window.biosenseSignalConfig.onMessage(e,t)},2516997:(e,t)=>{window.biosenseSignalConfig.onMessage(e,t)},2517051:(e,t)=>{window.biosenseSignalConfig.onMessage(e,t)},2517105:(e,t)=>{window.biosenseSignalConfig.onMessage(e,t)},2517159:(e,t)=>{window.biosenseSignalConfig.onMessage(e,t)},2517213:(e,t)=>{window.biosenseSignalConfig.onMessage(e,t)},2517267:(e,t)=>{window.biosenseSignalConfig.onMessage(e,t)},2517321:(e,t)=>{window.biosenseSignalConfig.onMessage(e,t)},2517375:(e,t)=>{window.biosenseSignalConfig.onMessage(e,t)},2517429:(e,t)=>{window.biosenseSignalConfig.onMessage(e,t)},2517483:e=>{window.biosenseSignalRuntimeData.postProcessingTime=e},2517548:(e,t,r,n,i,o,s,a,l,u,c,d,h,p,f,_)=>{window.biosenseSignalConfig.onReport(e,t,r,n,i,o,s,a,l,u,c,d,h,p,f,_)},2517663:(e,t,r,n,o,s,a,l,u,c,d,h,p,f,_,g)=>{window.biosenseSignalConfig.onReport2(e,t,r,n,o,s,a,l,u,c,d,h,new i.VectorDouble(p),new i.VectorInt(f),_,g)},2517826:(e,t,r,n,i,o,s,a,l,u)=>{window.biosenseSignalConfig.onReport3(e,t,r,n,i,o,s,a,l,u)},2517912:(e,t)=>{var r=t,n=Re(e);1==r?console.error(n):2==r?console.warn(n):3==r?console.info(n):4==r?console.trace(n):console.log(n)}};function oe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var se=function(e){e.terminate(),e.onmessage=e=>{}};function ae(e){var t=Me.pthreads[e];k(t),Me.returnWorkerToPool(t)}function le(e){var t=Me.getNewWorker();if(!t)return 6;Me.runningWorkers.push(t),Me.pthreads[e.pthread_ptr]=t,t.pthread_ptr=e.pthread_ptr;var r={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return t.postMessage(r,e.transferList),0}var ue={isAbs:e=>"/"===e.charAt(0),splitPath:e=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1),normalizeArray:(e,t)=>{for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:e=>{var t=ue.isAbs(e),r="/"===e.substr(-1);return(e=ue.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=ue.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:e=>{if("/"===e)return"/";var t=(e=(e=ue.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},join:function(){var e=Array.prototype.slice.call(arguments);return ue.normalize(e.join("/"))},join2:(e,t)=>ue.normalize(e+"/"+t)},ce=e=>(ce=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>(e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))),e);ee("initRandomDevice")})())(e),de={resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:Ie.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t=ue.isAbs(n)}return(t?"/":"")+(e=ue.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))||"."},relative:(e,t)=>{function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=de.resolve(e).substr(1),t=de.resolve(t).substr(1);for(var n=r(e.split("/")),i=r(t.split("/")),o=Math.min(n.length,i.length),s=o,a=0;a<o;a++)if(n[a]!==i[a]){s=a;break}var l=[];for(a=s;a<n.length;a++)l.push("..");return(l=l.concat(i.slice(s))).join("/")}},he="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,pe=(e,t,r)=>{for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&he)return he.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,i):e.subarray(t,i));for(var o="";t<i;){var s=e[t++];if(128&s){var a=63&e[t++];if(192!=(224&s)){var l=63&e[t++];if((s=224==(240&s)?(15&s)<<12|a<<6|l:(7&s)<<18|a<<12|l<<6|63&e[t++])<65536)o+=String.fromCharCode(s);else{var u=s-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&s)<<6|a)}else o+=String.fromCharCode(s)}return o},fe=[],_e=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},ge=(e,t,r,n)=>{if(!(n>0))return 0;for(var i=r,o=r+n-1,s=0;s<e.length;++s){var a=e.charCodeAt(s);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++s)),a<=127){if(r>=o)break;t[r++]=a}else if(a<=2047){if(r+1>=o)break;t[r++]=192|a>>6,t[r++]=128|63&a}else if(a<=65535){if(r+2>=o)break;t[r++]=224|a>>12,t[r++]=128|a>>6&63,t[r++]=128|63&a}else{if(r+3>=o)break;t[r++]=240|a>>18,t[r++]=128|a>>12&63,t[r++]=128|a>>6&63,t[r++]=128|63&a}}return t[r]=0,r-i};function me(e,t,r){var n=r>0?r:_e(e)+1,i=new Array(n),o=ge(e,i,0,i.length);return t&&(i.length=o),i}var Ee={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Ee.ttys[e]={input:[],output:[],ops:t},Ie.registerDevice(e,Ee.stream_ops)},stream_ops:{open:function(e){var t=Ee.ttys[e.node.rdev];if(!t)throw new Ie.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,t,r,n,i){if(!e.tty||!e.tty.ops.get_char)throw new Ie.ErrnoError(60);for(var o=0,s=0;s<n;s++){var a;try{a=e.tty.ops.get_char(e.tty)}catch(e){throw new Ie.ErrnoError(29)}if(void 0===a&&0===o)throw new Ie.ErrnoError(6);if(null==a)break;o++,t[r+s]=a}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,r,n,i){if(!e.tty||!e.tty.ops.put_char)throw new Ie.ErrnoError(60);try{for(var o=0;o<n;o++)e.tty.ops.put_char(e.tty,t[r+o])}catch(e){throw new Ie.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){return(()=>{if(!fe.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n"),!e)return null;fe=me(e,!0)}return fe.shift()})()},put_char:function(e,t){null===t||10===t?(E(pe(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(E(pe(e.output,0)),e.output=[])},ioctl_tcgets:function(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets:function(e,t,r){return 0},ioctl_tiocgwinsz:function(e){return[24,80]}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(v(pe(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(v(pe(e.output,0)),e.output=[])}}},ve=e=>{e=((e,t)=>65536*Math.ceil(e/65536))(e);var t=Jr(65536,e);return t?((e,t)=>(A.fill(0,e,e+t),e))(t,e):0},ye={ops_table:null,mount:e=>ye.createNode(null,"/",16895,0),createNode(e,t,r,n){if(Ie.isBlkdev(r)||Ie.isFIFO(r))throw new Ie.ErrnoError(63);ye.ops_table||(ye.ops_table={dir:{node:{getattr:ye.node_ops.getattr,setattr:ye.node_ops.setattr,lookup:ye.node_ops.lookup,mknod:ye.node_ops.mknod,rename:ye.node_ops.rename,unlink:ye.node_ops.unlink,rmdir:ye.node_ops.rmdir,readdir:ye.node_ops.readdir,symlink:ye.node_ops.symlink},stream:{llseek:ye.stream_ops.llseek}},file:{node:{getattr:ye.node_ops.getattr,setattr:ye.node_ops.setattr},stream:{llseek:ye.stream_ops.llseek,read:ye.stream_ops.read,write:ye.stream_ops.write,allocate:ye.stream_ops.allocate,mmap:ye.stream_ops.mmap,msync:ye.stream_ops.msync}},link:{node:{getattr:ye.node_ops.getattr,setattr:ye.node_ops.setattr,readlink:ye.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ye.node_ops.getattr,setattr:ye.node_ops.setattr},stream:Ie.chrdev_stream_ops}});var i=Ie.createNode(e,t,r,n);return Ie.isDir(i.mode)?(i.node_ops=ye.ops_table.dir.node,i.stream_ops=ye.ops_table.dir.stream,i.contents={}):Ie.isFile(i.mode)?(i.node_ops=ye.ops_table.file.node,i.stream_ops=ye.ops_table.file.stream,i.usedBytes=0,i.contents=null):Ie.isLink(i.mode)?(i.node_ops=ye.ops_table.link.node,i.stream_ops=ye.ops_table.link.stream):Ie.isChrdev(i.mode)&&(i.node_ops=ye.ops_table.chrdev.node,i.stream_ops=ye.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i,e.timestamp=i.timestamp),i},getFileDataAsTypedArray:e=>e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0),expandFileStorage(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256));var n=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var r=e.contents;e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=Ie.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Ie.isDir(e.mode)?t.size=4096:Ie.isFile(e.mode)?t.size=e.usedBytes:Ie.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&ye.resizeFileStorage(e,t.size)},lookup(e,t){throw Ie.genericErrors[44]},mknod:(e,t,r,n)=>ye.createNode(e,t,r,n),rename(e,t,r){if(Ie.isDir(e.mode)){var n;try{n=Ie.lookupNode(t,r)}catch(e){}if(n)for(var i in n.contents)throw new Ie.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=r,t.contents[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir(e,t){var r=Ie.lookupNode(e,t);for(var n in r.contents)throw new Ie.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink(e,t,r){var n=ye.createNode(e,t,41471,0);return n.link=r,n},readlink(e){if(!Ie.isLink(e.mode))throw new Ie.ErrnoError(28);return e.link}},stream_ops:{read(e,t,r,n,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-i,n);if(s>8&&o.subarray)t.set(o.subarray(i,i+s),r);else for(var a=0;a<s;a++)t[r+a]=o[i+a];return s},write(e,t,r,n,i,o){if(!n)return 0;var s=e.node;if(s.timestamp=Date.now(),t.subarray&&(!s.contents||s.contents.subarray)){if(o)return s.contents=t.subarray(r,r+n),s.usedBytes=n,n;if(0===s.usedBytes&&0===i)return s.contents=t.slice(r,r+n),s.usedBytes=n,n;if(i+n<=s.usedBytes)return s.contents.set(t.subarray(r,r+n),i),n}if(ye.expandFileStorage(s,i+n),s.contents.subarray&&t.subarray)s.contents.set(t.subarray(r,r+n),i);else for(var a=0;a<n;a++)s.contents[i+a]=t[r+a];return s.usedBytes=Math.max(s.usedBytes,i+n),n},llseek(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&Ie.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new Ie.ErrnoError(28);return n},allocate(e,t,r){ye.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap(e,t,r,n,i){if(!Ie.isFile(e.node.mode))throw new Ie.ErrnoError(43);var o,s,a=e.node.contents;if(2&i||a.buffer!==R.buffer){if((r>0||r+t<a.length)&&(a=a.subarray?a.subarray(r,r+t):Array.prototype.slice.call(a,r,r+t)),s=!0,!(o=ve(t)))throw new Ie.ErrnoError(48);R.set(a,o)}else s=!1,o=a.byteOffset;return{ptr:o,allocated:s}},msync:(e,t,r,n,i)=>(ye.stream_ops.write(e,t,0,n,r,!1),0)}},be=i.preloadPlugins||[];function we(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r}var Se={DIR_MODE:16895,FILE_MODE:33279,CHUNK_SIZE:-1,codec:null,init(){Se.codec||(Se.codec=function(){var e={uncompress:function(e,t,r,n){for(var i=r=r||0,o=n=n||e.length-r,s=0;i<o;){var a=e[i++],l=a>>4;if(l>0){for(var u=l+240;255===u;)l+=u=e[i++];for(var c=i+l;i<c;)t[s++]=e[i++];if(i===o)return s}var d=e[i++]|e[i++]<<8;if(0===d)return s;if(d>s)return-(i-2);var h=15&a;for(u=h+240;255===u;)h+=u=e[i++];var p=s-d;for(c=s+h+4;s<c;)t[s++]=t[p++]}return s}},t=2113929216;k(!0);var r=new Int16Array(65536),n=new Int16Array(r.length);return e.compressBound=function(e){return e>t?0:e+e/255+16|0},e.compress=function(i,o,s,a){return r.set(n),function(n,i,o,s,a){var l=s,u=a-s,c=0;if(n.length>=t)throw new Error("input too large");if(n.length>12){var d=e.compressBound(n.length);if(u<d)throw Error("output too small: "+u+" < "+d);for(var h=67,p=n.length-12;o+4<p;){var f=n[o+1]<<8|n[o],_=n[o+3]<<8|n[o+2],g=Math.imul(f|_<<16,2654435761)>>>16,m=r[g]-1;if(r[g]=o+1,m<0||o-m>>>16>0||(n[m+3]<<8|n[m+2])!=_||(n[m+1]<<8|n[m])!=f)o+=h++>>6;else{h=67;var E=o-c,v=o-m;m+=4;for(var y=o+=4;o<p&&n[o]==n[m];)o++,m++;var b=(y=o-y)<15?y:15;if(E>=15){i[l++]=240+b;for(var w=E-15;w>254;w-=255)i[l++]=255;i[l++]=w}else i[l++]=(E<<4)+b;for(var S=0;S<E;S++)i[l++]=n[c+S];if(i[l++]=v,i[l++]=v>>8,y>=15){for(y-=15;y>=255;)y-=255,i[l++]=255;i[l++]=y}c=o}}}if(0==c)return 0;if((E=n.length-c)>=15){i[l++]=240;for(var I=E-15;I>254;I-=255)i[l++]=255;i[l++]=I}else i[l++]=E<<4;for(o=c;o<n.length;)i[l++]=n[o++];return l}(i,o,0,s||0,a||o.length)},e.CHUNK_SIZE=2048,e.compressPackage=function(t,r){if(r)var n=new Uint8Array(e.CHUNK_SIZE);k(t instanceof ArrayBuffer),t=new Uint8Array(t),console.log("compressing package of size "+t.length);for(var i=[],o=[],s=0,a=0;s<t.length;){var l=t.subarray(s,s+e.CHUNK_SIZE);s+=e.CHUNK_SIZE;var u=e.compressBound(l.length),c=new Uint8Array(u),d=e.compress(l,c);if(d>0){if(k(d<=u),c=c.subarray(0,d),i.push(c),a+=d,o.push(1),r){var h=e.uncompress(c,n);k(h===l.length,[h,l.length]);for(var p=0;p<l.length;p++)k(l[p]===n[p])}}else k(0===d),i.push(l),a+=l.length,o.push(0)}t=null;var f={data:new Uint8Array(a+2*e.CHUNK_SIZE),cachedOffset:a,cachedIndexes:[-1,-1],cachedChunks:[null,null],offsets:[],sizes:[],successes:o};for(s=0,p=0;p<i.length;p++)f.data.set(i[p],s),f.offsets[p]=s,f.sizes[p]=i[p].length,s+=i[p].length;return console.log("compressed package into "+[f.data.length]),k(s===a),f},k(e.CHUNK_SIZE<32768),e}(),Se.CHUNK_SIZE=Se.codec.CHUNK_SIZE)},loadPackage(e,t){Se.init();var r=e.compressedData;r||(r=Se.codec.compressPackage(e.data)),k(r.cachedIndexes.length===r.cachedChunks.length);for(var n=0;n<r.cachedIndexes.length;n++)r.cachedIndexes[n]=-1,r.cachedChunks[n]=r.data.subarray(r.cachedOffset+n*Se.CHUNK_SIZE,r.cachedOffset+(n+1)*Se.CHUNK_SIZE),k(r.cachedChunks[n].length===Se.CHUNK_SIZE);e.metadata.files.forEach((function(e){var t=ue.dirname(e.filename),n=ue.basename(e.filename);Ie.createPath("",t,!0,!0);var i=Ie.analyzePath(t).object;Se.createNode(i,n,Se.FILE_MODE,0,{compressedData:r,start:e.start,end:e.end})})),t&&(Browser.init(),e.metadata.files.forEach((function(e){var t=!1,r=e.filename;be.forEach((function(e){if(!t&&e.canHandle(r)){X();var n=()=>Q(),i=Ie.readFile(r);e.handle(i,r,n,n),t=!0}}))})))},createNode(e,t,r,n,i,o){var s=Ie.createNode(e,t,r);return s.mode=r,s.node_ops=Se.node_ops,s.stream_ops=Se.stream_ops,s.timestamp=(o||new Date).getTime(),k(Se.FILE_MODE!==Se.DIR_MODE),r===Se.FILE_MODE?(s.size=i.end-i.start,s.contents=i):(s.size=4096,s.contents={}),e&&(e.contents[t]=s),s},node_ops:{getattr:e=>({dev:1,ino:e.id,mode:e.mode,nlink:1,uid:0,gid:0,rdev:0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}),setattr(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup(e,t){throw new Ie.ErrnoError(44)},mknod(e,t,r,n){throw new Ie.ErrnoError(63)},rename(e,t,r){throw new Ie.ErrnoError(63)},unlink(e,t){throw new Ie.ErrnoError(63)},rmdir(e,t){throw new Ie.ErrnoError(63)},readdir(e){throw new Ie.ErrnoError(63)},symlink(e,t,r){throw new Ie.ErrnoError(63)}},stream_ops:{read(e,t,r,n,o){if((n=Math.min(n,e.node.size-o))<=0)return 0;for(var s=e.node.contents,a=s.compressedData,l=0;l<n;){var u,c=s.start+o+l,d=n-l,h=Math.floor(c/Se.CHUNK_SIZE),p=a.offsets[h],f=a.sizes[h];if(a.successes[h]){var _=a.cachedIndexes.indexOf(h);if(_>=0)u=a.cachedChunks[_];else{a.cachedIndexes.pop(),a.cachedIndexes.unshift(h),u=a.cachedChunks.pop(),a.cachedChunks.unshift(u),a.debug&&(E("decompressing chunk "+h),i.decompressedChunks=(i.decompressedChunks||0)+1);var g=a.data.subarray(p,p+f),m=Se.codec.uncompress(g,u);h<a.successes.length-1&&k(m===Se.CHUNK_SIZE)}}else u=a.data.subarray(p,p+Se.CHUNK_SIZE);var v=c%Se.CHUNK_SIZE,y=Math.min(v+d,Se.CHUNK_SIZE);t.set(u.subarray(v,y),r+l),l+=y-v}return l},write(e,t,r,n,i){throw new Ie.ErrnoError(29)},llseek(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&Ie.isFile(e.node.mode)&&(n+=e.node.size),n<0)throw new Ie.ErrnoError(28);return n}}},Ie={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(e,t={})=>{if(!(e=de.resolve(e)))return{path:"",node:null};if((t=Object.assign({follow_mount:!0,recurse_count:0},t)).recurse_count>8)throw new Ie.ErrnoError(32);for(var r=e.split("/").filter((e=>!!e)),n=Ie.root,i="/",o=0;o<r.length;o++){var s=o===r.length-1;if(s&&t.parent)break;if(n=Ie.lookupNode(n,r[o]),i=ue.join2(i,r[o]),Ie.isMountpoint(n)&&(!s||s&&t.follow_mount)&&(n=n.mounted.root),!s||t.follow)for(var a=0;Ie.isLink(n.mode);){var l=Ie.readlink(i);if(i=de.resolve(ue.dirname(i),l),n=Ie.lookupPath(i,{recurse_count:t.recurse_count+1}).node,a++>40)throw new Ie.ErrnoError(32)}}return{path:i,node:n}},getPath:e=>{for(var t;;){if(Ie.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?`${r}/${t}`:r+t:r}t=t?`${e.name}/${t}`:e.name,e=e.parent}},hashName:(e,t)=>{for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%Ie.nameTable.length},hashAddNode:e=>{var t=Ie.hashName(e.parent.id,e.name);e.name_next=Ie.nameTable[t],Ie.nameTable[t]=e},hashRemoveNode:e=>{var t=Ie.hashName(e.parent.id,e.name);if(Ie.nameTable[t]===e)Ie.nameTable[t]=e.name_next;else for(var r=Ie.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:(e,t)=>{var r=Ie.mayLookup(e);if(r)throw new Ie.ErrnoError(r,e);for(var n=Ie.hashName(e.id,t),i=Ie.nameTable[n];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===t)return i}return Ie.lookup(e,t)},createNode:(e,t,r,n)=>{var i=new Ie.FSNode(e,t,r,n);return Ie.hashAddNode(i),i},destroyNode:e=>{Ie.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>32768==(61440&e),isDir:e=>16384==(61440&e),isLink:e=>40960==(61440&e),isChrdev:e=>8192==(61440&e),isBlkdev:e=>24576==(61440&e),isFIFO:e=>4096==(61440&e),isSocket:e=>49152==(49152&e),flagsToPermissionString:e=>{var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:(e,t)=>Ie.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2,mayLookup:e=>Ie.nodePermissions(e,"x")||(e.node_ops.lookup?0:2),mayCreate:(e,t)=>{try{return Ie.lookupNode(e,t),20}catch(e){}return Ie.nodePermissions(e,"wx")},mayDelete:(e,t,r)=>{var n;try{n=Ie.lookupNode(e,t)}catch(e){return e.errno}var i=Ie.nodePermissions(e,"wx");if(i)return i;if(r){if(!Ie.isDir(n.mode))return 54;if(Ie.isRoot(n)||Ie.getPath(n)===Ie.cwd())return 10}else if(Ie.isDir(n.mode))return 31;return 0},mayOpen:(e,t)=>e?Ie.isLink(e.mode)?32:Ie.isDir(e.mode)&&("r"!==Ie.flagsToPermissionString(t)||512&t)?31:Ie.nodePermissions(e,Ie.flagsToPermissionString(t)):44,MAX_OPEN_FDS:4096,nextfd:()=>{for(var e=0;e<=Ie.MAX_OPEN_FDS;e++)if(!Ie.streams[e])return e;throw new Ie.ErrnoError(33)},getStreamChecked:e=>{var t=Ie.getStream(e);if(!t)throw new Ie.ErrnoError(8);return t},getStream:e=>Ie.streams[e],createStream:(e,t=-1)=>(Ie.FSStream||(Ie.FSStream=function(){this.shared={}},Ie.FSStream.prototype={},Object.defineProperties(Ie.FSStream.prototype,{object:{get(){return this.node},set(e){this.node=e}},isRead:{get(){return 1!=(2097155&this.flags)}},isWrite:{get(){return 0!=(2097155&this.flags)}},isAppend:{get(){return 1024&this.flags}},flags:{get(){return this.shared.flags},set(e){this.shared.flags=e}},position:{get(){return this.shared.position},set(e){this.shared.position=e}}})),e=Object.assign(new Ie.FSStream,e),-1==t&&(t=Ie.nextfd()),e.fd=t,Ie.streams[t]=e,e),closeStream:e=>{Ie.streams[e]=null},chrdev_stream_ops:{open:e=>{var t=Ie.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:()=>{throw new Ie.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,t)=>e<<8|t,registerDevice:(e,t)=>{Ie.devices[e]={stream_ops:t}},getDevice:e=>Ie.devices[e],getMounts:e=>{for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,n.mounts)}return t},syncfs:(e,t)=>{"function"==typeof e&&(t=e,e=!1),Ie.syncFSRequests++,Ie.syncFSRequests>1&&v(`warning: ${Ie.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var r=Ie.getMounts(Ie.root.mount),n=0;function i(e){return Ie.syncFSRequests--,t(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,i(e));++n>=r.length&&i(null)}r.forEach((t=>{if(!t.type.syncfs)return o(null);t.type.syncfs(t,e,o)}))},mount:(e,t,r)=>{var n,i="/"===r,o=!r;if(i&&Ie.root)throw new Ie.ErrnoError(10);if(!i&&!o){var s=Ie.lookupPath(r,{follow_mount:!1});if(r=s.path,n=s.node,Ie.isMountpoint(n))throw new Ie.ErrnoError(10);if(!Ie.isDir(n.mode))throw new Ie.ErrnoError(54)}var a={type:e,opts:t,mountpoint:r,mounts:[]},l=e.mount(a);return l.mount=a,a.root=l,i?Ie.root=l:n&&(n.mounted=a,n.mount&&n.mount.mounts.push(a)),l},unmount:e=>{var t=Ie.lookupPath(e,{follow_mount:!1});if(!Ie.isMountpoint(t.node))throw new Ie.ErrnoError(28);var r=t.node,n=r.mounted,i=Ie.getMounts(n);Object.keys(Ie.nameTable).forEach((e=>{for(var t=Ie.nameTable[e];t;){var r=t.name_next;i.includes(t.mount)&&Ie.destroyNode(t),t=r}})),r.mounted=null;var o=r.mount.mounts.indexOf(n);r.mount.mounts.splice(o,1)},lookup:(e,t)=>e.node_ops.lookup(e,t),mknod:(e,t,r)=>{var n=Ie.lookupPath(e,{parent:!0}).node,i=ue.basename(e);if(!i||"."===i||".."===i)throw new Ie.ErrnoError(28);var o=Ie.mayCreate(n,i);if(o)throw new Ie.ErrnoError(o);if(!n.node_ops.mknod)throw new Ie.ErrnoError(63);return n.node_ops.mknod(n,i,t,r)},create:(e,t)=>(t=void 0!==t?t:438,t&=4095,t|=32768,Ie.mknod(e,t,0)),mkdir:(e,t)=>(t=void 0!==t?t:511,t&=1023,t|=16384,Ie.mknod(e,t,0)),mkdirTree:(e,t)=>{for(var r=e.split("/"),n="",i=0;i<r.length;++i)if(r[i]){n+="/"+r[i];try{Ie.mkdir(n,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:(e,t,r)=>(void 0===r&&(r=t,t=438),t|=8192,Ie.mknod(e,t,r)),symlink:(e,t)=>{if(!de.resolve(e))throw new Ie.ErrnoError(44);var r=Ie.lookupPath(t,{parent:!0}).node;if(!r)throw new Ie.ErrnoError(44);var n=ue.basename(t),i=Ie.mayCreate(r,n);if(i)throw new Ie.ErrnoError(i);if(!r.node_ops.symlink)throw new Ie.ErrnoError(63);return r.node_ops.symlink(r,n,e)},rename:(e,t)=>{var r,n,i=ue.dirname(e),o=ue.dirname(t),s=ue.basename(e),a=ue.basename(t);if(r=Ie.lookupPath(e,{parent:!0}).node,n=Ie.lookupPath(t,{parent:!0}).node,!r||!n)throw new Ie.ErrnoError(44);if(r.mount!==n.mount)throw new Ie.ErrnoError(75);var l,u=Ie.lookupNode(r,s),c=de.relative(e,o);if("."!==c.charAt(0))throw new Ie.ErrnoError(28);if("."!==(c=de.relative(t,i)).charAt(0))throw new Ie.ErrnoError(55);try{l=Ie.lookupNode(n,a)}catch(e){}if(u!==l){var d=Ie.isDir(u.mode),h=Ie.mayDelete(r,s,d);if(h)throw new Ie.ErrnoError(h);if(h=l?Ie.mayDelete(n,a,d):Ie.mayCreate(n,a))throw new Ie.ErrnoError(h);if(!r.node_ops.rename)throw new Ie.ErrnoError(63);if(Ie.isMountpoint(u)||l&&Ie.isMountpoint(l))throw new Ie.ErrnoError(10);if(n!==r&&(h=Ie.nodePermissions(r,"w")))throw new Ie.ErrnoError(h);Ie.hashRemoveNode(u);try{r.node_ops.rename(u,n,a)}catch(e){throw e}finally{Ie.hashAddNode(u)}}},rmdir:e=>{var t=Ie.lookupPath(e,{parent:!0}).node,r=ue.basename(e),n=Ie.lookupNode(t,r),i=Ie.mayDelete(t,r,!0);if(i)throw new Ie.ErrnoError(i);if(!t.node_ops.rmdir)throw new Ie.ErrnoError(63);if(Ie.isMountpoint(n))throw new Ie.ErrnoError(10);t.node_ops.rmdir(t,r),Ie.destroyNode(n)},readdir:e=>{var t=Ie.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Ie.ErrnoError(54);return t.node_ops.readdir(t)},unlink:e=>{var t=Ie.lookupPath(e,{parent:!0}).node;if(!t)throw new Ie.ErrnoError(44);var r=ue.basename(e),n=Ie.lookupNode(t,r),i=Ie.mayDelete(t,r,!1);if(i)throw new Ie.ErrnoError(i);if(!t.node_ops.unlink)throw new Ie.ErrnoError(63);if(Ie.isMountpoint(n))throw new Ie.ErrnoError(10);t.node_ops.unlink(t,r),Ie.destroyNode(n)},readlink:e=>{var t=Ie.lookupPath(e).node;if(!t)throw new Ie.ErrnoError(44);if(!t.node_ops.readlink)throw new Ie.ErrnoError(28);return de.resolve(Ie.getPath(t.parent),t.node_ops.readlink(t))},stat:(e,t)=>{var r=Ie.lookupPath(e,{follow:!t}).node;if(!r)throw new Ie.ErrnoError(44);if(!r.node_ops.getattr)throw new Ie.ErrnoError(63);return r.node_ops.getattr(r)},lstat:e=>Ie.stat(e,!0),chmod:(e,t,r)=>{var n;if(!(n="string"==typeof e?Ie.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new Ie.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:(e,t)=>{Ie.chmod(e,t,!0)},fchmod:(e,t)=>{var r=Ie.getStreamChecked(e);Ie.chmod(r.node,t)},chown:(e,t,r,n)=>{var i;if(!(i="string"==typeof e?Ie.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new Ie.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:(e,t,r)=>{Ie.chown(e,t,r,!0)},fchown:(e,t,r)=>{var n=Ie.getStreamChecked(e);Ie.chown(n.node,t,r)},truncate:(e,t)=>{if(t<0)throw new Ie.ErrnoError(28);var r;if(!(r="string"==typeof e?Ie.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Ie.ErrnoError(63);if(Ie.isDir(r.mode))throw new Ie.ErrnoError(31);if(!Ie.isFile(r.mode))throw new Ie.ErrnoError(28);var n=Ie.nodePermissions(r,"w");if(n)throw new Ie.ErrnoError(n);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:(e,t)=>{var r=Ie.getStreamChecked(e);if(0==(2097155&r.flags))throw new Ie.ErrnoError(28);Ie.truncate(r.node,t)},utime:(e,t,r)=>{var n=Ie.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(t,r)})},open:(e,t,r)=>{if(""===e)throw new Ie.ErrnoError(44);var n;if(r=void 0===r?438:r,r=64&(t="string"==typeof t?function(e){var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t}(t):t)?4095&r|32768:0,"object"==typeof e)n=e;else{e=ue.normalize(e);try{n=Ie.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var o=!1;if(64&t)if(n){if(128&t)throw new Ie.ErrnoError(20)}else n=Ie.mknod(e,r,0),o=!0;if(!n)throw new Ie.ErrnoError(44);if(Ie.isChrdev(n.mode)&&(t&=-513),65536&t&&!Ie.isDir(n.mode))throw new Ie.ErrnoError(54);if(!o){var s=Ie.mayOpen(n,t);if(s)throw new Ie.ErrnoError(s)}512&t&&!o&&Ie.truncate(n,0),t&=-131713;var a=Ie.createStream({node:n,path:Ie.getPath(n),flags:t,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return a.stream_ops.open&&a.stream_ops.open(a),!i.logReadFiles||1&t||(Ie.readFiles||(Ie.readFiles={}),e in Ie.readFiles||(Ie.readFiles[e]=1)),a},close:e=>{if(Ie.isClosed(e))throw new Ie.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Ie.closeStream(e.fd)}e.fd=null},isClosed:e=>null===e.fd,llseek:(e,t,r)=>{if(Ie.isClosed(e))throw new Ie.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ie.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new Ie.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:(e,t,r,n,i)=>{if(n<0||i<0)throw new Ie.ErrnoError(28);if(Ie.isClosed(e))throw new Ie.ErrnoError(8);if(1==(2097155&e.flags))throw new Ie.ErrnoError(8);if(Ie.isDir(e.node.mode))throw new Ie.ErrnoError(31);if(!e.stream_ops.read)throw new Ie.ErrnoError(28);var o=void 0!==i;if(o){if(!e.seekable)throw new Ie.ErrnoError(70)}else i=e.position;var s=e.stream_ops.read(e,t,r,n,i);return o||(e.position+=s),s},write:(e,t,r,n,i,o)=>{if(n<0||i<0)throw new Ie.ErrnoError(28);if(Ie.isClosed(e))throw new Ie.ErrnoError(8);if(0==(2097155&e.flags))throw new Ie.ErrnoError(8);if(Ie.isDir(e.node.mode))throw new Ie.ErrnoError(31);if(!e.stream_ops.write)throw new Ie.ErrnoError(28);e.seekable&&1024&e.flags&&Ie.llseek(e,0,2);var s=void 0!==i;if(s){if(!e.seekable)throw new Ie.ErrnoError(70)}else i=e.position;var a=e.stream_ops.write(e,t,r,n,i,o);return s||(e.position+=a),a},allocate:(e,t,r)=>{if(Ie.isClosed(e))throw new Ie.ErrnoError(8);if(t<0||r<=0)throw new Ie.ErrnoError(28);if(0==(2097155&e.flags))throw new Ie.ErrnoError(8);if(!Ie.isFile(e.node.mode)&&!Ie.isDir(e.node.mode))throw new Ie.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ie.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:(e,t,r,n,i)=>{if(0!=(2&n)&&0==(2&i)&&2!=(2097155&e.flags))throw new Ie.ErrnoError(2);if(1==(2097155&e.flags))throw new Ie.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ie.ErrnoError(43);return e.stream_ops.mmap(e,t,r,n,i)},msync:(e,t,r,n,i)=>e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,i):0,munmap:e=>0,ioctl:(e,t,r)=>{if(!e.stream_ops.ioctl)throw new Ie.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile:(e,t={})=>{if(t.flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error(`Invalid encoding type "${t.encoding}"`);var r,n=Ie.open(e,t.flags),i=Ie.stat(e).size,o=new Uint8Array(i);return Ie.read(n,o,0,i,0),"utf8"===t.encoding?r=pe(o,0):"binary"===t.encoding&&(r=o),Ie.close(n),r},writeFile:(e,t,r={})=>{r.flags=r.flags||577;var n=Ie.open(e,r.flags,r.mode);if("string"==typeof t){var i=new Uint8Array(_e(t)+1),o=ge(t,i,0,i.length);Ie.write(n,i,0,o,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Ie.write(n,t,0,t.byteLength,void 0,r.canOwn)}Ie.close(n)},cwd:()=>Ie.currentPath,chdir:e=>{var t=Ie.lookupPath(e,{follow:!0});if(null===t.node)throw new Ie.ErrnoError(44);if(!Ie.isDir(t.node.mode))throw new Ie.ErrnoError(54);var r=Ie.nodePermissions(t.node,"x");if(r)throw new Ie.ErrnoError(r);Ie.currentPath=t.path},createDefaultDirectories:()=>{Ie.mkdir("/tmp"),Ie.mkdir("/home"),Ie.mkdir("/home/web_user")},createDefaultDevices:()=>{Ie.mkdir("/dev"),Ie.registerDevice(Ie.makedev(1,3),{read:()=>0,write:(e,t,r,n,i)=>n}),Ie.mkdev("/dev/null",Ie.makedev(1,3)),Ee.register(Ie.makedev(5,0),Ee.default_tty_ops),Ee.register(Ie.makedev(6,0),Ee.default_tty1_ops),Ie.mkdev("/dev/tty",Ie.makedev(5,0)),Ie.mkdev("/dev/tty1",Ie.makedev(6,0));var e=new Uint8Array(1024),t=0,r=()=>(0===t&&(t=ce(e).byteLength),e[--t]);Ie.createDevice("/dev","random",r),Ie.createDevice("/dev","urandom",r),Ie.mkdir("/dev/shm"),Ie.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{Ie.mkdir("/proc");var e=Ie.mkdir("/proc/self");Ie.mkdir("/proc/self/fd"),Ie.mount({mount:()=>{var t=Ie.createNode(e,"fd",16895,73);return t.node_ops={lookup:(e,t)=>{var r=+t,n=Ie.getStreamChecked(r),i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>n.path}};return i.parent=i,i}},t}},{},"/proc/self/fd")},createStandardStreams:()=>{i.stdin?Ie.createDevice("/dev","stdin",i.stdin):Ie.symlink("/dev/tty","/dev/stdin"),i.stdout?Ie.createDevice("/dev","stdout",null,i.stdout):Ie.symlink("/dev/tty","/dev/stdout"),i.stderr?Ie.createDevice("/dev","stderr",null,i.stderr):Ie.symlink("/dev/tty1","/dev/stderr"),Ie.open("/dev/stdin",0),Ie.open("/dev/stdout",1),Ie.open("/dev/stderr",1)},ensureErrnoError:()=>{Ie.ErrnoError||(Ie.ErrnoError=function(e,t){this.name="ErrnoError",this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Ie.ErrnoError.prototype=new Error,Ie.ErrnoError.prototype.constructor=Ie.ErrnoError,[44].forEach((e=>{Ie.genericErrors[e]=new Ie.ErrnoError(e),Ie.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:()=>{Ie.ensureErrnoError(),Ie.nameTable=new Array(4096),Ie.mount(ye,{},"/"),Ie.createDefaultDirectories(),Ie.createDefaultDevices(),Ie.createSpecialDirectories(),Ie.filesystems={MEMFS:ye}},init:(e,t,r)=>{Ie.init.initialized=!0,Ie.ensureErrnoError(),i.stdin=e||i.stdin,i.stdout=t||i.stdout,i.stderr=r||i.stderr,Ie.createStandardStreams()},quit:()=>{Ie.init.initialized=!1;for(var e=0;e<Ie.streams.length;e++){var t=Ie.streams[e];t&&Ie.close(t)}},findObject:(e,t)=>{var r=Ie.analyzePath(e,t);return r.exists?r.object:null},analyzePath:(e,t)=>{try{e=(n=Ie.lookupPath(e,{follow:!t})).path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=Ie.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=ue.basename(e),n=Ie.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createPath:(e,t,r,n)=>{e="string"==typeof e?e:Ie.getPath(e);for(var i=t.split("/").reverse();i.length;){var o=i.pop();if(o){var s=ue.join2(e,o);try{Ie.mkdir(s)}catch(e){}e=s}}return s},createFile:(e,t,r,n,i)=>{var o=ue.join2("string"==typeof e?e:Ie.getPath(e),t),s=we(n,i);return Ie.create(o,s)},createDataFile:(e,t,r,n,i,o)=>{var s=t;e&&(e="string"==typeof e?e:Ie.getPath(e),s=t?ue.join2(e,t):e);var a=we(n,i),l=Ie.create(s,a);if(r){if("string"==typeof r){for(var u=new Array(r.length),c=0,d=r.length;c<d;++c)u[c]=r.charCodeAt(c);r=u}Ie.chmod(l,146|a);var h=Ie.open(l,577);Ie.write(h,r,0,r.length,0,o),Ie.close(h),Ie.chmod(l,a)}return l},createDevice:(e,t,r,n)=>{var i=ue.join2("string"==typeof e?e:Ie.getPath(e),t),o=we(!!r,!!n);Ie.createDevice.major||(Ie.createDevice.major=64);var s=Ie.makedev(Ie.createDevice.major++,0);return Ie.registerDevice(s,{open:e=>{e.seekable=!1},close:e=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(e,t,n,i,o)=>{for(var s=0,a=0;a<i;a++){var l;try{l=r()}catch(e){throw new Ie.ErrnoError(29)}if(void 0===l&&0===s)throw new Ie.ErrnoError(6);if(null==l)break;s++,t[n+a]=l}return s&&(e.node.timestamp=Date.now()),s},write:(e,t,r,i,o)=>{for(var s=0;s<i;s++)try{n(t[r+s])}catch(e){throw new Ie.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),s}}),Ie.mkdev(i,o,s)},forceLoadFile:e=>{if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!o)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=me(o(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new Ie.ErrnoError(29)}},createLazyFile:(e,t,r,n,i)=>{function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,s=1048576;i||(s=n);var a=this;a.setDataGetter((e=>{var t=e*s,i=(e+1)*s-1;if(i=Math.min(i,n-1),void 0===a.chunks[e]&&(a.chunks[e]=((e,t)=>{if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",r,!1),n!==s&&i.setRequestHeader("Range","bytes="+e+"-"+t),i.responseType="arraybuffer",i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+r+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):me(i.responseText||"",!0)})(t,i)),void 0===a.chunks[e])throw new Error("doXHR failed!");return a.chunks[e]})),!o&&n||(s=n=1,n=this.getter(0).length,s=n,E("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=s,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!h)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new o;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var a={isDevice:!1,contents:s}}else a={isDevice:!1,url:r};var l=Ie.createFile(e,t,a,n,i);a.contents?l.contents=a.contents:a.url&&(l.contents=null,l.url=a.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var u={};function c(e,t,r,n,i){var o=e.node.contents;if(i>=o.length)return 0;var s=Math.min(o.length-i,n);if(o.slice)for(var a=0;a<s;a++)t[r+a]=o[i+a];else for(a=0;a<s;a++)t[r+a]=o.get(i+a);return s}return Object.keys(l.stream_ops).forEach((e=>{var t=l.stream_ops[e];u[e]=function(){return Ie.forceLoadFile(l),t.apply(null,arguments)}})),u.read=(e,t,r,n,i)=>(Ie.forceLoadFile(l),c(e,t,r,n,i)),u.mmap=(e,t,r,n,i)=>{Ie.forceLoadFile(l);var o=ve(t);if(!o)throw new Ie.ErrnoError(48);return c(e,R,o,t,r),{ptr:o,allocated:!0}},l.stream_ops=u,l}},Re=(e,t)=>e?pe(A,e,t):"",Ae={DEFAULT_POLLMASK:5,calculateAt:function(e,t,r){if(ue.isAbs(t))return t;var n;if(n=-100===e?Ie.cwd():Ae.getStreamFromFD(e).path,0==t.length){if(!r)throw new Ie.ErrnoError(44);return n}return ue.join2(n,t)},doStat:function(e,t,r){try{var n=e(t)}catch(e){if(e&&e.node&&ue.normalize(t)!==ue.normalize(Ie.getPath(e.node)))return-54;throw e}T[r>>2]=n.dev,T[r+4>>2]=n.mode,M[r+8>>2]=n.nlink,T[r+12>>2]=n.uid,T[r+16>>2]=n.gid,T[r+20>>2]=n.rdev,K=[n.size>>>0,($=n.size,+Math.abs($)>=1?$>0?+Math.floor($/4294967296)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],T[r+24>>2]=K[0],T[r+28>>2]=K[1],T[r+32>>2]=4096,T[r+36>>2]=n.blocks;var i=n.atime.getTime(),o=n.mtime.getTime(),s=n.ctime.getTime();return K=[Math.floor(i/1e3)>>>0,($=Math.floor(i/1e3),+Math.abs($)>=1?$>0?+Math.floor($/4294967296)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],T[r+40>>2]=K[0],T[r+44>>2]=K[1],M[r+48>>2]=i%1e3*1e3,K=[Math.floor(o/1e3)>>>0,($=Math.floor(o/1e3),+Math.abs($)>=1?$>0?+Math.floor($/4294967296)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],T[r+56>>2]=K[0],T[r+60>>2]=K[1],M[r+64>>2]=o%1e3*1e3,K=[Math.floor(s/1e3)>>>0,($=Math.floor(s/1e3),+Math.abs($)>=1?$>0?+Math.floor($/4294967296)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],T[r+72>>2]=K[0],T[r+76>>2]=K[1],M[r+80>>2]=s%1e3*1e3,K=[n.ino>>>0,($=n.ino,+Math.abs($)>=1?$>0?+Math.floor($/4294967296)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],T[r+88>>2]=K[0],T[r+92>>2]=K[1],0},doMsync:function(e,t,r,n,i){if(!Ie.isFile(t.node.mode))throw new Ie.ErrnoError(43);if(2&n)return 0;var o=A.slice(e,e+r);Ie.msync(t,o,i,r,n)},varargs:void 0,get:()=>(Ae.varargs+=4,T[Ae.varargs-4>>2]),getStr:e=>Re(e),getStreamFromFD:function(e){return Ie.getStreamChecked(e)}};function Oe(e){if(f)return vr(1,1,e);I=e,z()||(Me.terminateAllThreads(),i.onExit&&i.onExit(e),L=!0),c(e,new oe(e))}var Ne=(e,t)=>{if(I=e,f)throw De(e),"unwind";Oe(e)},Te=e=>{if(e instanceof oe||"unwind"==e)return I;c(1,e)},Me={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init:function(){f?Me.initWorker():Me.initMainThread()},initMainThread:function(){for(var e=10;e--;)Me.allocateUnusedWorker();V((()=>{X(),Me.loadWasmModuleToAllWorkers((()=>Q()))}))},initWorker:function(){S=!1},setExitStatus:function(e){I=e},terminateAllThreads__deps:["$terminateWorker"],terminateAllThreads:function(){for(var e of Me.runningWorkers)se(e);for(var e of Me.unusedWorkers)se(e);Me.unusedWorkers=[],Me.runningWorkers=[],Me.pthreads=[]},returnWorkerToPool:function(e){var t=e.pthread_ptr;delete Me.pthreads[t],Me.unusedWorkers.push(e),Me.runningWorkers.splice(Me.runningWorkers.indexOf(e),1),e.pthread_ptr=0,tn(t)},receiveObjectTransfer:function(e){},threadInitTLS:function(){Me.tlsInitFunctions.forEach((e=>e()))},loadWasmModuleToWorker:e=>new Promise((t=>{e.onmessage=r=>{var n=r.data,o=n.cmd;if(n.targetThread&&n.targetThread!=Yr()){var s=Me.pthreads[n.targetThread];s?s.postMessage(n,n.transferList):v('Internal error! Worker sent a message "'+o+'" to target pthread '+n.targetThread+", but that thread no longer exists!")}else{var a;"checkMailbox"===o?sr():"spawnThread"===o?le(n):"cleanupThread"===o?ae(n.thread):"killThread"===o?function(e){var t=Me.pthreads[e];delete Me.pthreads[e],se(t),tn(e),Me.runningWorkers.splice(Me.runningWorkers.indexOf(t),1),t.pthread_ptr=0}(n.thread):"cancelThread"===o?(a=n.thread,Me.pthreads[a].postMessage({cmd:"cancel"})):"loaded"===o?(e.loaded=!0,t(e)):"alert"===o?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"callHandler"===o?i[n.handler](...n.args):o&&v("worker sent an unknown command "+o)}},e.onerror=e=>{throw v("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e};var r=[];for(var n of["onExit","onAbort","print","printErr"])i.hasOwnProperty(n)&&r.push(n);e.postMessage({cmd:"load",handlers:r,urlOrBlob:i.mainScriptUrlOrBlob,wasmMemory:y,wasmModule:w})})),loadWasmModuleToAllWorkers:function(e){if(f)return e();Promise.all(Me.unusedWorkers.map(Me.loadWasmModuleToWorker)).then(e)},allocateUnusedWorker:function(){var e;g("a.worker.js"),e=new Worker("a.worker.js"),Me.unusedWorkers.push(e)},getNewWorker:function(){return 0==Me.unusedWorkers.length&&(Me.allocateUnusedWorker(),Me.loadWasmModuleToWorker(Me.unusedWorkers[0])),Me.unusedWorkers.pop()}};i.PThread=Me;var Ce=e=>{for(;e.length>0;)e.shift()(i)};function De(e){if(f)return vr(2,0,e);Ne(e)}i.establishStackSpace=function(){var e=Yr(),t=T[e+52>>2],r=T[e+56>>2];an(t,t-r),un(t)};var Le=[],ke=e=>{var t=Le[e];return t||(e>=Le.length&&(Le.length=e+1),Le[e]=t=x.get(e)),t};function Pe(e,t,r,n){return f?vr(3,1,e,t,r,n):xe(e,t,r,n)}function xe(e,t,r,n){if("undefined"==typeof SharedArrayBuffer)return v("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var i=[];if(f&&0===i.length)return Pe(e,t,r,n);var o={startRoutine:r,pthread_ptr:e,arg:n,transferList:i};return f?(o.cmd="spawnThread",postMessage(o,i),0):le(o)}function Fe(e,t,r){if(f)return vr(4,1,e,t,r);Ae.varargs=r;try{var n=Ae.getStreamFromFD(e);switch(t){case 0:return(i=Ae.get())<0?-28:Ie.createStream(n,i).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var i=Ae.get();return n.flags|=i,0;case 5:return i=Ae.get(),O[i+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return 28,T[qr()>>2]=28,-1;default:return-28}}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}function He(e,t){if(f)return vr(5,1,e,t);try{var r=Ae.getStreamFromFD(e);return Ae.doStat(Ie.stat,r.path,t)}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}i.invokeEntryPoint=function(e,t){var r;r=ke(e)(t),z()?Me.setExitStatus(r):rn(r)};var Ue=(e,t,r)=>ge(e,A,t,r);function Be(e,t){if(f)return vr(6,1,e,t);try{if(0===t)return-28;var r=Ie.cwd(),n=_e(r)+1;return t<n?-68:(Ue(r,e,t),n)}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}function je(e,t,r){if(f)return vr(7,1,e,t,r);try{var n=Ae.getStreamFromFD(e);n.getdents||(n.getdents=Ie.readdir(n.path));for(var i=280,o=0,s=Ie.llseek(n,0,1),a=Math.floor(s/i);a<n.getdents.length&&o+i<=r;){var l,u,c=n.getdents[a];if("."===c)l=n.node.id,u=4;else if(".."===c)l=Ie.lookupPath(n.path,{parent:!0}).node.id,u=4;else{var d=Ie.lookupNode(n.node,c);l=d.id,u=Ie.isChrdev(d.mode)?2:Ie.isDir(d.mode)?4:Ie.isLink(d.mode)?10:8}K=[l>>>0,($=l,+Math.abs($)>=1?$>0?+Math.floor($/4294967296)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],T[t+o>>2]=K[0],T[t+o+4>>2]=K[1],K=[(a+1)*i>>>0,($=(a+1)*i,+Math.abs($)>=1?$>0?+Math.floor($/4294967296)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],T[t+o+8>>2]=K[0],T[t+o+12>>2]=K[1],O[t+o+16>>1]=280,R[t+o+18>>0]=u,Ue(c,t+o+19,256),o+=i,a+=1}return Ie.llseek(n,a*i,0),o}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}function Ge(e,t,r){if(f)return vr(8,1,e,t,r);Ae.varargs=r;try{var n=Ae.getStreamFromFD(e);switch(t){case 21509:return n.tty?0:-59;case 21505:if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var i=n.tty.ops.ioctl_tcgets(n),o=Ae.get();T[o>>2]=i.c_iflag||0,T[o+4>>2]=i.c_oflag||0,T[o+8>>2]=i.c_cflag||0,T[o+12>>2]=i.c_lflag||0;for(var s=0;s<32;s++)R[o+s+17>>0]=i.c_cc[s]||0;return 0}return 0;case 21510:case 21511:case 21512:return n.tty?0:-59;case 21506:case 21507:case 21508:if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){o=Ae.get();var a=T[o>>2],l=T[o+4>>2],u=T[o+8>>2],c=T[o+12>>2],d=[];for(s=0;s<32;s++)d.push(R[o+s+17>>0]);return n.tty.ops.ioctl_tcsets(n.tty,t,{c_iflag:a,c_oflag:l,c_cflag:u,c_lflag:c,c_cc:d})}return 0;case 21519:return n.tty?(o=Ae.get(),T[o>>2]=0,0):-59;case 21520:return n.tty?-28:-59;case 21531:return o=Ae.get(),Ie.ioctl(n,t,o);case 21523:if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var h=n.tty.ops.ioctl_tiocgwinsz(n.tty);o=Ae.get(),O[o>>1]=h[0],O[o+2>>1]=h[1]}return 0;case 21524:case 21515:return n.tty?0:-59;default:return-28}}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}function ze(e,t){if(f)return vr(9,1,e,t);try{return e=Ae.getStr(e),Ae.doStat(Ie.lstat,e,t)}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}function We(e,t,r){if(f)return vr(10,1,e,t,r);try{return t=Ae.getStr(t),t=Ae.calculateAt(e,t),"/"===(t=ue.normalize(t))[t.length-1]&&(t=t.substr(0,t.length-1)),Ie.mkdir(t,r,0),0}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}function Ve(e,t,r,n){if(f)return vr(11,1,e,t,r,n);try{t=Ae.getStr(t);var i=256&n,o=4096&n;return n&=-6401,t=Ae.calculateAt(e,t,o),Ae.doStat(i?Ie.lstat:Ie.stat,t,r)}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}function Ze(e,t,r,n){if(f)return vr(12,1,e,t,r,n);Ae.varargs=n;try{t=Ae.getStr(t),t=Ae.calculateAt(e,t);var i=n?Ae.get():0;return Ie.open(t,r,i).fd}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}function $e(e,t,r,n){if(f)return vr(13,1,e,t,r,n);try{if(t=Ae.getStr(t),t=Ae.calculateAt(e,t),n<=0)return-28;var i=Ie.readlink(t),o=Math.min(n,_e(i)),s=R[r+o];return Ue(i,r,n+1),R[r+o]=s,o}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}function Ke(e,t,r,n){if(f)return vr(14,1,e,t,r,n);try{return t=Ae.getStr(t),n=Ae.getStr(n),t=Ae.calculateAt(e,t),n=Ae.calculateAt(r,n),Ie.rename(t,n),0}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}function qe(e){if(f)return vr(15,1,e);try{return e=Ae.getStr(e),Ie.rmdir(e),0}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}function Ye(e,t){if(f)return vr(16,1,e,t);try{return e=Ae.getStr(e),Ae.doStat(Ie.stat,e,t)}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}function Je(e,t,r){if(f)return vr(17,1,e,t,r);try{return t=Ae.getStr(t),t=Ae.calculateAt(e,t),0===r?Ie.unlink(t):512===r?Ie.rmdir(t):ee("Invalid flags passed to unlinkat"),0}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}var Xe={};function Qe(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function et(e){return this.fromWireType(T[e>>2])}var tt={},rt={},nt={},it=void 0;function ot(e){throw new it(e)}function st(e,t,r){function n(t){var n=r(t);n.length!==e.length&&ot("Mismatched type converter count");for(var i=0;i<e.length;++i)ht(e[i],n[i])}e.forEach((function(e){nt[e]=t}));var i=new Array(t.length),o=[],s=0;t.forEach(((e,t)=>{rt.hasOwnProperty(e)?i[t]=rt[e]:(o.push(e),tt.hasOwnProperty(e)||(tt[e]=[]),tt[e].push((()=>{i[t]=rt[e],++s===o.length&&n(i)})))})),0===o.length&&n(i)}function at(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var lt=void 0;function ut(e){for(var t="",r=e;A[r];)t+=lt[A[r++]];return t}var ct=void 0;function dt(e){throw new ct(e)}function ht(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(e,t,r={}){var n=t.name;if(e||dt(`type "${n}" must have a positive integer typeid pointer`),rt.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;dt(`Cannot register type '${n}' twice`)}if(rt[e]=t,delete nt[e],tt.hasOwnProperty(e)){var i=tt[e];delete tt[e],i.forEach((e=>e()))}}(e,t,r)}function pt(e){dt(e.$$.ptrType.registeredClass.name+" instance already deleted")}var ft=!1;function _t(e){}function gt(e){e.count.value-=1,0===e.count.value&&function(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}(e)}function mt(e,t,r){if(t===r)return e;if(void 0===r.baseClass)return null;var n=mt(e,t,r.baseClass);return null===n?null:r.downcast(n)}var Et={};var vt=[];function yt(){for(;vt.length;){var e=vt.pop();e.$$.deleteScheduled=!1,e.delete()}}var bt=void 0;var wt={};function St(e,t){return t.ptrType&&t.ptr||ot("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&ot("Both smartPtrType and smartPtr must be specified"),t.count={value:1},It(Object.create(e,{$$:{value:t}}))}var It=function(e){return"undefined"==typeof FinalizationRegistry?(It=e=>e,e):(ft=new FinalizationRegistry((e=>{gt(e.$$)})),_t=e=>ft.unregister(e),(It=e=>{var t=e.$$;if(t.smartPtr){var r={$$:t};ft.register(e,r,e)}return e})(e))};function Rt(){}function At(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?"_"+e:e}function Ot(e,t){return{[e=At(e)]:function(){return t.apply(this,arguments)}}[e]}function Nt(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||dt(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}function Tt(e,t,r){i.hasOwnProperty(e)?((void 0===r||void 0!==i[e].overloadTable&&void 0!==i[e].overloadTable[r])&&dt(`Cannot register public name '${e}' twice`),Nt(i,e,e),i.hasOwnProperty(r)&&dt(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),i[e].overloadTable[r]=t):(i[e]=t,void 0!==r&&(i[e].numArguments=r))}function Mt(e,t,r,n,i,o,s,a){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=i,this.getActualType=o,this.upcast=s,this.downcast=a,this.pureVirtualFunctions=[]}function Ct(e,t,r){for(;t!==r;)t.upcast||dt(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e}function Dt(e,t){if(null===t)return this.isReference&&dt("null is not a valid "+this.name),0;t.$$||dt(`Cannot pass "${qt(t)}" as a ${this.name}`),t.$$.ptr||dt("Cannot pass deleted object as a pointer of type "+this.name);var r=t.$$.ptrType.registeredClass;return Ct(t.$$.ptr,r,this.registeredClass)}function Lt(e,t){var r;if(null===t)return this.isReference&&dt("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t.$$||dt(`Cannot pass "${qt(t)}" as a ${this.name}`),t.$$.ptr||dt("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&dt(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass;if(r=Ct(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&dt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:dt(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var i=t.clone();r=this.rawShare(r,Kt.toHandle((function(){i.delete()}))),null!==e&&e.push(this.rawDestructor,r)}break;default:dt("Unsupporting sharing policy")}return r}function kt(e,t){if(null===t)return this.isReference&&dt("null is not a valid "+this.name),0;t.$$||dt(`Cannot pass "${qt(t)}" as a ${this.name}`),t.$$.ptr||dt("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&dt(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass;return Ct(t.$$.ptr,r,this.registeredClass)}function Pt(e,t,r,n,i,o,s,a,l,u,c){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=i,this.pointeeType=o,this.sharingPolicy=s,this.rawGetPointee=a,this.rawConstructor=l,this.rawShare=u,this.rawDestructor=c,i||void 0!==t.baseClass?this.toWireType=Lt:n?(this.toWireType=Dt,this.destructorFunction=null):(this.toWireType=kt,this.destructorFunction=null)}function xt(e,t,r){i.hasOwnProperty(e)||ot("Replacing nonexistant public symbol"),void 0!==i[e].overloadTable&&void 0!==r?i[e].overloadTable[r]=t:(i[e]=t,i[e].argCount=r)}var Ft=(e,t,r)=>e.includes("j")?((e,t,r)=>{var n=i["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)})(e,t,r):ke(t).apply(null,r);function Ht(e,t){var r,n,i,o=(e=ut(e)).includes("j")?(r=e,n=t,i=[],function(){return i.length=0,Object.assign(i,arguments),Ft(r,n,i)}):ke(t);return"function"!=typeof o&&dt(`unknown function pointer with signature ${e}: ${t}`),o}var Ut=void 0;function Bt(e){var t=Xr(e),r=ut(t);return Kr(t),r}function jt(e,t){var r=[],n={};throw t.forEach((function e(t){n[t]||rt[t]||(nt[t]?nt[t].forEach(e):(r.push(t),n[t]=!0))})),new Ut(e+": "+r.map(Bt).join([", "]))}function Gt(e,t){for(var r=[],n=0;n<e;n++)r.push(M[t+4*n>>2]);return r}function zt(e,t){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var r=Ot(e.name||"unknownFunctionName",(function(){}));r.prototype=e.prototype;var n=new r,i=e.apply(n,t);return i instanceof Object?i:n}function Wt(e,t,r,n,i,o){var s=t.length;s<2&&dt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==r,l=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){l=!0;break}var c="void"!==t[0].name,d="",h="";for(u=0;u<s-2;++u)d+=(0!==u?", ":"")+"arg"+u,h+=(0!==u?", ":"")+"arg"+u+"Wired";var p=`\n        return function ${At(e)}(${d}) {\n        if (arguments.length !== ${s-2}) {\n          throwBindingError('function ${e} called with ${arguments.length} arguments, expected ${s-2} args!');\n        }`;l&&(p+="var destructors = [];\n");var f=l?"destructors":"null",_=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],g=[dt,n,i,Qe,t[0],t[1]];for(a&&(p+="var thisWired = classParam.toWireType("+f+", this);\n"),u=0;u<s-2;++u)p+="var arg"+u+"Wired = argType"+u+".toWireType("+f+", arg"+u+"); // "+t[u+2].name+"\n",_.push("argType"+u),g.push(t[u+2]);if(a&&(h="thisWired"+(h.length>0?", ":"")+h),p+=(c||o?"var rv = ":"")+"invoker(fn"+(h.length>0?", ":"")+h+");\n",l)p+="runDestructors(destructors);\n";else for(u=a?1:2;u<t.length;++u){var m=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(p+=m+"_dtor("+m+"); // "+t[u].name+"\n",_.push(m+"_dtor"),g.push(t[u].destructorFunction))}return c&&(p+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),p+="}\n",_.push(p),zt(Function,_).apply(null,g)}function Vt(){this.allocated=[void 0],this.freelist=[]}var Zt=new Vt;function $t(e){e>=Zt.reserved&&0==--Zt.get(e).refcount&&Zt.free(e)}var Kt={toValue:e=>(e||dt("Cannot use deleted val. handle = "+e),Zt.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Zt.allocate({refcount:1,value:e})}}};function qt(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function Yt(e,t){switch(t){case 2:return function(e){return this.fromWireType(C[e>>2])};case 3:return function(e){return this.fromWireType(D[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Jt(e,t,r){switch(t){case 0:return r?function(e){return R[e]}:function(e){return A[e]};case 1:return r?function(e){return O[e>>1]}:function(e){return N[e>>1]};case 2:return r?function(e){return T[e>>2]}:function(e){return M[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var Xt="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,Qt=(e,t)=>{for(var r=e,n=r>>1,i=n+t/2;!(n>=i)&&N[n];)++n;if((r=n<<1)-e>32&&Xt)return Xt.decode(A.slice(e,r));for(var o="",s=0;!(s>=t/2);++s){var a=O[e+2*s>>1];if(0==a)break;o+=String.fromCharCode(a)}return o},er=(e,t,r)=>{if(void 0===r&&(r=2147483647),r<2)return 0;for(var n=t,i=(r-=2)<2*e.length?r/2:e.length,o=0;o<i;++o){var s=e.charCodeAt(o);O[t>>1]=s,t+=2}return O[t>>1]=0,t-n},tr=e=>2*e.length,rr=(e,t)=>{for(var r=0,n="";!(r>=t/4);){var i=T[e+4*r>>2];if(0==i)break;if(++r,i>=65536){var o=i-65536;n+=String.fromCharCode(55296|o>>10,56320|1023&o)}else n+=String.fromCharCode(i)}return n},nr=(e,t,r)=>{if(void 0===r&&(r=2147483647),r<4)return 0;for(var n=t,i=n+r-4,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),T[t>>2]=s,(t+=4)+4>i)break}return T[t>>2]=0,t-n},ir=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t};function or(e){if("function"==typeof Atomics.waitAsync){Atomics.waitAsync(T,e>>2,e).value.then(sr);var t=e+128;Atomics.store(T,t>>2,1)}}i.__emscripten_thread_mailbox_await=or;var sr=function(){var e=Yr();e&&(or(e),(e=>{if(!L)try{e(),(()=>{if(!z())try{f?rn(I):Ne(I)}catch(e){Te(e)}})()}catch(e){Te(e)}})((()=>nn())))};function ar(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}i.checkMailbox=sr;var lr=e=>e%4==0&&(e%100!=0||e%400==0),ur=[0,31,60,91,121,152,182,213,244,274,305,335],cr=[0,31,59,90,120,151,181,212,243,273,304,334],dr=e=>(lr(e.getFullYear())?ur:cr)[e.getMonth()]+e.getDate()-1;function hr(e,t,r,n,i,o,s,a){if(f)return vr(18,1,e,t,r,n,i,o,s,a);var l=ar(i,o);try{if(isNaN(l))return 61;var u=Ae.getStreamFromFD(n),c=Ie.mmap(u,e,l,t,r),d=c.ptr;return T[s>>2]=c.allocated,M[a>>2]=d,0}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}function pr(e,t,r,n,i,o,s){if(f)return vr(19,1,e,t,r,n,i,o,s);var a=ar(o,s);try{if(isNaN(a))return 61;var l=Ae.getStreamFromFD(i);2&r&&Ae.doMsync(e,l,t,n,a),Ie.munmap(l)}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return-e.errno}}var fr,_r=e=>{var t=_e(e)+1,r=$r(t);return r&&Ue(e,r,t),r},gr=[],mr=(e,t)=>{var r;for(gr.length=0,t>>=2;r=A[e++];)t+=105!=r&t,gr.push(105==r?T[t]:D[t++>>1]),++t;return gr},Er=e=>{var t=ln(),r=e();return un(t),r},vr=function(e,t){var r=arguments.length-2,n=arguments;return Er((()=>{for(var i=r,o=cn(8*i),s=o>>3,a=0;a<r;a++){var l=n[2+a];D[s+a]=l}return en(e,i,o,t)}))},yr=(e,t,r,n)=>{var i=mr(t,r);return f?vr.apply(null,[-1-e,n].concat(i)):ie[e].apply(null,i)};fr=()=>performance.timeOrigin+performance.now();var br=[],wr={},Sr=()=>{if(!Sr.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:u||"./this.program"};for(var t in wr)void 0===wr[t]?delete e[t]:e[t]=wr[t];var r=[];for(var t in e)r.push(`${t}=${e[t]}`);Sr.strings=r}return Sr.strings};function Ir(e,t){if(f)return vr(20,1,e,t);var r=0;return Sr().forEach((function(n,i){var o=t+r;M[e+4*i>>2]=o,((e,t)=>{for(var r=0;r<e.length;++r)R[t++>>0]=e.charCodeAt(r);R[t>>0]=0})(n,o),r+=n.length+1})),0}function Rr(e,t){if(f)return vr(21,1,e,t);var r=Sr();M[e>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),M[t>>2]=n,0}function Ar(e){if(f)return vr(22,1,e);try{var t=Ae.getStreamFromFD(e);return Ie.close(t),0}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return e.errno}}function Or(e,t){if(f)return vr(23,1,e,t);try{var r=Ae.getStreamFromFD(e),n=r.tty?2:Ie.isDir(r.mode)?3:Ie.isLink(r.mode)?7:4;return R[t>>0]=n,O[t+2>>1]=0,K=[0,($=0,+Math.abs($)>=1?$>0?+Math.floor($/4294967296)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],T[t+8>>2]=K[0],T[t+12>>2]=K[1],K=[0,($=0,+Math.abs($)>=1?$>0?+Math.floor($/4294967296)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],T[t+16>>2]=K[0],T[t+20>>2]=K[1],0}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return e.errno}}function Nr(e,t,r,n){if(f)return vr(24,1,e,t,r,n);try{var i=((e,t,r,n)=>{for(var i=0,o=0;o<r;o++){var s=M[t>>2],a=M[t+4>>2];t+=8;var l=Ie.read(e,R,s,a,n);if(l<0)return-1;if(i+=l,l<a)break;void 0!==n&&(n+=l)}return i})(Ae.getStreamFromFD(e),t,r);return M[n>>2]=i,0}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return e.errno}}function Tr(e,t,r,n,i){if(f)return vr(25,1,e,t,r,n,i);var o=ar(t,r);try{if(isNaN(o))return 61;var s=Ae.getStreamFromFD(e);return Ie.llseek(s,o,n),K=[s.position>>>0,($=s.position,+Math.abs($)>=1?$>0?+Math.floor($/4294967296)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)],T[i>>2]=K[0],T[i+4>>2]=K[1],s.getdents&&0===o&&0===n&&(s.getdents=null),0}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return e.errno}}function Mr(e,t,r,n){if(f)return vr(26,1,e,t,r,n);try{var i=((e,t,r,n)=>{for(var i=0,o=0;o<r;o++){var s=M[t>>2],a=M[t+4>>2];t+=8;var l=Ie.write(e,R,s,a,n);if(l<0)return-1;i+=l,void 0!==n&&(n+=l)}return i})(Ae.getStreamFromFD(e),t,r);return M[n>>2]=i,0}catch(e){if(void 0===Ie||"ErrnoError"!==e.name)throw e;return e.errno}}var Cr=[31,29,31,30,31,30,31,31,30,31,30,31],Dr=[31,28,31,30,31,30,31,31,30,31,30,31],Lr=(e,t)=>{R.set(e,t)},kr=(e,t,r,n)=>{var i=T[n+40>>2],o={tm_sec:T[n>>2],tm_min:T[n+4>>2],tm_hour:T[n+8>>2],tm_mday:T[n+12>>2],tm_mon:T[n+16>>2],tm_year:T[n+20>>2],tm_wday:T[n+24>>2],tm_yday:T[n+28>>2],tm_isdst:T[n+32>>2],tm_gmtoff:T[n+36>>2],tm_zone:i?Re(i):""},s=Re(r),a={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in a)s=s.replace(new RegExp(l,"g"),a[l]);var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"];function d(e,t,r){for(var n="number"==typeof e?e.toString():e||"";n.length<t;)n=r[0]+n;return n}function h(e,t){return d(e,t,"0")}function p(e,t){function r(e){return e<0?-1:e>0?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function f(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function _(e){var t=((e,t)=>{for(var r=new Date(e.getTime());t>0;){var n=lr(r.getFullYear()),i=r.getMonth(),o=(n?Cr:Dr)[i];if(!(t>o-r.getDate()))return r.setDate(r.getDate()+t),r;t-=o-r.getDate()+1,r.setDate(1),i<11?r.setMonth(i+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r})(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),i=f(r),o=f(n);return p(i,t)<=0?p(o,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var g={"%a":e=>u[e.tm_wday].substring(0,3),"%A":e=>u[e.tm_wday],"%b":e=>c[e.tm_mon].substring(0,3),"%B":e=>c[e.tm_mon],"%C":e=>h((e.tm_year+1900)/100|0,2),"%d":e=>h(e.tm_mday,2),"%e":e=>d(e.tm_mday,2," "),"%g":e=>_(e).toString().substring(2),"%G":e=>_(e),"%H":e=>h(e.tm_hour,2),"%I":e=>{var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),h(t,2)},"%j":e=>h(e.tm_mday+((e,t)=>{for(var r=0,n=0;n<=t;r+=e[n++]);return r})(lr(e.tm_year+1900)?Cr:Dr,e.tm_mon-1),3),"%m":e=>h(e.tm_mon+1,2),"%M":e=>h(e.tm_min,2),"%n":()=>"\n","%p":e=>e.tm_hour>=0&&e.tm_hour<12?"AM":"PM","%S":e=>h(e.tm_sec,2),"%t":()=>"\t","%u":e=>e.tm_wday||7,"%U":e=>{var t=e.tm_yday+7-e.tm_wday;return h(Math.floor(t/7),2)},"%V":e=>{var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var r=(e.tm_wday+371-e.tm_yday)%7;4==r||3==r&&lr(e.tm_year)||(t=1)}}else{t=52;var n=(e.tm_wday+7-e.tm_yday-1)%7;(4==n||5==n&&lr(e.tm_year%400-1))&&t++}return h(t,2)},"%w":e=>e.tm_wday,"%W":e=>{var t=e.tm_yday+7-(e.tm_wday+6)%7;return h(Math.floor(t/7),2)},"%y":e=>(e.tm_year+1900).toString().substring(2),"%Y":e=>e.tm_year+1900,"%z":e=>{var t=e.tm_gmtoff,r=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(r?"+":"-")+String("0000"+t).slice(-4)},"%Z":e=>e.tm_zone,"%%":()=>"%"};for(var l in s=s.replace(/%%/g,"\0\0"),g)s.includes(l)&&(s=s.replace(new RegExp(l,"g"),g[l](o)));var m=me(s=s.replace(/\0\0/g,"%"),!1);return m.length>t?0:(Lr(m,e),m.length-1)};function Pr(e){return i["_"+e]}var xr=function(e,t,r,n,i){var o={string:e=>{var t=0;return null!=e&&0!==e&&(t=(e=>{var t=_e(e)+1,r=cn(t);return Ue(e,r,t),r})(e)),t},array:e=>{var t=cn(e.length);return Lr(e,t),t}},s=Pr(e),a=[],l=0;if(n)for(var u=0;u<n.length;u++){var c=o[r[u]];c?(0===l&&(l=ln()),a[u]=c(n[u])):a[u]=n[u]}var d=s.apply(null,a);return function(e){return 0!==l&&un(l),function(e){return"string"===t?Re(e):"boolean"===t?Boolean(e):e}(e)}(d)};function Fr(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}var Hr=void 0;var Ur=[],Br=(e,t)=>{x.set(e,t),Le[e]=x.get(e)};Me.init();var jr,Gr,zr=function(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ie.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n};Object.defineProperties(zr.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return Ie.isDir(this.mode)}},isDevice:{get:function(){return Ie.isChrdev(this.mode)}}}),Ie.FSNode=zr,Ie.createPreloadedFile=function(e,t,r,n,i,o,a,l,u,c){var d=t?de.resolve(ue.join2(e,t)):e;function h(r){function s(r){c&&c(),l||Ie.createDataFile(e,t,r,n,i,u),o&&o(),Q()}(function(e,t,r,n){"undefined"!=typeof Browser&&Browser.init();var i=!1;return be.forEach((function(o){i||o.canHandle(t)&&(o.handle(e,t,r,n),i=!0)})),i})(r,d,s,(()=>{a&&a(),Q()}))||s(r)}X(),"string"==typeof r?((e,t,r,n)=>{var i="al "+e;s(e,(t=>{k(t,`Loading data file "${e}" failed (no arrayBuffer).`),h(new Uint8Array(t)),i&&Q()}),(t=>{if(!r)throw`Loading data file "${e}" failed.`;r()})),i&&X()})(r,0,a):h(r)},Ie.staticInit(),it=i.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);lt=e}(),ct=i.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Rt.prototype.isAliasOf=function(e){if(!(this instanceof Rt))return!1;if(!(e instanceof Rt))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=e.$$.ptrType.registeredClass,i=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)i=n.upcast(i),n=n.baseClass;return t===n&&r===i},Rt.prototype.clone=function(){if(this.$$.ptr||pt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e,t=It(Object.create(Object.getPrototypeOf(this),{$$:{value:(e=this.$$,{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType})}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},Rt.prototype.delete=function(){this.$$.ptr||pt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&dt("Object already scheduled for deletion"),_t(this),gt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},Rt.prototype.isDeleted=function(){return!this.$$.ptr},Rt.prototype.deleteLater=function(){return this.$$.ptr||pt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&dt("Object already scheduled for deletion"),vt.push(this),1===vt.length&&bt&&bt(yt),this.$$.deleteScheduled=!0,this},i.getInheritedInstanceCount=function(){return Object.keys(wt).length},i.getLiveInheritedInstances=function(){var e=[];for(var t in wt)wt.hasOwnProperty(t)&&e.push(wt[t]);return e},i.flushPendingDeletes=yt,i.setDelayFunction=function(e){bt=e,vt.length&&bt&&bt(yt)},Pt.prototype.getPointee=function(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},Pt.prototype.destructor=function(e){this.rawDestructor&&this.rawDestructor(e)},Pt.prototype.argPackAdvance=8,Pt.prototype.readValueFromPointer=et,Pt.prototype.deleteObject=function(e){null!==e&&e.delete()},Pt.prototype.fromWireType=function(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=function(e,t){return t=function(e,t){for(void 0===t&&dt("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}(e,t),wt[t]}(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function i(){return this.isSmartPointer?St(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):St(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var o,s=this.registeredClass.getActualType(t),a=Et[s];if(!a)return i.call(this);o=this.isConst?a.constPointerType:a.pointerType;var l=mt(t,this.registeredClass,o.registeredClass);return null===l?i.call(this):this.isSmartPointer?St(o.registeredClass.instancePrototype,{ptrType:o,ptr:l,smartPtrType:this,smartPtr:e}):St(o.registeredClass.instancePrototype,{ptrType:o,ptr:l})},Ut=i.UnboundTypeError=(jr=Error,(Gr=Ot("UnboundTypeError",(function(e){this.name="UnboundTypeError",this.message=e;var t=new Error(e).stack;void 0!==t&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}))).prototype=Object.create(jr.prototype),Gr.prototype.constructor=Gr,Gr.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},Gr),Object.assign(Vt.prototype,{get(e){return this.allocated[e]},has(e){return void 0!==this.allocated[e]},allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},free(e){this.allocated[e]=void 0,this.freelist.push(e)}}),Zt.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),Zt.reserved=Zt.allocated.length,i.count_emval_handles=function(){for(var e=0,t=Zt.reserved;t<Zt.allocated.length;++t)void 0!==Zt.allocated[t]&&++e;return e};var Wr,Vr=[null,Oe,De,Pe,Fe,He,Be,je,Ge,ze,We,Ve,Ze,$e,Ke,qe,Ye,Je,hr,pr,Ir,Rr,Ar,Or,Nr,Tr,Mr],Zr={pa:function(){const e=location.hostname,t=_e(e)+1,r=$r(t);return Ue(e,r,t),r},_:function(e){Qr(e,!h,1,!d,5242880,!1),Me.threadInitTLS()},t:function(e){f?postMessage({cmd:"cleanupThread",thread:e}):ae(e)},X:xe,h:Fe,ha:He,T:Be,U:je,x:Ge,ea:ze,Y:We,fa:Ve,y:Ze,S:$e,P:Ke,Q:qe,ga:Ye,R:Je,r:function(e){var t=Xe[e];delete Xe[e];var r=t.rawConstructor,n=t.rawDestructor,i=t.fields;st([e],i.map((e=>e.getterReturnType)).concat(i.map((e=>e.setterArgumentType))),(e=>{var o={};return i.forEach(((t,r)=>{var n=t.fieldName,s=e[r],a=t.getter,l=t.getterContext,u=e[r+i.length],c=t.setter,d=t.setterContext;o[n]={read:e=>s.fromWireType(a(l,e)),write:(e,t)=>{var r=[];c(d,e,u.toWireType(r,t)),Qe(r)}}})),[{name:t.name,fromWireType:function(e){var t={};for(var r in o)t[r]=o[r].read(e);return n(e),t},toWireType:function(e,t){for(var i in o)if(!(i in t))throw new TypeError(`Missing field: "${i}"`);var s=r();for(i in o)o[i].write(s,t[i]);return null!==e&&e.push(n,s),s},argPackAdvance:8,readValueFromPointer:et,destructorFunction:n}]}))},K:function(e,t,r,n,i){},ma:function(e,t,r,n,i){var o=at(r);ht(e,{name:t=ut(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:i},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=R;else if(2===r)n=O;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);n=T}return this.fromWireType(n[e>>o])},destructorFunction:null})},B:function(e,t,r,n,i,o,s,a,l,u,c,d,h){c=ut(c),o=Ht(i,o),a&&(a=Ht(s,a)),u&&(u=Ht(l,u)),h=Ht(d,h);var p=At(c);Tt(p,(function(){jt(`Cannot construct ${c} due to unbound types`,[n])})),st([e,t,r],n?[n]:[],(function(t){var r,i;t=t[0],i=n?(r=t.registeredClass).instancePrototype:Rt.prototype;var s=Ot(p,(function(){if(Object.getPrototypeOf(this)!==l)throw new ct("Use 'new' to construct "+c);if(void 0===d.constructor_body)throw new ct(c+" has no accessible constructor");var e=d.constructor_body[arguments.length];if(void 0===e)throw new ct(`Tried to invoke ctor of ${c} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(d.constructor_body).toString()}) parameters instead!`);return e.apply(this,arguments)})),l=Object.create(i,{constructor:{value:s}});s.prototype=l;var d=new Mt(c,s,l,h,r,o,a,u);d.baseClass&&(void 0===d.baseClass.__derivedClasses&&(d.baseClass.__derivedClasses=[]),d.baseClass.__derivedClasses.push(d));var f=new Pt(c,d,!0,!1,!1),_=new Pt(c+"*",d,!1,!1,!1),g=new Pt(c+" const*",d,!1,!0,!1);return Et[e]={pointerType:_,constPointerType:g},xt(p,s),[f,_,g]}))},l:function(e,t,r,n,i,o){var s=Gt(t,r);i=Ht(n,i),st([],[e],(function(e){var r="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new ct(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${e.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return e.registeredClass.constructor_body[t-1]=()=>{jt(`Cannot construct ${e.name} due to unbound types`,s)},st([],s,(function(n){return n.splice(1,0,null),e.registeredClass.constructor_body[t-1]=Wt(r,n,null,i,o),[]})),[]}))},i:function(e,t,r,n,i,o,s,a,l){var u=Gt(r,n);t=ut(t),o=Ht(i,o),st([],[e],(function(e){var n=`${(e=e[0]).name}.${t}`;function i(){jt(`Cannot call ${n} due to unbound types`,u)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),a&&e.registeredClass.pureVirtualFunctions.push(t);var c=e.registeredClass.instancePrototype,d=c[t];return void 0===d||void 0===d.overloadTable&&d.className!==e.name&&d.argCount===r-2?(i.argCount=r-2,i.className=e.name,c[t]=i):(Nt(c,t,n),c[t].overloadTable[r-2]=i),st([],u,(function(i){var a=Wt(n,i,e,o,s,l);return void 0===c[t].overloadTable?(a.argCount=r-2,c[t]=a):c[t].overloadTable[r-2]=a,[]})),[]}))},la:function(e,t){ht(e,{name:t=ut(t),fromWireType:function(e){var t=Kt.toValue(e);return $t(e),t},toWireType:function(e,t){return Kt.toHandle(t)},argPackAdvance:8,readValueFromPointer:et,destructorFunction:null})},A:function(e,t,r){var n=at(r);ht(e,{name:t=ut(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:Yt(t,n),destructorFunction:null})},qa:function(e,t,r,n,i,o,s){var a=Gt(t,r);e=ut(e),i=Ht(n,i),Tt(e,(function(){jt(`Cannot call ${e} due to unbound types`,a)}),t-1),st([],a,(function(r){var n=[r[0],null].concat(r.slice(1));return xt(e,Wt(e,n,null,i,o,s),t-1),[]}))},j:function(e,t,r,n,i){t=ut(t),-1===i&&(i=4294967295);var o=at(r),s=e=>e;if(0===n){var a=32-8*r;s=e=>e<<a>>>a}var l=t.includes("unsigned");ht(e,{name:t,fromWireType:s,toWireType:l?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:8,readValueFromPointer:Jt(t,o,0!==n),destructorFunction:null})},e:function(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function i(e){var t=M,r=t[e>>=2],i=t[e+1];return new n(t.buffer,i,r)}ht(e,{name:r=ut(r),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},z:function(e,t){var r="std::string"===(t=ut(t));ht(e,{name:t,fromWireType:function(e){var t,n=M[e>>2],i=e+4;if(r)for(var o=i,s=0;s<=n;++s){var a=i+s;if(s==n||0==A[a]){var l=Re(o,a-o);void 0===t?t=l:(t+=String.fromCharCode(0),t+=l),o=a+1}}else{var u=new Array(n);for(s=0;s<n;++s)u[s]=String.fromCharCode(A[i+s]);t=u.join("")}return Kr(e),t},toWireType:function(e,t){var n;t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i="string"==typeof t;i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||dt("Cannot pass non-string to std::string"),n=r&&i?_e(t):t.length;var o=$r(4+n+1),s=o+4;if(M[o>>2]=n,r&&i)Ue(t,s,n+1);else if(i)for(var a=0;a<n;++a){var l=t.charCodeAt(a);l>255&&(Kr(s),dt("String has UTF-16 code units that do not fit in 8 bits")),A[s+a]=l}else for(a=0;a<n;++a)A[s+a]=t[a];return null!==e&&e.push(Kr,o),o},argPackAdvance:8,readValueFromPointer:et,destructorFunction:function(e){Kr(e)}})},q:function(e,t,r){var n,i,o,s,a;r=ut(r),2===t?(n=Qt,i=er,s=tr,o=()=>N,a=1):4===t&&(n=rr,i=nr,s=ir,o=()=>M,a=2),ht(e,{name:r,fromWireType:function(e){for(var r,i=M[e>>2],s=o(),l=e+4,u=0;u<=i;++u){var c=e+4+u*t;if(u==i||0==s[c>>a]){var d=n(l,c-l);void 0===r?r=d:(r+=String.fromCharCode(0),r+=d),l=c+t}}return Kr(e),r},toWireType:function(e,n){"string"!=typeof n&&dt("Cannot pass non-string to C++ string type "+r);var o=s(n),l=$r(4+o+t);return M[l>>2]=o>>a,i(n,l+4,o+t),null!==e&&e.push(Kr,l),l},argPackAdvance:8,readValueFromPointer:et,destructorFunction:function(e){Kr(e)}})},D:function(e,t,r,n,i,o){Xe[e]={name:ut(t),rawConstructor:Ht(r,n),rawDestructor:Ht(i,o),fields:[]}},b:function(e,t,r,n,i,o,s,a,l,u){Xe[e].fields.push({fieldName:ut(t),getterReturnType:r,getter:Ht(n,i),getterContext:o,setterArgumentType:s,setter:Ht(a,l),setterContext:u})},na:function(e,t){ht(e,{isVoid:!0,name:t=ut(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},ka:()=>!0,N:function(e,t,r){if(e==t)setTimeout((()=>sr()));else if(f)postMessage({targetThread:e,cmd:"checkMailbox"});else{var n=Me.pthreads[e];if(!n)return;n.postMessage({cmd:"checkMailbox"})}},aa:function(e,t,r){return-1},Z:or,ja:function(e){},s:$t,W:function(e){e>4&&(Zt.get(e).refcount+=1)},v:function(e,t){var r,n;void 0===(n=rt[r=e])&&dt("_emval_take_value has unknown type "+Bt(r));var i=(e=n).readValueFromPointer(t);return Kt.toHandle(i)},G:function(e,t,r){var n=ar(e,t),i=new Date(1e3*n);T[r>>2]=i.getUTCSeconds(),T[r+4>>2]=i.getUTCMinutes(),T[r+8>>2]=i.getUTCHours(),T[r+12>>2]=i.getUTCDate(),T[r+16>>2]=i.getUTCMonth(),T[r+20>>2]=i.getUTCFullYear()-1900,T[r+24>>2]=i.getUTCDay();var o=Date.UTC(i.getUTCFullYear(),0,1,0,0,0,0),s=(i.getTime()-o)/864e5|0;T[r+28>>2]=s},H:function(e,t,r){var n=ar(e,t),i=new Date(1e3*n);T[r>>2]=i.getSeconds(),T[r+4>>2]=i.getMinutes(),T[r+8>>2]=i.getHours(),T[r+12>>2]=i.getDate(),T[r+16>>2]=i.getMonth(),T[r+20>>2]=i.getFullYear()-1900,T[r+24>>2]=i.getDay();var o=0|dr(i);T[r+28>>2]=o,T[r+36>>2]=-60*i.getTimezoneOffset();var s=new Date(i.getFullYear(),0,1),a=new Date(i.getFullYear(),6,1).getTimezoneOffset(),l=s.getTimezoneOffset(),u=0|(a!=l&&i.getTimezoneOffset()==Math.min(l,a));T[r+32>>2]=u},I:function(e){var t=(()=>{var t=new Date(T[e+20>>2]+1900,T[e+16>>2],T[e+12>>2],T[e+8>>2],T[e+4>>2],T[e>>2],0),r=T[e+32>>2],n=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=i.getTimezoneOffset(),a=Math.min(s,o);if(r<0)T[e+32>>2]=Number(o!=s&&a==n);else if(r>0!=(a==n)){var l=Math.max(s,o),u=r>0?a:l;t.setTime(t.getTime()+6e4*(u-n))}T[e+24>>2]=t.getDay();var c=0|dr(t);return T[e+28>>2]=c,T[e>>2]=t.getSeconds(),T[e+4>>2]=t.getMinutes(),T[e+8>>2]=t.getHours(),T[e+12>>2]=t.getDate(),T[e+16>>2]=t.getMonth(),T[e+20>>2]=t.getYear(),t.getTime()/1e3})();return sn(($=t,+Math.abs($)>=1?$>0?+Math.floor($/4294967296)>>>0:~~+Math.ceil(($-+(~~$>>>0))/4294967296)>>>0:0)),t>>>0},E:hr,F:pr,M:(e,t,r)=>{var n=(new Date).getFullYear(),i=new Date(n,0,1),o=new Date(n,6,1),s=i.getTimezoneOffset(),a=o.getTimezoneOffset(),l=Math.max(s,a);function u(e){var t=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return t?t[1]:"GMT"}M[e>>2]=60*l,T[t>>2]=Number(s!=a);var c=u(i),d=u(o),h=_r(c),p=_r(d);a<s?(M[r>>2]=h,M[r+4>>2]=p):(M[r>>2]=p,M[r+4>>2]=h)},d:()=>{ee("")},g:(e,t,r)=>yr(e,t,r,0),oa:(e,t,r)=>((e,t,r)=>{var n=mr(t,r);return ie[e].apply(null,n)})(e,t,r),k:(e,t,r)=>yr(e,t,r,1),u:function(){},p:function(){return Date.now()},ia:()=>{throw G+=1,"unwind"},O:()=>A.length,c:fr,n:function(){return navigator.hardwareConcurrency},$:function(e,t,r,n){Me.currentProxiedOperationCallerThread=t,br.length=r;for(var i=n>>3,o=0;o<r;o++)br[o]=D[i+o];return(e<0?ie[-e-1]:Vr[e]).apply(null,br)},L:e=>{A.length,ee("OOM")},ca:Ir,da:Rr,V:Ne,m:Ar,ba:Or,w:Nr,J:Tr,o:Mr,a:y||i.wasmMemory,C:kr,f:(e,t,r,n,i)=>kr(e,t,r,n)},$r=(function(){var e,t,n,o,s={a:Zr};function a(e,t){var r,n,i=e.exports;return r=(b=i).Ja,Me.tlsInitFunctions.push(r),x=b.sa,n=b.ra,U.unshift(n),w=t,Q(),i}if(X(),i.instantiateWasm)try{return i.instantiateWasm(s,a)}catch(e){v("Module.instantiateWasm callback failed with error: "+e),r(e)}(e=m,t=Z,n=s,o=function(e){a(e.instance,e.module)},e||"function"!=typeof WebAssembly.instantiateStreaming||te(t)||"function"!=typeof fetch?ne(t,n,o):fetch(t,{credentials:"same-origin"}).then((e=>WebAssembly.instantiateStreaming(e,n).then(o,(function(e){return v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),ne(t,n,o)}))))).catch(r)}(),i._init_engine=(e,t,r,n,o,s,a,l,u,c,d,h,p,f,_,g,m,E,v,y,w,S,I,R,A,O,N,T,M,C,D,L,k,P)=>(i._init_engine=b.ta)(e,t,r,n,o,s,a,l,u,c,d,h,p,f,_,g,m,E,v,y,w,S,I,R,A,O,N,T,M,C,D,L,k,P),i._start_hrv=(e,t)=>(i._start_hrv=b.ua)(e,t),i._version=()=>(i._version=b.va)(),i._process_rppg=(e,t,r,n,o,s,a,l)=>(i._process_rppg=b.wa)(e,t,r,n,o,s,a,l),i._set_rect_callback=(e,t)=>(i._set_rect_callback=b.xa)(e,t),i._set_message_callback=(e,t)=>(i._set_message_callback=b.ya)(e,t),i._set_report_callback=(e,t)=>(i._set_report_callback=b.za)(e,t),i._finish_rppg=(e,t,r,n)=>(i._finish_rppg=b.Aa)(e,t,r,n),i._terminate=e=>(i._terminate=b.Ba)(e),i._on_license_network_response=(e,t,r,n,o)=>(i._on_license_network_response=b.Ca)(e,t,r,n,o),i._on_timeout_license_network_response=(e,t)=>(i._on_timeout_license_network_response=b.Da)(e,t),i._on_error_license_network_response=(e,t)=>(i._on_error_license_network_response=b.Ea)(e,t),i._malloc=e=>($r=i._malloc=b.Fa)(e)),Kr=i._free=e=>(Kr=i._free=b.Ga)(e),qr=()=>(qr=b.Ha)(),Yr=i._pthread_self=()=>(Yr=i._pthread_self=b.Ia)(),Jr=(i.__emscripten_tls_init=()=>(i.__emscripten_tls_init=b.Ja)(),(e,t)=>(Jr=b.Ka)(e,t)),Xr=e=>(Xr=b.La)(e),Qr=(i.__embind_initialize_bindings=()=>(i.__embind_initialize_bindings=b.Ma)(),i.__emscripten_thread_init=(e,t,r,n,o,s)=>(Qr=i.__emscripten_thread_init=b.Na)(e,t,r,n,o,s)),en=(i.__emscripten_thread_crashed=()=>(i.__emscripten_thread_crashed=b.Oa)(),(e,t,r,n)=>(en=b.Pa)(e,t,r,n)),tn=e=>(tn=b.Qa)(e),rn=i.__emscripten_thread_exit=e=>(rn=i.__emscripten_thread_exit=b.Ra)(e),nn=i.__emscripten_check_mailbox=()=>(nn=i.__emscripten_check_mailbox=b.Sa)(),on=()=>(on=b.Ta)(),sn=e=>(sn=b.Ua)(e),an=(e,t)=>(an=b.Va)(e,t),ln=()=>(ln=b.Wa)(),un=e=>(un=b.Xa)(e),cn=e=>(cn=b.Ya)(e);function dn(){if(!(q>0)){if(f)return t(i),W(),void startWorker(i);!function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)V(i.preRun.shift());Ce(H)}(),q>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),e()}),1)):e())}function e(){Wr||(Wr=!0,i.calledRun=!0,L||(W(),t(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(!f){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),B.unshift(e);var e;Ce(B)}}()))}}if(i.dynCall_viijii=(e,t,r,n,o,s,a)=>(i.dynCall_viijii=b.Za)(e,t,r,n,o,s,a),i.dynCall_ji=(e,t)=>(i.dynCall_ji=b._a)(e,t),i.dynCall_jii=(e,t,r)=>(i.dynCall_jii=b.$a)(e,t,r),i.dynCall_jiii=(e,t,r,n)=>(i.dynCall_jiii=b.ab)(e,t,r,n),i.dynCall_vjii=(e,t,r,n,o)=>(i.dynCall_vjii=b.bb)(e,t,r,n,o),i.dynCall_vji=(e,t,r,n)=>(i.dynCall_vji=b.cb)(e,t,r,n),i.dynCall_viji=(e,t,r,n,o)=>(i.dynCall_viji=b.db)(e,t,r,n,o),i.dynCall_jiji=(e,t,r,n,o)=>(i.dynCall_jiji=b.eb)(e,t,r,n,o),i.dynCall_iiiiij=(e,t,r,n,o,s,a)=>(i.dynCall_iiiiij=b.fb)(e,t,r,n,o,s,a),i.dynCall_iiiiijj=(e,t,r,n,o,s,a,l,u)=>(i.dynCall_iiiiijj=b.gb)(e,t,r,n,o,s,a,l,u),i.dynCall_iiiiiijj=(e,t,r,n,o,s,a,l,u,c)=>(i.dynCall_iiiiiijj=b.hb)(e,t,r,n,o,s,a,l,u,c),i.dynCall_viijj=(e,t,r,n,o,s,a)=>(i.dynCall_viijj=b.ib)(e,t,r,n,o,s,a),i.dynCall_jjjjjjj=(e,t,r,n,o,s,a,l,u,c,d,h,p)=>(i.dynCall_jjjjjjj=b.jb)(e,t,r,n,o,s,a,l,u,c,d,h,p),i.dynCall_jjjjjj=(e,t,r,n,o,s,a,l,u,c,d)=>(i.dynCall_jjjjjj=b.kb)(e,t,r,n,o,s,a,l,u,c,d),i.dynCall_iijjii=(e,t,r,n,o,s,a,l)=>(i.dynCall_iijjii=b.lb)(e,t,r,n,o,s,a,l),i.dynCall_vij=(e,t,r,n)=>(i.dynCall_vij=b.mb)(e,t,r,n),i.dynCall_viiijii=(e,t,r,n,o,s,a,l)=>(i.dynCall_viiijii=b.nb)(e,t,r,n,o,s,a,l),i.dynCall_viijiiiiiiiii=(e,t,r,n,o,s,a,l,u,c,d,h,p,f)=>(i.dynCall_viijiiiiiiiii=b.ob)(e,t,r,n,o,s,a,l,u,c,d,h,p,f),i.dynCall_viiij=(e,t,r,n,o,s)=>(i.dynCall_viiij=b.pb)(e,t,r,n,o,s),i.dynCall_jfi=(e,t,r)=>(i.dynCall_jfi=b.qb)(e,t,r),i.dynCall_viij=(e,t,r,n,o)=>(i.dynCall_viij=b.rb)(e,t,r,n,o),i.dynCall_jiij=(e,t,r,n,o)=>(i.dynCall_jiij=b.sb)(e,t,r,n,o),i.dynCall_iiij=(e,t,r,n,o)=>(i.dynCall_iiij=b.tb)(e,t,r,n,o),i.dynCall_jiiii=(e,t,r,n,o)=>(i.dynCall_jiiii=b.ub)(e,t,r,n,o),i.___start_em_js=2516248,i.___stop_em_js=2516453,i.keepRuntimeAlive=z,i.wasmMemory=y,i.ccall=xr,i.cwrap=function(e,t,r,n){var i=!r||r.every((e=>"number"===e||"boolean"===e));return"string"!==t&&i&&!n?Pr(e):function(){return xr(e,t,r,arguments)}},i.addFunction=function(e,t){var r=function(e){return Hr||(Hr=new WeakMap,function(e,t){if(Hr)for(var r=0;r<0+t;r++){var n=ke(r);n&&Hr.set(n,r)}}(0,x.length)),Hr.get(e)||0}(e);if(r)return r;var n=function(){if(Ur.length)return Ur.pop();try{x.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return x.length-1}();try{Br(n,e)}catch(r){if(!(r instanceof TypeError))throw r;var i=function(e,t){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function(e){for(var t={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:"v"==e[0]?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]);return r}(t),e);var r=[1];!function(e,t){var r=e.slice(0,1),n=e.slice(1),i={i:127,p:127,j:126,f:125,d:124};t.push(96),Fr(n.length,t);for(var o=0;o<n.length;++o)t.push(i[n[o]]);"v"==r?t.push(0):t.push(1,i[r])}(t,r);var n=[0,97,115,109,1,0,0,0,1];Fr(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:e}}).exports.f}(e,t);Br(n,i)}return Hr.set(e,n),n},i.stringToUTF8=Ue,i.lengthBytesUTF8=_e,i.ExitStatus=oe,i.FS=Ie,i.LZ4=Se,i.PThread=Me,J=function e(){Wr||dn(),Wr||(J=e)},i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return dn(),e.ready})},6107:(e,t,r)=>{"use strict";var n={},i=!1,o=function(){var e=Array.prototype.slice.call(arguments).join(" ");console.error(e)};self.alert=function(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:n._pthread_self()})},n.instantiateWasm=(e,t)=>{var r=n.wasmModule;return n.wasmModule=null,t(new WebAssembly.Instance(r,e))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function e(t){try{if("load"===t.data.cmd){let i=[];self.onmessage=e=>i.push(e),self.startWorker=t=>{n=t,postMessage({cmd:"loaded"});for(let t of i)e(t);self.onmessage=e},n.wasmModule=t.data.wasmModule;for(const e of t.data.handlers)n[e]=(...t)=>{postMessage({cmd:"callHandler",handler:e,args:t})};n.wasmMemory=t.data.wasmMemory,n.buffer=n.wasmMemory.buffer,n.ENVIRONMENT_IS_PTHREAD=!0,Promise.resolve().then(r.bind(r,8384)).then((e=>e.default(n)))}else if("run"===t.data.cmd){n.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),n.__emscripten_thread_mailbox_await(t.data.pthread_ptr),n.establishStackSpace(),n.PThread.receiveObjectTransfer(t.data),n.PThread.threadInitTLS(),i||(n.__embind_initialize_bindings(),i=!0);try{n.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===t.data.cmd?n._pthread_self()&&n.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("checkMailbox"===t.data.cmd?i&&n.checkMailbox():t.data.cmd&&(o("worker.js received unknown command "+t.data.cmd),o(t.data)))}catch(e){throw n.__emscripten_thread_crashed&&n.__emscripten_thread_crashed(),e}}},8435:(e,t,r)=>{var n={"./D1.caffemodel":2695,"./D1.prototxt":430,"./D2.caffemodel":6926,"./D2.prototxt":6880,"./D3.caffemodel":9943,"./D3.prototxt":7649,"./D4.caffemodel":5872,"./D4.prototxt":927,"./bp_30_fps.model.android.bin":6745,"./bp_30_fps.model.input.android.bin":3245,"./bp_30_fps_2.model.android.bin":7710,"./bp_30_fps_dia_xgboost.model.android.bin":6236,"./bp_30_fps_sys_xgboost.model.android.bin":6601,"./bp_60_fps_2_8bit.model.ios.bin":5124,"./bp_60_fps_8bit.model.input.ios.bin":4945,"./bp_60_fps_8bit.model.ios.bin":5401,"./bp_60_fps_8bit_dia_xgboost.model.ios.bin":3093,"./bp_60_fps_8bit_sys_xgboost.model.ios.bin":7379,"./decimation.filters.reference.bin":857,"./glucose_30_fps.model.android.bin":648,"./glucose_60_fps_8bit.model.ios.bin":8953,"./hemoglobinA1c_30_fps.model.android.bin":1399,"./hemoglobinA1c_60_fps_8bit.model.ios.bin":8741,"./hemoglobinA1c_xgboost.model.bin":3376,"./hemoglobin_30_fps.model.android.bin":3242,"./hemoglobin_60_fps_8bit.model.ios.bin":6606,"./pns.reference.bin":1157,"./sns.reference.bin":4096,"./totalCholesterol_30_fps.model.android.bin":3634,"./totalCholesterol_60_fps_8bit.model.ios.bin":5126};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=8435},9591:(e,t,r)=>{"use strict";const{Deflate:n,deflate:i,deflateRaw:o,gzip:s}=r(4555),{Inflate:a,inflate:l,inflateRaw:u,ungzip:c}=r(8843),d=r(1619);e.exports.Deflate=n,e.exports.deflate=i,e.exports.deflateRaw=o,e.exports.gzip=s,e.exports.Inflate=a,e.exports.inflate=l,e.exports.inflateRaw=u,e.exports.ungzip=c,e.exports.constants=d},4555:(e,t,r)=>{"use strict";const n=r(405),i=r(4236),o=r(9373),s=r(8898),a=r(2292),l=Object.prototype.toString,{Z_NO_FLUSH:u,Z_SYNC_FLUSH:c,Z_FULL_FLUSH:d,Z_FINISH:h,Z_OK:p,Z_STREAM_END:f,Z_DEFAULT_COMPRESSION:_,Z_DEFAULT_STRATEGY:g,Z_DEFLATED:m}=r(1619);function E(e){this.options=i.assign({level:_,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:g},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==p)throw new Error(s[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,r=n.deflateSetDictionary(this.strm,e),r!==p)throw new Error(s[r]);this._dict_set=!0}}function v(e,t){const r=new E(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}E.prototype.push=function(e,t){const r=this.strm,i=this.options.chunkSize;let s,a;if(this.ended)return!1;for(a=t===~~t?t:!0===t?h:u,"string"==typeof e?r.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(a===c||a===d)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(s=n.deflate(r,a),s===f)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=n.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===p;if(0!==r.avail_out){if(a>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},E.prototype.onData=function(e){this.chunks.push(e)},E.prototype.onEnd=function(e){e===p&&(this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},e.exports.Deflate=E,e.exports.deflate=v,e.exports.deflateRaw=function(e,t){return(t=t||{}).raw=!0,v(e,t)},e.exports.gzip=function(e,t){return(t=t||{}).gzip=!0,v(e,t)},e.exports.constants=r(1619)},8843:(e,t,r)=>{"use strict";const n=r(7948),i=r(4236),o=r(9373),s=r(8898),a=r(2292),l=r(2401),u=Object.prototype.toString,{Z_NO_FLUSH:c,Z_FINISH:d,Z_OK:h,Z_STREAM_END:p,Z_NEED_DICT:f,Z_STREAM_ERROR:_,Z_DATA_ERROR:g,Z_MEM_ERROR:m}=r(1619);function E(e){this.options=i.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let r=n.inflateInit2(this.strm,t.windowBits);if(r!==h)throw new Error(s[r]);if(this.header=new l,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=n.inflateSetDictionary(this.strm,t.dictionary),r!==h)))throw new Error(s[r])}function v(e,t){const r=new E(t);if(r.push(e),r.err)throw r.msg||s[r.err];return r.result}E.prototype.push=function(e,t){const r=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let a,l,E;if(this.ended)return!1;for(l=t===~~t?t:!0===t?d:c,"[object ArrayBuffer]"===u.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),a=n.inflate(r,l),a===f&&s&&(a=n.inflateSetDictionary(r,s),a===h?a=n.inflate(r,l):a===g&&(a=f));r.avail_in>0&&a===p&&r.state.wrap>0&&0!==e[r.next_in];)n.inflateReset(r),a=n.inflate(r,l);switch(a){case _:case g:case f:case m:return this.onEnd(a),this.ended=!0,!1}if(E=r.avail_out,r.next_out&&(0===r.avail_out||a===p))if("string"===this.options.to){let e=o.utf8border(r.output,r.next_out),t=r.next_out-e,n=o.buf2string(r.output,e);r.next_out=t,r.avail_out=i-t,t&&r.output.set(r.output.subarray(e,e+t),0),this.onData(n)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(a!==h||0!==E){if(a===p)return a=n.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},E.prototype.onData=function(e){this.chunks.push(e)},E.prototype.onEnd=function(e){e===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},e.exports.Inflate=E,e.exports.inflate=v,e.exports.inflateRaw=function(e,t){return(t=t||{}).raw=!0,v(e,t)},e.exports.ungzip=v,e.exports.constants=r(1619)},4236:e=>{"use strict";const t=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);e.exports.assign=function(e){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const n=r.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const r in n)t(n,r)&&(e[r]=n[r])}}return e},e.exports.flattenChunks=e=>{let t=0;for(let r=0,n=e.length;r<n;r++)t+=e[r].length;const r=new Uint8Array(t);for(let t=0,n=0,i=e.length;t<i;t++){let i=e[t];r.set(i,n),n+=i.length}return r}},9373:e=>{"use strict";let t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){t=!1}const r=new Uint8Array(256);for(let e=0;e<256;e++)r[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;r[254]=r[254]=1,e.exports.string2buf=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,r,n,i,o,s=e.length,a=0;for(i=0;i<s;i++)r=e.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=e.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(a),o=0,i=0;o<a;i++)r=e.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=e.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|63&r):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|63&r):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|63&r);return t},e.exports.buf2string=(e,n)=>{const i=n||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,n));let o,s;const a=new Array(2*i);for(s=0,o=0;o<i;){let t=e[o++];if(t<128){a[s++]=t;continue}let n=r[t];if(n>4)a[s++]=65533,o+=n-1;else{for(t&=2===n?31:3===n?15:7;n>1&&o<i;)t=t<<6|63&e[o++],n--;n>1?a[s++]=65533:t<65536?a[s++]=t:(t-=65536,a[s++]=55296|t>>10&1023,a[s++]=56320|1023&t)}}return((e,r)=>{if(r<65534&&e.subarray&&t)return String.fromCharCode.apply(null,e.length===r?e:e.subarray(0,r));let n="";for(let t=0;t<r;t++)n+=String.fromCharCode(e[t]);return n})(a,s)},e.exports.utf8border=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+r[e[n]]>t?n:t}},6069:e=>{"use strict";e.exports=(e,t,r,n)=>{let i=65535&e|0,o=e>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{i=i+t[n++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0}},1619:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2869:e=>{"use strict";const t=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})());e.exports=(e,r,n,i)=>{const o=t,s=i+n;e^=-1;for(let t=i;t<s;t++)e=e>>>8^o[255&(e^r[t])];return-1^e}},405:(e,t,r)=>{"use strict";const{_tr_init:n,_tr_stored_block:i,_tr_flush_block:o,_tr_tally:s,_tr_align:a}=r(342),l=r(6069),u=r(2869),c=r(8898),{Z_NO_FLUSH:d,Z_PARTIAL_FLUSH:h,Z_FULL_FLUSH:p,Z_FINISH:f,Z_BLOCK:_,Z_OK:g,Z_STREAM_END:m,Z_STREAM_ERROR:E,Z_DATA_ERROR:v,Z_BUF_ERROR:y,Z_DEFAULT_COMPRESSION:b,Z_FILTERED:w,Z_HUFFMAN_ONLY:S,Z_RLE:I,Z_FIXED:R,Z_DEFAULT_STRATEGY:A,Z_UNKNOWN:O,Z_DEFLATED:N}=r(1619),T=258,M=262,C=42,D=113,L=666,k=(e,t)=>(e.msg=c[t],t),P=e=>2*e-(e>4?9:0),x=e=>{let t=e.length;for(;--t>=0;)e[t]=0},F=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do{r=e.head[--n],e.head[n]=r>=i?r-i:0}while(--t);t=i,n=t;do{r=e.prev[--n],e.prev[n]=r>=i?r-i:0}while(--t)};let H=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask;const U=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},B=(e,t)=>{o(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,U(e.strm)},j=(e,t)=>{e.pending_buf[e.pending++]=t},G=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},z=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),1===e.state.wrap?e.adler=l(e.adler,t,i,r):2===e.state.wrap&&(e.adler=u(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},W=(e,t)=>{let r,n,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-M?e.strstart-(e.w_size-M):0,u=e.window,c=e.w_mask,d=e.prev,h=e.strstart+T;let p=u[o+s-1],f=u[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(r=t,u[r+s]===f&&u[r+s-1]===p&&u[r]===u[o]&&u[++r]===u[o+1]){o+=2,r++;do{}while(u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&o<h);if(n=T-(h-o),o=h-T,n>s){if(e.match_start=t,s=n,n>=a)break;p=u[o+s-1],f=u[o+s]}}}while((t=d[t&c])>l&&0!=--i);return s<=e.lookahead?s:e.lookahead},V=e=>{const t=e.w_size;let r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-M)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),F(e),n+=t),0===e.strm.avail_in)break;if(r=z(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=H(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=H(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<M&&0!==e.strm.avail_in)},Z=(e,t)=>{let r,n,o,s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,l=e.strm.avail_in;do{if(r=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o)break;if(o=e.strm.avail_out-o,n=e.strstart-e.block_start,r>n+e.strm.avail_in&&(r=n+e.strm.avail_in),r>o&&(r=o),r<s&&(0===r&&t!==f||t===d||r!==n+e.strm.avail_in))break;a=t===f&&r===n+e.strm.avail_in?1:0,i(e,0,0,a),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,U(e.strm),n&&(n>r&&(n=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,r-=n),r&&(z(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(0===a);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==d&&t!==f&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(z(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,s=o>e.w_size?e.w_size:o,n=e.strstart-e.block_start,(n>=s||(n||t===f)&&t!==d&&0===e.strm.avail_in&&n<=o)&&(r=n>o?o:n,a=t===f&&0===e.strm.avail_in&&r===n?1:0,i(e,e.block_start,r,a),e.block_start+=r,U(e.strm)),a?3:1)},$=(e,t)=>{let r,n;for(;;){if(e.lookahead<M){if(V(e),e.lookahead<M&&t===d)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=H(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-M&&(e.match_length=W(e,r)),e.match_length>=3)if(n=s(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=H(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=H(e,e.ins_h,e.window[e.strstart+1]);else n=s(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(B(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===f?(B(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(B(e,!1),0===e.strm.avail_out)?1:2},K=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<M){if(V(e),e.lookahead<M&&t===d)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=H(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-M&&(e.match_length=W(e,r),e.match_length<=5&&(e.strategy===w||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=s(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=H(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(B(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=s(e,0,e.window[e.strstart-1]),n&&B(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=s(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===f?(B(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(B(e,!1),0===e.strm.avail_out)?1:2};function q(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const Y=[new q(0,0,0,0,Z),new q(4,4,8,4,$),new q(4,5,16,8,$),new q(4,6,32,32,$),new q(4,4,16,16,K),new q(8,16,32,32,K),new q(8,16,128,128,K),new q(8,32,128,256,K),new q(32,128,258,1024,K),new q(32,258,258,4096,K)];function J(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),x(this.dyn_ltree),x(this.dyn_dtree),x(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),x(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),x(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const X=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==C&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==D&&t.status!==L?1:0},Q=e=>{if(X(e))return k(e,E);e.total_in=e.total_out=0,e.data_type=O;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?C:D,e.adler=2===t.wrap?0:1,t.last_flush=-2,n(t),g},ee=e=>{const t=Q(e);var r;return t===g&&((r=e.state).window_size=2*r.w_size,x(r.head),r.max_lazy_match=Y[r.level].max_lazy,r.good_match=Y[r.level].good_length,r.nice_match=Y[r.level].nice_length,r.max_chain_length=Y[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),t},te=(e,t,r,n,i,o)=>{if(!e)return E;let s=1;if(t===b&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||r!==N||n<8||n>15||t<0||t>9||o<0||o>R||8===n&&1!==s)return k(e,E);8===n&&(n=9);const a=new J;return e.state=a,a.strm=e,a.status=C,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=t,a.strategy=o,a.method=r,ee(e)};e.exports.deflateInit=(e,t)=>te(e,t,N,15,8,A),e.exports.deflateInit2=te,e.exports.deflateReset=ee,e.exports.deflateResetKeep=Q,e.exports.deflateSetHeader=(e,t)=>X(e)||2!==e.state.wrap?E:(e.state.gzhead=t,g),e.exports.deflate=(e,t)=>{if(X(e)||t>_||t<0)return e?k(e,E):E;const r=e.state;if(!e.output||0!==e.avail_in&&!e.input||r.status===L&&t!==f)return k(e,0===e.avail_out?y:E);const n=r.last_flush;if(r.last_flush=t,0!==r.pending){if(U(e),0===e.avail_out)return r.last_flush=-1,g}else if(0===e.avail_in&&P(t)<=P(n)&&t!==f)return k(e,y);if(r.status===L&&0!==e.avail_in)return k(e,y);if(r.status===C&&0===r.wrap&&(r.status=D),r.status===C){let t=N+(r.w_bits-8<<4)<<8,n=-1;if(n=r.strategy>=S||r.level<2?0:r.level<6?1:6===r.level?2:3,t|=n<<6,0!==r.strstart&&(t|=32),t+=31-t%31,G(r,t),0!==r.strstart&&(G(r,e.adler>>>16),G(r,65535&e.adler)),e.adler=1,r.status=D,U(e),0!==r.pending)return r.last_flush=-1,g}if(57===r.status)if(e.adler=0,j(r,31),j(r,139),j(r,8),r.gzhead)j(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),j(r,255&r.gzhead.time),j(r,r.gzhead.time>>8&255),j(r,r.gzhead.time>>16&255),j(r,r.gzhead.time>>24&255),j(r,9===r.level?2:r.strategy>=S||r.level<2?4:0),j(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(j(r,255&r.gzhead.extra.length),j(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=u(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(j(r,0),j(r,0),j(r,0),j(r,0),j(r,0),j(r,9===r.level?2:r.strategy>=S||r.level<2?4:0),j(r,3),r.status=D,U(e),0!==r.pending)return r.last_flush=-1,g;if(69===r.status){if(r.gzhead.extra){let t=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>t&&(e.adler=u(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex+=i,U(e),0!==r.pending)return r.last_flush=-1,g;t=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>t&&(e.adler=u(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=u(e.adler,r.pending_buf,r.pending-n,n)),U(e),0!==r.pending)return r.last_flush=-1,g;n=0}t=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,j(r,t)}while(0!==t);r.gzhead.hcrc&&r.pending>n&&(e.adler=u(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=u(e.adler,r.pending_buf,r.pending-n,n)),U(e),0!==r.pending)return r.last_flush=-1,g;n=0}t=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,j(r,t)}while(0!==t);r.gzhead.hcrc&&r.pending>n&&(e.adler=u(e.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(U(e),0!==r.pending))return r.last_flush=-1,g;j(r,255&e.adler),j(r,e.adler>>8&255),e.adler=0}if(r.status=D,U(e),0!==r.pending)return r.last_flush=-1,g}if(0!==e.avail_in||0!==r.lookahead||t!==d&&r.status!==L){let n=0===r.level?Z(r,t):r.strategy===S?((e,t)=>{let r;for(;;){if(0===e.lookahead&&(V(e),0===e.lookahead)){if(t===d)return 1;break}if(e.match_length=0,r=s(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(B(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===f?(B(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(B(e,!1),0===e.strm.avail_out)?1:2})(r,t):r.strategy===I?((e,t)=>{let r,n,i,o;const a=e.window;for(;;){if(e.lookahead<=T){if(V(e),e.lookahead<=T&&t===d)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=e.strstart+T;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);e.match_length=T-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=s(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=s(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(B(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===f?(B(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(B(e,!1),0===e.strm.avail_out)?1:2})(r,t):Y[r.level].func(r,t);if(3!==n&&4!==n||(r.status=L),1===n||3===n)return 0===e.avail_out&&(r.last_flush=-1),g;if(2===n&&(t===h?a(r):t!==_&&(i(r,0,0,!1),t===p&&(x(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),U(e),0===e.avail_out))return r.last_flush=-1,g}return t!==f?g:r.wrap<=0?m:(2===r.wrap?(j(r,255&e.adler),j(r,e.adler>>8&255),j(r,e.adler>>16&255),j(r,e.adler>>24&255),j(r,255&e.total_in),j(r,e.total_in>>8&255),j(r,e.total_in>>16&255),j(r,e.total_in>>24&255)):(G(r,e.adler>>>16),G(r,65535&e.adler)),U(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?g:m)},e.exports.deflateEnd=e=>{if(X(e))return E;const t=e.state.status;return e.state=null,t===D?k(e,v):g},e.exports.deflateSetDictionary=(e,t)=>{let r=t.length;if(X(e))return E;const n=e.state,i=n.wrap;if(2===i||1===i&&n.status!==C||n.lookahead)return E;if(1===i&&(e.adler=l(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===i&&(x(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(r-n.w_size,r),0),t=e,r=n.w_size}const o=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,V(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=H(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,V(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=s,e.input=a,e.avail_in=o,n.wrap=i,g},e.exports.deflateInfo="pako deflate (from Nodeca project)"},2401:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},4264:e=>{"use strict";const t=16209;e.exports=function(e,r){let n,i,o,s,a,l,u,c,d,h,p,f,_,g,m,E,v,y,b,w,S,I,R,A;const O=e.state;n=e.next_in,R=e.input,i=n+(e.avail_in-5),o=e.next_out,A=e.output,s=o-(r-e.avail_out),a=o+(e.avail_out-257),l=O.dmax,u=O.wsize,c=O.whave,d=O.wnext,h=O.window,p=O.hold,f=O.bits,_=O.lencode,g=O.distcode,m=(1<<O.lenbits)-1,E=(1<<O.distbits)-1;e:do{f<15&&(p+=R[n++]<<f,f+=8,p+=R[n++]<<f,f+=8),v=_[p&m];t:for(;;){if(y=v>>>24,p>>>=y,f-=y,y=v>>>16&255,0===y)A[o++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=_[(65535&v)+(p&(1<<y)-1)];continue t}if(32&y){O.mode=16191;break e}e.msg="invalid literal/length code",O.mode=t;break e}b=65535&v,y&=15,y&&(f<y&&(p+=R[n++]<<f,f+=8),b+=p&(1<<y)-1,p>>>=y,f-=y),f<15&&(p+=R[n++]<<f,f+=8,p+=R[n++]<<f,f+=8),v=g[p&E];r:for(;;){if(y=v>>>24,p>>>=y,f-=y,y=v>>>16&255,!(16&y)){if(0==(64&y)){v=g[(65535&v)+(p&(1<<y)-1)];continue r}e.msg="invalid distance code",O.mode=t;break e}if(w=65535&v,y&=15,f<y&&(p+=R[n++]<<f,f+=8,f<y&&(p+=R[n++]<<f,f+=8)),w+=p&(1<<y)-1,w>l){e.msg="invalid distance too far back",O.mode=t;break e}if(p>>>=y,f-=y,y=o-s,w>y){if(y=w-y,y>c&&O.sane){e.msg="invalid distance too far back",O.mode=t;break e}if(S=0,I=h,0===d){if(S+=u-y,y<b){b-=y;do{A[o++]=h[S++]}while(--y);S=o-w,I=A}}else if(d<y){if(S+=u+d-y,y-=d,y<b){b-=y;do{A[o++]=h[S++]}while(--y);if(S=0,d<b){y=d,b-=y;do{A[o++]=h[S++]}while(--y);S=o-w,I=A}}}else if(S+=d-y,y<b){b-=y;do{A[o++]=h[S++]}while(--y);S=o-w,I=A}for(;b>2;)A[o++]=I[S++],A[o++]=I[S++],A[o++]=I[S++],b-=3;b&&(A[o++]=I[S++],b>1&&(A[o++]=I[S++]))}else{S=o-w;do{A[o++]=A[S++],A[o++]=A[S++],A[o++]=A[S++],b-=3}while(b>2);b&&(A[o++]=A[S++],b>1&&(A[o++]=A[S++]))}break}}break}}while(n<i&&o<a);b=f>>3,n-=b,f-=b<<3,p&=(1<<f)-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=o<a?a-o+257:257-(o-a),O.hold=p,O.bits=f}},7948:(e,t,r)=>{"use strict";const n=r(6069),i=r(2869),o=r(4264),s=r(9241),{Z_FINISH:a,Z_BLOCK:l,Z_TREES:u,Z_OK:c,Z_STREAM_END:d,Z_NEED_DICT:h,Z_STREAM_ERROR:p,Z_DATA_ERROR:f,Z_MEM_ERROR:_,Z_BUF_ERROR:g,Z_DEFLATED:m}=r(1619),E=16180,v=16190,y=16191,b=16192,w=16194,S=16199,I=16200,R=16206,A=16209,O=16210,N=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function T(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const M=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<E||t.mode>16211?1:0},C=e=>{if(M(e))return p;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=E,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,c},D=e=>{if(M(e))return p;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,C(e)},L=(e,t)=>{let r;if(M(e))return p;const n=e.state;return t<0?(r=0,t=-t):(r=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?p:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,D(e))},k=(e,t)=>{if(!e)return p;const r=new T;e.state=r,r.strm=e,r.window=null,r.mode=E;const n=L(e,t);return n!==c&&(e.state=null),n};let P,x,F=!0;const H=e=>{if(F){P=new Int32Array(512),x=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,P,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,x,0,e.work,{bits:5}),F=!1}e.lencode=P,e.lenbits=9,e.distcode=x,e.distbits=5},U=(e,t,r,n)=>{let i;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(t.subarray(r-n,r-n+i),o.wnext),(n-=i)?(o.window.set(t.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};e.exports.inflateReset=D,e.exports.inflateReset2=L,e.exports.inflateResetKeep=C,e.exports.inflateInit=e=>k(e,15),e.exports.inflateInit2=k,e.exports.inflate=(e,t)=>{let r,T,C,D,L,k,P,x,F,B,j,G,z,W,V,Z,$,K,q,Y,J,X,Q=0;const ee=new Uint8Array(4);let te,re;const ne=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(M(e)||!e.output||!e.input&&0!==e.avail_in)return p;r=e.state,r.mode===y&&(r.mode=b),L=e.next_out,C=e.output,P=e.avail_out,D=e.next_in,T=e.input,k=e.avail_in,x=r.hold,F=r.bits,B=k,j=P,X=c;e:for(;;)switch(r.mode){case E:if(0===r.wrap){r.mode=b;break}for(;F<16;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}if(2&r.wrap&&35615===x){0===r.wbits&&(r.wbits=15),r.check=0,ee[0]=255&x,ee[1]=x>>>8&255,r.check=i(r.check,ee,2,0),x=0,F=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&x)<<8)+(x>>8))%31){e.msg="incorrect header check",r.mode=A;break}if((15&x)!==m){e.msg="unknown compression method",r.mode=A;break}if(x>>>=4,F-=4,J=8+(15&x),0===r.wbits&&(r.wbits=J),J>15||J>r.wbits){e.msg="invalid window size",r.mode=A;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=512&x?16189:y,x=0,F=0;break;case 16181:for(;F<16;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}if(r.flags=x,(255&r.flags)!==m){e.msg="unknown compression method",r.mode=A;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=A;break}r.head&&(r.head.text=x>>8&1),512&r.flags&&4&r.wrap&&(ee[0]=255&x,ee[1]=x>>>8&255,r.check=i(r.check,ee,2,0)),x=0,F=0,r.mode=16182;case 16182:for(;F<32;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}r.head&&(r.head.time=x),512&r.flags&&4&r.wrap&&(ee[0]=255&x,ee[1]=x>>>8&255,ee[2]=x>>>16&255,ee[3]=x>>>24&255,r.check=i(r.check,ee,4,0)),x=0,F=0,r.mode=16183;case 16183:for(;F<16;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}r.head&&(r.head.xflags=255&x,r.head.os=x>>8),512&r.flags&&4&r.wrap&&(ee[0]=255&x,ee[1]=x>>>8&255,r.check=i(r.check,ee,2,0)),x=0,F=0,r.mode=16184;case 16184:if(1024&r.flags){for(;F<16;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}r.length=x,r.head&&(r.head.extra_len=x),512&r.flags&&4&r.wrap&&(ee[0]=255&x,ee[1]=x>>>8&255,r.check=i(r.check,ee,2,0)),x=0,F=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(G=r.length,G>k&&(G=k),G&&(r.head&&(J=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(T.subarray(D,D+G),J)),512&r.flags&&4&r.wrap&&(r.check=i(r.check,T,G,D)),k-=G,D+=G,r.length-=G),r.length))break e;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===k)break e;G=0;do{J=T[D+G++],r.head&&J&&r.length<65536&&(r.head.name+=String.fromCharCode(J))}while(J&&G<k);if(512&r.flags&&4&r.wrap&&(r.check=i(r.check,T,G,D)),k-=G,D+=G,J)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===k)break e;G=0;do{J=T[D+G++],r.head&&J&&r.length<65536&&(r.head.comment+=String.fromCharCode(J))}while(J&&G<k);if(512&r.flags&&4&r.wrap&&(r.check=i(r.check,T,G,D)),k-=G,D+=G,J)break e}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;F<16;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}if(4&r.wrap&&x!==(65535&r.check)){e.msg="header crc mismatch",r.mode=A;break}x=0,F=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=y;break;case 16189:for(;F<32;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}e.adler=r.check=N(x),x=0,F=0,r.mode=v;case v:if(0===r.havedict)return e.next_out=L,e.avail_out=P,e.next_in=D,e.avail_in=k,r.hold=x,r.bits=F,h;e.adler=r.check=1,r.mode=y;case y:if(t===l||t===u)break e;case b:if(r.last){x>>>=7&F,F-=7&F,r.mode=R;break}for(;F<3;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}switch(r.last=1&x,x>>>=1,F-=1,3&x){case 0:r.mode=16193;break;case 1:if(H(r),r.mode=S,t===u){x>>>=2,F-=2;break e}break;case 2:r.mode=16196;break;case 3:e.msg="invalid block type",r.mode=A}x>>>=2,F-=2;break;case 16193:for(x>>>=7&F,F-=7&F;F<32;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}if((65535&x)!=(x>>>16^65535)){e.msg="invalid stored block lengths",r.mode=A;break}if(r.length=65535&x,x=0,F=0,r.mode=w,t===u)break e;case w:r.mode=16195;case 16195:if(G=r.length,G){if(G>k&&(G=k),G>P&&(G=P),0===G)break e;C.set(T.subarray(D,D+G),L),k-=G,D+=G,P-=G,L+=G,r.length-=G;break}r.mode=y;break;case 16196:for(;F<14;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}if(r.nlen=257+(31&x),x>>>=5,F-=5,r.ndist=1+(31&x),x>>>=5,F-=5,r.ncode=4+(15&x),x>>>=4,F-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=A;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;F<3;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}r.lens[ne[r.have++]]=7&x,x>>>=3,F-=3}for(;r.have<19;)r.lens[ne[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,te={bits:r.lenbits},X=s(0,r.lens,0,19,r.lencode,0,r.work,te),r.lenbits=te.bits,X){e.msg="invalid code lengths set",r.mode=A;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;Q=r.lencode[x&(1<<r.lenbits)-1],V=Q>>>24,Z=Q>>>16&255,$=65535&Q,!(V<=F);){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}if($<16)x>>>=V,F-=V,r.lens[r.have++]=$;else{if(16===$){for(re=V+2;F<re;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}if(x>>>=V,F-=V,0===r.have){e.msg="invalid bit length repeat",r.mode=A;break}J=r.lens[r.have-1],G=3+(3&x),x>>>=2,F-=2}else if(17===$){for(re=V+3;F<re;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}x>>>=V,F-=V,J=0,G=3+(7&x),x>>>=3,F-=3}else{for(re=V+7;F<re;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}x>>>=V,F-=V,J=0,G=11+(127&x),x>>>=7,F-=7}if(r.have+G>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=A;break}for(;G--;)r.lens[r.have++]=J}}if(r.mode===A)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=A;break}if(r.lenbits=9,te={bits:r.lenbits},X=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,te),r.lenbits=te.bits,X){e.msg="invalid literal/lengths set",r.mode=A;break}if(r.distbits=6,r.distcode=r.distdyn,te={bits:r.distbits},X=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,te),r.distbits=te.bits,X){e.msg="invalid distances set",r.mode=A;break}if(r.mode=S,t===u)break e;case S:r.mode=I;case I:if(k>=6&&P>=258){e.next_out=L,e.avail_out=P,e.next_in=D,e.avail_in=k,r.hold=x,r.bits=F,o(e,j),L=e.next_out,C=e.output,P=e.avail_out,D=e.next_in,T=e.input,k=e.avail_in,x=r.hold,F=r.bits,r.mode===y&&(r.back=-1);break}for(r.back=0;Q=r.lencode[x&(1<<r.lenbits)-1],V=Q>>>24,Z=Q>>>16&255,$=65535&Q,!(V<=F);){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}if(Z&&0==(240&Z)){for(K=V,q=Z,Y=$;Q=r.lencode[Y+((x&(1<<K+q)-1)>>K)],V=Q>>>24,Z=Q>>>16&255,$=65535&Q,!(K+V<=F);){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}x>>>=K,F-=K,r.back+=K}if(x>>>=V,F-=V,r.back+=V,r.length=$,0===Z){r.mode=16205;break}if(32&Z){r.back=-1,r.mode=y;break}if(64&Z){e.msg="invalid literal/length code",r.mode=A;break}r.extra=15&Z,r.mode=16201;case 16201:if(r.extra){for(re=r.extra;F<re;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}r.length+=x&(1<<r.extra)-1,x>>>=r.extra,F-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;Q=r.distcode[x&(1<<r.distbits)-1],V=Q>>>24,Z=Q>>>16&255,$=65535&Q,!(V<=F);){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}if(0==(240&Z)){for(K=V,q=Z,Y=$;Q=r.distcode[Y+((x&(1<<K+q)-1)>>K)],V=Q>>>24,Z=Q>>>16&255,$=65535&Q,!(K+V<=F);){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}x>>>=K,F-=K,r.back+=K}if(x>>>=V,F-=V,r.back+=V,64&Z){e.msg="invalid distance code",r.mode=A;break}r.offset=$,r.extra=15&Z,r.mode=16203;case 16203:if(r.extra){for(re=r.extra;F<re;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}r.offset+=x&(1<<r.extra)-1,x>>>=r.extra,F-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=A;break}r.mode=16204;case 16204:if(0===P)break e;if(G=j-P,r.offset>G){if(G=r.offset-G,G>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=A;break}G>r.wnext?(G-=r.wnext,z=r.wsize-G):z=r.wnext-G,G>r.length&&(G=r.length),W=r.window}else W=C,z=L-r.offset,G=r.length;G>P&&(G=P),P-=G,r.length-=G;do{C[L++]=W[z++]}while(--G);0===r.length&&(r.mode=I);break;case 16205:if(0===P)break e;C[L++]=r.length,P--,r.mode=I;break;case R:if(r.wrap){for(;F<32;){if(0===k)break e;k--,x|=T[D++]<<F,F+=8}if(j-=P,e.total_out+=j,r.total+=j,4&r.wrap&&j&&(e.adler=r.check=r.flags?i(r.check,C,j,L-j):n(r.check,C,j,L-j)),j=P,4&r.wrap&&(r.flags?x:N(x))!==r.check){e.msg="incorrect data check",r.mode=A;break}x=0,F=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;F<32;){if(0===k)break e;k--,x+=T[D++]<<F,F+=8}if(4&r.wrap&&x!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=A;break}x=0,F=0}r.mode=16208;case 16208:X=d;break e;case A:X=f;break e;case O:return _;case 16211:default:return p}return e.next_out=L,e.avail_out=P,e.next_in=D,e.avail_in=k,r.hold=x,r.bits=F,(r.wsize||j!==e.avail_out&&r.mode<A&&(r.mode<R||t!==a))&&U(e,e.output,e.next_out,j-e.avail_out)?(r.mode=O,_):(B-=e.avail_in,j-=e.avail_out,e.total_in+=B,e.total_out+=j,r.total+=j,4&r.wrap&&j&&(e.adler=r.check=r.flags?i(r.check,C,j,e.next_out-j):n(r.check,C,j,e.next_out-j)),e.data_type=r.bits+(r.last?64:0)+(r.mode===y?128:0)+(r.mode===S||r.mode===w?256:0),(0===B&&0===j||t===a)&&X===c&&(X=g),X)},e.exports.inflateEnd=e=>{if(M(e))return p;let t=e.state;return t.window&&(t.window=null),e.state=null,c},e.exports.inflateGetHeader=(e,t)=>{if(M(e))return p;const r=e.state;return 0==(2&r.wrap)?p:(r.head=t,t.done=!1,c)},e.exports.inflateSetDictionary=(e,t)=>{const r=t.length;let i,o,s;return M(e)?p:(i=e.state,0!==i.wrap&&i.mode!==v?p:i.mode===v&&(o=1,o=n(o,t,r,0),o!==i.check)?f:(s=U(e,t,r,r),s?(i.mode=O,_):(i.havedict=1,c)))},e.exports.inflateInfo="pako inflate (from Nodeca project)"},9241:e=>{"use strict";const t=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),r=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),n=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),i=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);e.exports=(e,o,s,a,l,u,c,d)=>{const h=d.bits;let p,f,_,g,m,E,v=0,y=0,b=0,w=0,S=0,I=0,R=0,A=0,O=0,N=0,T=null;const M=new Uint16Array(16),C=new Uint16Array(16);let D,L,k,P=null;for(v=0;v<=15;v++)M[v]=0;for(y=0;y<a;y++)M[o[s+y]]++;for(S=h,w=15;w>=1&&0===M[w];w--);if(S>w&&(S=w),0===w)return l[u++]=20971520,l[u++]=20971520,d.bits=1,0;for(b=1;b<w&&0===M[b];b++);for(S<b&&(S=b),A=1,v=1;v<=15;v++)if(A<<=1,A-=M[v],A<0)return-1;if(A>0&&(0===e||1!==w))return-1;for(C[1]=0,v=1;v<15;v++)C[v+1]=C[v]+M[v];for(y=0;y<a;y++)0!==o[s+y]&&(c[C[o[s+y]]++]=y);if(0===e?(T=P=c,E=20):1===e?(T=t,P=r,E=257):(T=n,P=i,E=0),N=0,y=0,v=b,m=u,I=S,R=0,_=-1,O=1<<S,g=O-1,1===e&&O>852||2===e&&O>592)return 1;for(;;){D=v-R,c[y]+1<E?(L=0,k=c[y]):c[y]>=E?(L=P[c[y]-E],k=T[c[y]-E]):(L=96,k=0),p=1<<v-R,f=1<<I,b=f;do{f-=p,l[m+(N>>R)+f]=D<<24|L<<16|k|0}while(0!==f);for(p=1<<v-1;N&p;)p>>=1;if(0!==p?(N&=p-1,N+=p):N=0,y++,0==--M[v]){if(v===w)break;v=o[s+c[y]]}if(v>S&&(N&g)!==_){for(0===R&&(R=S),m+=b,I=v-R,A=1<<I;I+R<w&&(A-=M[I+R],!(A<=0));)I++,A<<=1;if(O+=1<<I,1===e&&O>852||2===e&&O>592)return 1;_=N&g,l[_]=S<<24|I<<16|m-u|0}}return 0!==N&&(l[m+N]=v-R<<24|64<<16|0),d.bits=S,0}},8898:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},342:e=>{"use strict";function t(e){let t=e.length;for(;--t>=0;)e[t]=0}const r=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),i=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),o=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Array(576);t(s);const a=new Array(60);t(a);const l=new Array(512);t(l);const u=new Array(256);t(u);const c=new Array(29);t(c);const d=new Array(30);function h(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let p,f,_;function g(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}t(d);const m=e=>e<256?l[e]:l[256+(e>>>7)],E=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},v=(e,t,r)=>{e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,E(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},y=(e,t,r)=>{v(e,r[2*t],r[2*t+1])},b=(e,t)=>{let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1},w=(e,t,r)=>{const n=new Array(16);let i,o,s=0;for(i=1;i<=15;i++)s=s+r[i-1]<<1,n[i]=s;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=b(n[t]++,t))}},S=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},I=e=>{e.bi_valid>8?E(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},R=(e,t,r,n)=>{const i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]},A=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&R(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!R(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},O=(e,t,i)=>{let o,s,a,l,h=0;if(0!==e.sym_next)do{o=255&e.pending_buf[e.sym_buf+h++],o+=(255&e.pending_buf[e.sym_buf+h++])<<8,s=e.pending_buf[e.sym_buf+h++],0===o?y(e,s,t):(a=u[s],y(e,a+256+1,t),l=r[a],0!==l&&(s-=c[a],v(e,s,l)),o--,a=m(o),y(e,a,i),l=n[a],0!==l&&(o-=d[a],v(e,o,l)))}while(h<e.sym_next);y(e,256,t)},N=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let s,a,l,u=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<o;s++)0!==r[2*s]?(e.heap[++e.heap_len]=u=s,e.depth[s]=0):r[2*s+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=u<2?++u:0,r[2*l]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=n[2*l+1]);for(t.max_code=u,s=e.heap_len>>1;s>=1;s--)A(e,r,s);l=o;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],A(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,r[2*l]=r[2*s]+r[2*a],e.depth[l]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,r[2*s+1]=r[2*a+1]=l,e.heap[1]=l++,A(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let u,c,d,h,p,f,_=0;for(h=0;h<=15;h++)e.bl_count[h]=0;for(r[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<573;u++)c=e.heap[u],h=r[2*r[2*c+1]+1]+1,h>l&&(h=l,_++),r[2*c+1]=h,c>n||(e.bl_count[h]++,p=0,c>=a&&(p=s[c-a]),f=r[2*c],e.opt_len+=f*(h+p),o&&(e.static_len+=f*(i[2*c+1]+p)));if(0!==_){do{for(h=l-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,_-=2}while(_>0);for(h=l;0!==h;h--)for(c=e.bl_count[h];0!==c;)d=e.heap[--u],d>n||(r[2*d+1]!==h&&(e.opt_len+=(h-r[2*d+1])*r[2*d],r[2*d+1]=h),c--)}})(e,t),w(r,u,e.bl_count)},T=(e,t,r)=>{let n,i,o=-1,s=t[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=t[2*(n+1)+1],++a<l&&i===s||(a<u?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=i,0===s?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4))},M=(e,t,r)=>{let n,i,o=-1,s=t[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),n=0;n<=r;n++)if(i=s,s=t[2*(n+1)+1],!(++a<l&&i===s)){if(a<u)do{y(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(y(e,i,e.bl_tree),a--),y(e,16,e.bl_tree),v(e,a-3,2)):a<=10?(y(e,17,e.bl_tree),v(e,a-3,3)):(y(e,18,e.bl_tree),v(e,a-11,7));a=0,o=i,0===s?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4)}};let C=!1;const D=(e,t,r,n)=>{v(e,0+(n?1:0),3),I(e),E(e,r),E(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r};e.exports._tr_init=e=>{C||((()=>{let e,t,o,g,m;const E=new Array(16);for(o=0,g=0;g<28;g++)for(c[g]=o,e=0;e<1<<r[g];e++)u[o++]=g;for(u[o-1]=g,m=0,g=0;g<16;g++)for(d[g]=m,e=0;e<1<<n[g];e++)l[m++]=g;for(m>>=7;g<30;g++)for(d[g]=m<<7,e=0;e<1<<n[g]-7;e++)l[256+m++]=g;for(t=0;t<=15;t++)E[t]=0;for(e=0;e<=143;)s[2*e+1]=8,e++,E[8]++;for(;e<=255;)s[2*e+1]=9,e++,E[9]++;for(;e<=279;)s[2*e+1]=7,e++,E[7]++;for(;e<=287;)s[2*e+1]=8,e++,E[8]++;for(w(s,287,E),e=0;e<30;e++)a[2*e+1]=5,a[2*e]=b(e,5);p=new h(s,r,257,286,15),f=new h(a,n,0,30,15),_=new h(new Array(0),i,0,19,7)})(),C=!0),e.l_desc=new g(e.dyn_ltree,p),e.d_desc=new g(e.dyn_dtree,f),e.bl_desc=new g(e.bl_tree,_),e.bi_buf=0,e.bi_valid=0,S(e)},e.exports._tr_stored_block=D,e.exports._tr_flush_block=(e,t,r,n)=>{let i,l,u=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),N(e,e.l_desc),N(e,e.d_desc),u=(e=>{let t;for(T(e,e.dyn_ltree,e.l_desc.max_code),T(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*o[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,l=e.static_len+3+7>>>3,l<=i&&(i=l)):i=l=r+5,r+4<=i&&-1!==t?D(e,t,r,n):4===e.strategy||l===i?(v(e,2+(n?1:0),3),O(e,s,a)):(v(e,4+(n?1:0),3),((e,t,r,n)=>{let i;for(v(e,t-257,5),v(e,r-1,5),v(e,n-4,4),i=0;i<n;i++)v(e,e.bl_tree[2*o[i]+1],3);M(e,e.dyn_ltree,t-1),M(e,e.dyn_dtree,r-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),O(e,e.dyn_ltree,e.dyn_dtree)),S(e),n&&I(e)},e.exports._tr_tally=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(u[r]+256+1)]++,e.dyn_dtree[2*m(t)]++),e.sym_next===e.sym_end),e.exports._tr_align=e=>{v(e,2,3),y(e,256,s),(e=>{16===e.bi_valid?(E(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},2292:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},5353:(e,t,r)=>{"use strict";r.d(t,{ZT:()=>i,pi:()=>o,_T:()=>s,mG:()=>a,Jh:()=>l,ev:()=>u});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function a(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}function l(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function u(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},306:e=>{"use strict";e.exports=JSON.parse('{"name":"@biosensesignal/web-sdk","version":"5.11.1-1","license":"UNLICENSED","main":"dist/main.js","files":["dist/**/*"],"scripts":{"prebuild":"rimraf dist && rimraf biosensesignal-web-sdk-v5.11.1-1.tgz","build":"cross-env NODE_ENV=production NODE_OPTIONS=\'--max-old-space-size=16384\' webpack --progress && npm pack","build-yarn":"cross-env NODE_ENV=production NODE_OPTIONS=\'--max-old-space-size=16384\' webpack --progress && yarn pack"},"devDependencies":{"@biosensesignal/wasm":"5.11.1-1","filemanager-webpack-plugin":"^6.1.7","glob":"^10.3.10"},"dependencies":{"@segment/analytics-next":"^1.70.0","@types/dom-mediacapture-transform":"^0.1.4","@types/dom-webcodecs":"^0.1.5","ismobilejs":"^1.1.1","pako":"^2.1.0","tslib":"^2.6.3","ua-parser-js":"^1.0.2"}}')},2228:(e,t,r)=>{"use strict";r.d(t,{v4:()=>s});for(var n,i=256,o=[];i--;)o[i]=(i+256).toString(16).substring(1);function s(){var e,t=0,r="";if(!n||i+16>256){for(n=Array(t=256);t--;)n[t]=256*Math.random()|0;t=i=0}for(;t<16;t++)e=n[i+t],r+=6==t?o[15&e|64]:8==t?o[63&e|128]:o[e],1&t&&t>1&&t<11&&(r+="-");return i++,r}},5117:(e,t,r)=>{"use strict";function n(e,t){return new Promise((function(r,n){var i=setTimeout((function(){n(Error("Promise timed out"))}),t);e.then((function(e){return clearTimeout(i),r(e)})).catch(n)}))}function i(e,t,r){var i;return(i=r,new Promise((function(e){return setTimeout(e,i)}))).then((function(){return n(function(){try{return Promise.resolve(t(e))}catch(e){return Promise.reject(e)}}(),1e3)})).catch((function(t){null==e||e.log("warn","Callback Error",{error:t}),null==e||e.stats.increment("callback_error")})).then((function(){return e}))}r.d(t,{FJ:()=>n,UI:()=>i})},2035:(e,t,r)=>{"use strict";r.d(t,{Y:()=>l,_:()=>u});var n=r(2228),i=r(8168),o=r(5353),s=function(){function e(){this._logs=[]}return e.prototype.log=function(e,t,r){var n=new Date;this._logs.push({level:e,message:t,time:n,extras:r})},Object.defineProperty(e.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),e.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce((function(e,t){var r,n,i,s=(0,o.pi)((0,o.pi)({},t),{json:JSON.stringify(t.extras,null," "),extras:t.extras});delete s.time;var a=null!==(i=null===(n=t.time)||void 0===n?void 0:n.toISOString())&&void 0!==i?i:"";return e[a]&&(a="".concat(a,"-").concat(Math.random())),(0,o.pi)((0,o.pi)({},e),((r={})[a]=s,r))}),{});console.table?console.table(e):console.log(e)}else this.logs.forEach((function(e){var t=e.level,r=e.message,n=e.extras;"info"===t||"debug"===t?console.log(r,null!=n?n:""):console[t](r,null!=n?n:"")}));this._logs=[]},e}(),a=r(5496),l=function(e){var t,r,n;this.retry=null===(t=e.retry)||void 0===t||t,this.type=null!==(r=e.type)&&void 0!==r?r:"plugin Error",this.reason=null!==(n=e.reason)&&void 0!==n?n:""},u=function(){function e(e,t,r,i){void 0===t&&(t=(0,n.v4)()),void 0===r&&(r=new a.i),void 0===i&&(i=new s),this.attempts=0,this.event=e,this._id=t,this.logger=i,this.stats=r}return e.system=function(){},e.prototype.isSame=function(e){return e.id===this.id},e.prototype.cancel=function(e){if(e)throw e;throw new l({reason:"Context Cancel"})},e.prototype.log=function(e,t,r){this.logger.log(e,t,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.updateEvent=function(e,t){var r;if("integrations"===e.split(".")[0]){var n=e.split(".")[1];if(!1===(null===(r=this.event.integrations)||void 0===r?void 0:r[n]))return this.event}return(0,i.N)(this.event,e,t),this.event},e.prototype.failedDelivery=function(){return this._failedDelivery},e.prototype.setFailedDelivery=function(e){this._failedDelivery=e},e.prototype.logs=function(){return this.logger.logs},e.prototype.flush=function(){this.logger.flush(),this.stats.flush()},e.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},e}()},5567:(e,t,r)=>{"use strict";r.d(t,{M:()=>o,Z:()=>s});var n=r(5353),i=r(4124),o="onRemoveFromFuture",s=function(e){function t(t,r,n){var i=e.call(this)||this;return i.future=[],i.maxAttempts=t,i.queue=r,i.seen=null!=n?n:{},i}return(0,n.ZT)(t,e),t.prototype.push=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.map((function(t){return!(e.updateAttempts(t)>e.maxAttempts||e.includes(t)||(e.queue.push(t),0))}));return this.queue=this.queue.sort((function(t,r){return e.getAttempts(t)-e.getAttempts(r)})),n},t.prototype.pushWithBackoff=function(e){var t=this;if(0===this.getAttempts(e))return this.push(e)[0];var r=this.updateAttempts(e);if(r>this.maxAttempts||this.includes(e))return!1;var n=function(e){var t=Math.random()+1,r=e.minTimeout,n=void 0===r?500:r,i=e.factor,o=void 0===i?2:i,s=e.attempt,a=e.maxTimeout,l=void 0===a?1/0:a;return Math.min(t*n*Math.pow(o,s),l)}({attempt:r-1});return setTimeout((function(){t.queue.push(e),t.future=t.future.filter((function(t){return t.id!==e.id})),t.emit(o)}),n),this.future.push(e),!0},t.prototype.getAttempts=function(e){var t;return null!==(t=this.seen[e.id])&&void 0!==t?t:0},t.prototype.updateAttempts=function(e){return this.seen[e.id]=this.getAttempts(e)+1,this.getAttempts(e)},t.prototype.includes=function(e){return this.queue.includes(e)||this.future.includes(e)||Boolean(this.queue.find((function(t){return t.id===e.id})))||Boolean(this.future.find((function(t){return t.id===e.id})))},t.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),t}(i.Q)},9056:(e,t,r)=>{"use strict";r.d(t,{a:()=>o,z:()=>s});var n=r(5353),i=r(2035);function o(e,t){e.log("debug","plugin",{plugin:t.name});var r=(new Date).getTime(),o=t[e.event.type];return void 0===o?Promise.resolve(e):function(r){return(0,n.mG)(this,void 0,void 0,(function(){var r;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,o.apply(t,[e])];case 1:return[2,n.sent()];case 2:return r=n.sent(),[2,Promise.reject(r)];case 3:return[2]}}))}))}().then((function(e){var n=(new Date).getTime()-r;return e.stats.gauge("plugin_time",n,["plugin:".concat(t.name)]),e})).catch((function(r){if(r instanceof i.Y&&"middleware_cancellation"===r.type)throw r;return r instanceof i.Y?(e.log("warn",r.type,{plugin:t.name,error:r}),r):(e.log("error","plugin Error",{plugin:t.name,error:r}),e.stats.increment("plugin_error",1,["plugin:".concat(t.name)]),r)}))}function s(e,t){return o(e,t).then((function(t){if(t instanceof i._)return t;e.log("debug","Context canceled"),e.stats.increment("context_canceled"),e.cancel(t)}))}},5496:(e,t,r)=>{"use strict";r.d(t,{s:()=>i,i:()=>o});var n=r(5353),i=function(){function e(){this.metrics=[]}return e.prototype.increment=function(e,t,r){void 0===t&&(t=1),this.metrics.push({metric:e,value:t,tags:null!=r?r:[],type:"counter",timestamp:Date.now()})},e.prototype.gauge=function(e,t,r){this.metrics.push({metric:e,value:t,tags:null!=r?r:[],type:"gauge",timestamp:Date.now()})},e.prototype.flush=function(){var e=this.metrics.map((function(e){return(0,n.pi)((0,n.pi)({},e),{tags:e.tags.join(",")})}));console.table?console.table(e):console.log(e),this.metrics=[]},e.prototype.serialize=function(){return this.metrics.map((function(e){return{m:e.metric,v:e.value,t:e.tags,k:(t=e.type,{gauge:"g",counter:"c"}[t]),e:e.timestamp};var t}))},e}(),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.ZT)(t,e),t.prototype.gauge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.increment=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.flush=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.serialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return[]},t}(i)},2082:(e,t,r)=>{"use strict";function n(e){return"string"==typeof e}function i(e){return"number"==typeof e}function o(e){return"function"==typeof e}function s(e){return null!=e}function a(e){return"object"===Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}r.d(t,{HD:()=>n,hj:()=>i,mf:()=>o,Gg:()=>s,PO:()=>a})},7958:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});var n=function(){var e,t,r=!1,n=new Promise((function(n,i){e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r=!0,n.apply(void 0,e)},t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r=!0,i.apply(void 0,e)}}));return{resolve:e,reject:t,promise:n,isSettled:function(){return r}}}},4124:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var n=function(){function e(e){var t;this.callbacks={},this.warned=!1,this.maxListeners=null!==(t=null==e?void 0:e.maxListeners)&&void 0!==t?t:10}return e.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},e.prototype.on=function(e,t){return this.callbacks[e]?(this.callbacks[e].push(t),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[t],this},e.prototype.once=function(e,t){var r=this,n=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];r.off(e,n),t.apply(r,i)};return this.on(e,n),this},e.prototype.off=function(e,t){var r,n=(null!==(r=this.callbacks[e])&&void 0!==r?r:[]).filter((function(e){return e!==t}));return this.callbacks[e]=n,this},e.prototype.emit=function(e){for(var t,r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=null!==(t=this.callbacks[e])&&void 0!==t?t:[];return o.forEach((function(e){e.apply(r,n)})),this},e}()},1946:(e,t,r)=>{"use strict";r.d(t,{G:()=>i,s:()=>o});var n=r(9677);function i(){return!(0,n.j)()||window.navigator.onLine}function o(){return!i()}},1765:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});var n="api.segment.io/v1"},8302:(e,t,r)=>{"use strict";r.d(t,{_:()=>s,Y:()=>i.Y});var n=r(5353),i=r(2035),o=r(3098),s=function(e){function t(t,r){return e.call(this,t,r,new o.j)||this}return(0,n.ZT)(t,e),t.system=function(){return new this({type:"track",event:"system"})},t}(i._)},9677:(e,t,r)=>{"use strict";function n(){return"undefined"!=typeof window}function i(){return!n()}r.d(t,{j:()=>n,s:()=>i})},7554:(e,t,r)=>{"use strict";function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}r.d(t,{a:()=>n})},3098:(e,t,r)=>{"use strict";r.d(t,{j:()=>h});var n=r(5353),i=r(5496),o=r(5787),s=r(8497),a=r(3771),l=r(1765);function u(e){console.error("Error sending segment performance metrics",e)}var c,d=function(){function e(e){var t,r,n,i,o,s=this;if(this.host=null!==(t=null==e?void 0:e.host)&&void 0!==t?t:l.U,this.sampleRate=null!==(r=null==e?void 0:e.sampleRate)&&void 0!==r?r:1,this.flushTimer=null!==(n=null==e?void 0:e.flushTimer)&&void 0!==n?n:3e4,this.maxQueueSize=null!==(i=null==e?void 0:e.maxQueueSize)&&void 0!==i?i:20,this.protocol=null!==(o=null==e?void 0:e.protocol)&&void 0!==o?o:"https",this.queue=[],this.sampleRate>0){var a=!1,c=function(){a||(a=!0,s.flush().catch(u),a=!1,setTimeout(c,s.flushTimer))};c()}}return e.prototype.increment=function(e,t){if(e.includes("analytics_js.")&&0!==t.length&&!(Math.random()>this.sampleRate||this.queue.length>=this.maxQueueSize)){var r=function(e,t,r){var i=t.reduce((function(e,t){var r=t.split(":"),n=r[0],i=r[1];return e[n]=i,e}),{});return{type:"Counter",metric:e,value:1,tags:(0,n.pi)((0,n.pi)({},i),{library:"analytics.js",library_version:"web"===r?"next-".concat(s.i):"npm:next-".concat(s.i)})}}(e,t,(0,a.B)());this.queue.push(r),e.includes("error")&&this.flush().catch(u)}},e.prototype.flush=function(){return(0,n.mG)(this,void 0,void 0,(function(){var e=this;return(0,n.Jh)(this,(function(t){switch(t.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch((function(t){u(t),e.sampleRate=0}))];case 1:return t.sent(),[2]}}))}))},e.prototype.send=function(){return(0,n.mG)(this,void 0,void 0,(function(){var e,t,r;return(0,n.Jh)(this,(function(n){return e={series:this.queue},this.queue=[],t={"Content-Type":"text/plain"},r="".concat(this.protocol,"://").concat(this.host,"/m"),[2,(0,o.h)(r,{headers:t,body:JSON.stringify(e),method:"POST"})]}))}))},e}(),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.ZT)(t,e),t.initRemoteMetrics=function(e){c=new d(e)},t.prototype.increment=function(t,r,n){e.prototype.increment.call(this,t,r,n),null==c||c.increment(t,null!=n?n:[])},t}(i.s)},8653:(e,t,r)=>{"use strict";function n(e,t){var r=t.methodName,n=t.integrationName,i=t.type,o=t.didError,s=void 0!==o&&o;e.stats.increment("analytics_js.integration.invoke".concat(s?".error":""),1,["method:".concat(r),"integration_name:".concat(n),"type:".concat(i)])}r.d(t,{z:()=>n})},8497:(e,t,r)=>{"use strict";r.d(t,{i:()=>n});var n="1.72.1"},8648:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Analytics:()=>pe,AnalyticsBrowser:()=>Ze,AnalyticsNode:()=>$e,Context:()=>c._,ContextCancelation:()=>c.Y,EventFactory:()=>R,Group:()=>K,UniversalStorage:()=>W,User:()=>Z,getGlobalAnalytics:()=>J.wI,isDestinationPluginWithAddMiddleware:()=>A,resolveAliasArguments:()=>l,resolveArguments:()=>o,resolvePageArguments:()=>s,resolveUserArguments:()=>a,segmentio:()=>je});var n=r(5353),i=r(2082);function o(e,t,r,n){var o,s=[e,t,r,n],a=(0,i.PO)(e)?e.event:e;if(!a||!(0,i.HD)(a))throw new Error("Event missing");var l=(0,i.PO)(e)?null!==(o=e.properties)&&void 0!==o?o:{}:(0,i.PO)(t)?t:{},u={};return(0,i.mf)(r)||(u=null!=r?r:{}),(0,i.PO)(e)&&!(0,i.mf)(t)&&(u=null!=t?t:{}),[a,l,u,s.find(i.mf)]}function s(e,t,r,n,o){var s,a,l=null,u=null,c=[e,t,r,n,o],d=c.filter(i.HD);void 0!==d[0]&&void 0!==d[1]&&(l=d[0],u=d[1]),1===d.length&&(l=null,u=d[0]);var h=c.find(i.mf),p=c.filter((function(e){return null===u?(0,i.PO)(e):(0,i.PO)(e)||null===e})),f=null!==(s=p[0])&&void 0!==s?s:{},_=null!==(a=p[1])&&void 0!==a?a:{};return[l,u,f,_,h]}var a=function(e){return function(){for(var t,r,n,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];for(var a={},l=["callback","options","traits","id"],u=0,c=o;u<c.length;u++){var d=c[u],h=l.pop();if("id"===h){if((0,i.HD)(d)||(0,i.hj)(d)){a.id=d.toString();continue}if(null==d)continue;h=l.pop()}if("traits"!==h&&"options"!==h||null!=d&&!(0,i.PO)(d)||(a[h]=d),(0,i.mf)(d)){a.callback=d;break}}return[null!==(t=a.id)&&void 0!==t?t:e.id(),null!==(r=a.traits)&&void 0!==r?r:{},null!==(n=a.options)&&void 0!==n?n:{},a.callback]}};function l(e,t,r,n){(0,i.hj)(e)&&(e=e.toString()),(0,i.hj)(t)&&(t=t.toString());var o=[e,t,r,n],s=o.filter(i.HD),a=s[0],l=void 0===a?e:a,u=s[1],c=void 0===u?null:u,d=o.filter(i.PO)[0];return[l,c,void 0===d?{}:d,o.find(i.mf)]}var u=r(1946),c=r(8302),d=r(5117);function h(e,t,r,i){return(0,n.mG)(this,void 0,void 0,(function(){var o,s;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return r.emit("dispatch_start",e),o=Date.now(),t.isEmpty()?[4,t.dispatchSingle(e)]:[3,2];case 1:return s=n.sent(),[3,4];case 2:return[4,t.dispatch(e)];case 3:s=n.sent(),n.label=4;case 4:return(null==i?void 0:i.callback)?[4,(0,d.UI)(s,i.callback,(a=o,l=i.timeout,u=Date.now()-a,Math.max((null!=l?l:300)-u,0)))]:[3,6];case 5:s=n.sent(),n.label=6;case 6:return(null==i?void 0:i.debug)&&s.flush(),[2,s]}var a,l,u}))}))}var p=r(4124),f=r(2228),_=function(e,t,r,n,i,o){return{__t:"bpc",c:t,p:n,u:e,s:r,t:i,r:o}},g=Object.keys(_("","","","","","")),m=function(e){var t,r,n=e.c,i=e.p,o=e.s,s=e.u,a=e.r,l=e.t;return{path:n?function(e){try{return new URL(e).pathname}catch(t){return"/"===e[0]?e:"/"+e}}(n):i,referrer:a,search:o,title:l,url:n?function(e,t){return e.indexOf("?")>-1?e:e+t}(n,o):-1===(r=(t=s).indexOf("#"))?t:t.slice(0,r)}},E=function(){var e=document.querySelector("link[rel='canonical']");return _(location.href,e&&e.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},v=function(e,t){void 0===t&&(t=m(E()));var r,i,o,s=e.context;"page"===e.type&&(r=e.properties&&(i=e.properties,o=Object.keys(t),Object.assign.apply(Object,(0,n.ev)([{}],o.map((function(e){var t;if(i&&Object.prototype.hasOwnProperty.call(i,e))return(t={})[e]=i[e],t})),!1))),e.properties=(0,n.pi)((0,n.pi)((0,n.pi)({},t),e.properties),e.name?{name:e.name}:{})),s.page=(0,n.pi)((0,n.pi)((0,n.pi)({},t),r),s.page)},y=r(8168),b=function(e){function t(t,r){var n=e.call(this,"".concat(t," ").concat(r))||this;return n.field=t,n}return(0,n.ZT)(t,e),t}(Error),w="is not a string",S="is not an object";var I=function(e){var t,r;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=null!==(t=e.onEventMethodCall)&&void 0!==t?t:function(){},this.onFinishedEvent=null!==(r=e.onFinishedEvent)&&void 0!==r?r:function(){}},R=function(e){function t(t){var r=e.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat((0,f.v4)())},onEventMethodCall:function(e){var t=e.options;r.maybeUpdateAnonId(t)},onFinishedEvent:function(e){return r.addIdentity(e),e}})||this;return r.user=t,r}return(0,n.ZT)(t,e),t.prototype.maybeUpdateAnonId=function(e){(null==e?void 0:e.anonymousId)&&this.user.anonymousId(e.anonymousId)},t.prototype.addIdentity=function(e){this.user.id()&&(e.userId=this.user.id()),this.user.anonymousId()&&(e.anonymousId=this.user.anonymousId())},t.prototype.track=function(t,r,n,i,o){var s=e.prototype.track.call(this,t,r,n,i);return v(s,o),s},t.prototype.page=function(t,r,n,i,o,s){var a=e.prototype.page.call(this,t,r,n,i,o);return v(a,s),a},t.prototype.screen=function(t,r,n,i,o,s){var a=e.prototype.screen.call(this,t,r,n,i,o);return v(a,s),a},t.prototype.identify=function(t,r,n,i,o){var s=e.prototype.identify.call(this,t,r,n,i);return v(s,o),s},t.prototype.group=function(t,r,n,i,o){var s=e.prototype.group.call(this,t,r,n,i);return v(s,o),s},t.prototype.alias=function(t,r,n,i,o){var s=e.prototype.alias.call(this,t,r,n,i);return v(s,o),s},t}(function(){function e(e){this.settings=new I(e)}return e.prototype.track=function(e,t,r,i){return this.settings.onEventMethodCall({type:"track",options:r}),this.normalize((0,n.pi)((0,n.pi)({},this.baseEvent()),{event:e,type:"track",properties:null!=t?t:{},options:(0,n.pi)({},r),integrations:(0,n.pi)({},i)}))},e.prototype.page=function(e,t,r,i,o){var s;this.settings.onEventMethodCall({type:"page",options:i});var a={type:"page",properties:(0,n.pi)({},r),options:(0,n.pi)({},i),integrations:(0,n.pi)({},o)};return null!==e&&(a.category=e,a.properties=null!==(s=a.properties)&&void 0!==s?s:{},a.properties.category=e),null!==t&&(a.name=t),this.normalize((0,n.pi)((0,n.pi)({},this.baseEvent()),a))},e.prototype.screen=function(e,t,r,i,o){this.settings.onEventMethodCall({type:"screen",options:i});var s={type:"screen",properties:(0,n.pi)({},r),options:(0,n.pi)({},i),integrations:(0,n.pi)({},o)};return null!==e&&(s.category=e),null!==t&&(s.name=t),this.normalize((0,n.pi)((0,n.pi)({},this.baseEvent()),s))},e.prototype.identify=function(e,t,r,i){return this.settings.onEventMethodCall({type:"identify",options:r}),this.normalize((0,n.pi)((0,n.pi)({},this.baseEvent()),{type:"identify",userId:e,traits:null!=t?t:{},options:(0,n.pi)({},r),integrations:i}))},e.prototype.group=function(e,t,r,i){return this.settings.onEventMethodCall({type:"group",options:r}),this.normalize((0,n.pi)((0,n.pi)({},this.baseEvent()),{type:"group",traits:null!=t?t:{},options:(0,n.pi)({},r),integrations:(0,n.pi)({},i),groupId:e}))},e.prototype.alias=function(e,t,r,i){this.settings.onEventMethodCall({type:"alias",options:r});var o={userId:e,type:"alias",options:(0,n.pi)({},r),integrations:(0,n.pi)({},i)};return null!==t&&(o.previousId=t),void 0===e?this.normalize((0,n.pi)((0,n.pi)({},o),this.baseEvent())):this.normalize((0,n.pi)((0,n.pi)({},this.baseEvent()),o))},e.prototype.baseEvent=function(){return{integrations:{},options:{}}},e.prototype.context=function(e){var t,r=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var n=Object.keys(e),i=null!==(t=e.context)&&void 0!==t?t:{},o={};return n.forEach((function(t){"context"!==t&&(r.includes(t)?(0,y.N)(o,t,e[t]):(0,y.N)(i,t,e[t]))})),[i,o]},e.prototype.normalize=function(e){var t,r,o,s,a=Object.keys(null!==(t=e.integrations)&&void 0!==t?t:{}).reduce((function(t,r){var i,o;return(0,n.pi)((0,n.pi)({},t),((i={})[r]=Boolean(null===(o=e.integrations)||void 0===o?void 0:o[r]),i))}),{});e.options=(o=e.options||{},s=function(e,t){return void 0!==t},Object.keys(o).filter((function(e){return s(0,o[e])})).reduce((function(e,t){return e[t]=o[t],e}),{}));var l=(0,n.pi)((0,n.pi)({},a),null===(r=e.options)||void 0===r?void 0:r.integrations),u=e.options?this.context(e.options):[],c=u[0],d=u[1],h=e.options,p=(0,n._T)(e,["options"]),f=(0,n.pi)((0,n.pi)((0,n.pi)((0,n.pi)({timestamp:new Date},p),{context:c,integrations:l}),d),{messageId:h.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(f),function(e){!function(e){if(!(0,i.Gg)(e))throw new b("Event","is nil");if("object"!=typeof e)throw new b("Event",S)}(e),function(e){if(!(0,i.HD)(e.type))throw new b(".type",w)}(e),function(e){if(!(0,i.HD)(e.messageId))throw new b(".messageId",w)}(e),"track"===e.type&&(function(e){if(!(0,i.HD)(e.event))throw new b(".event",w)}(e),function(e){if(!(0,i.PO)(e.properties))throw new b(".properties",S)}(e)),["group","identify"].includes(e.type)&&function(e){if(!(0,i.PO)(e.traits))throw new b(".traits",S)}(e)}(f),f},e}()),A=function(e){return"addMiddleware"in e&&"destination"===e.type},O=r(6804),N=r(5567),T=r(2035),M=r(9056),C=function(e){function t(t){return e.call(this,"string"==typeof t?new O.$(4,t):t)||this}return(0,n.ZT)(t,e),t.prototype.flush=function(){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(t){return(0,u.s)()?[2,[]]:[2,e.prototype.flush.call(this)]}))}))},t}(function(e){function t(t){var r,n,i,o=e.call(this)||this;return o.criticalTasks=(i=0,{done:function(){return r},run:function(e){var t,o=e();return"object"==typeof(t=o)&&null!==t&&"then"in t&&"function"==typeof t.then&&(1==++i&&(r=new Promise((function(e){return n=e}))),o.finally((function(){return 0==--i&&n()}))),o}}),o.plugins=[],o.failedInitializations=[],o.flushing=!1,o.queue=t,o.queue.on(N.M,(function(){o.scheduleFlush(0)})),o}return(0,n.ZT)(t,e),t.prototype.register=function(e,t,r){return(0,n.mG)(this,void 0,void 0,(function(){var i,o,s=this;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return this.plugins.push(t),i=function(r){s.failedInitializations.push(t.name),s.emit("initialization_failure",t),console.warn(t.name,r),e.log("warn","Failed to load destination",{plugin:t.name,error:r}),s.plugins=s.plugins.filter((function(e){return e!==t}))},"destination"!==t.type||"Segment.io"===t.name?[3,1]:(t.load(e,r).catch(i),[3,4]);case 1:return n.trys.push([1,3,,4]),[4,t.load(e,r)];case 2:return n.sent(),[3,4];case 3:return o=n.sent(),i(o),[3,4];case 4:return[2]}}))}))},t.prototype.deregister=function(e,t,r){return(0,n.mG)(this,void 0,void 0,(function(){var i;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t.unload?[4,Promise.resolve(t.unload(e,r))]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.plugins=this.plugins.filter((function(e){return e.name!==t.name})),[3,4];case 3:return i=n.sent(),e.log("warn","Failed to unload destination",{plugin:t.name,error:i}),[3,4];case 4:return[2]}}))}))},t.prototype.dispatch=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t;return(0,n.Jh)(this,(function(r){return e.log("debug","Dispatching"),e.stats.increment("message_dispatched"),this.queue.push(e),t=this.subscribeToDelivery(e),this.scheduleFlush(0),[2,t]}))}))},t.prototype.subscribeToDelivery=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t=this;return(0,n.Jh)(this,(function(r){return[2,new Promise((function(r){var n=function(i,o){i.isSame(e)&&(t.off("flush",n),r(i))};t.on("flush",n)}))]}))}))},t.prototype.dispatchSingle=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t=this;return(0,n.Jh)(this,(function(r){return e.log("debug","Dispatching"),e.stats.increment("message_dispatched"),this.queue.updateAttempts(e),e.attempts=1,[2,this.deliver(e).catch((function(r){return t.enqueuRetry(r,e)?t.subscribeToDelivery(e):(e.setFailedDelivery({reason:r}),e)}))]}))}))},t.prototype.isEmpty=function(){return 0===this.queue.length},t.prototype.scheduleFlush=function(e){var t=this;void 0===e&&(e=500),this.flushing||(this.flushing=!0,setTimeout((function(){t.flush().then((function(){setTimeout((function(){t.flushing=!1,t.queue.length&&t.scheduleFlush(0)}),0)}))}),e))},t.prototype.deliver=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t,r,i,o;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.criticalTasks.done()];case 1:n.sent(),t=Date.now(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.flushOne(e)];case 3:return e=n.sent(),r=Date.now()-t,this.emit("delivery_success",e),e.stats.gauge("delivered",r),e.log("debug","Delivered",e.event),[2,e];case 4:throw i=n.sent(),o=i,e.log("error","Failed to deliver",o),this.emit("delivery_failure",e,o),e.stats.increment("delivery_failed"),i;case 5:return[2]}}))}))},t.prototype.enqueuRetry=function(e,t){return!(e instanceof T.Y&&!e.retry)&&this.queue.pushWithBackoff(t)},t.prototype.flush=function(){return(0,n.mG)(this,void 0,void 0,(function(){var e,t;return(0,n.Jh)(this,(function(r){switch(r.label){case 0:if(0===this.queue.length)return[2,[]];if(!(e=this.queue.pop()))return[2,[]];e.attempts=this.queue.getAttempts(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.deliver(e)];case 2:return e=r.sent(),this.emit("flush",e,!0),[3,4];case 3:return t=r.sent(),this.enqueuRetry(t,e)||(e.setFailedDelivery({reason:t}),this.emit("flush",e,!1)),[2,[]];case 4:return[2,[e]]}}))}))},t.prototype.isReady=function(){return!0},t.prototype.availableExtensions=function(e){var t,r=this.plugins.filter((function(t){var r,n,i;if("destination"!==t.type&&"Segment.io"!==t.name)return!0;var o=void 0;return null===(r=t.alternativeNames)||void 0===r||r.forEach((function(t){void 0!==e[t]&&(o=e[t])})),null!==(i=null!==(n=e[t.name])&&void 0!==n?n:o)&&void 0!==i?i:!1!==("Segment.io"===t.name||e.All)})),i=("type",t={},r.forEach((function(e){var r,i=void 0,o=e.type;void 0!==(i="string"!=typeof o?JSON.stringify(o):o)&&(t[i]=(0,n.ev)((0,n.ev)([],null!==(r=t[i])&&void 0!==r?r:[],!0),[e],!1))})),t),o=i.before,s=void 0===o?[]:o,a=i.enrichment,l=void 0===a?[]:a,u=i.destination,c=void 0===u?[]:u,d=i.after;return{before:s,enrichment:l,destinations:c,after:void 0===d?[]:d}},t.prototype.flushOne=function(e){var t,r;return(0,n.mG)(this,void 0,void 0,(function(){var i,o,s,a,l,u,c,d,h,p,f,_,g,m;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:if(!this.isReady())throw new Error("Not ready");e.attempts>1&&this.emit("delivery_retry",e),i=this.availableExtensions(null!==(t=e.event.integrations)&&void 0!==t?t:{}),o=i.before,s=i.enrichment,a=0,l=o,n.label=1;case 1:return a<l.length?(u=l[a],[4,(0,M.z)(e,u)]):[3,4];case 2:(p=n.sent())instanceof T._&&(e=p),this.emit("message_enriched",e,u),n.label=3;case 3:return a++,[3,1];case 4:c=0,d=s,n.label=5;case 5:return c<d.length?(h=d[c],[4,(0,M.a)(e,h)]):[3,8];case 6:(p=n.sent())instanceof T._&&(e=p),this.emit("message_enriched",e,h),n.label=7;case 7:return c++,[3,5];case 8:return f=this.availableExtensions(null!==(r=e.event.integrations)&&void 0!==r?r:{}),_=f.destinations,g=f.after,[4,new Promise((function(t,r){setTimeout((function(){var n=_.map((function(t){return(0,M.a)(e,t)}));Promise.all(n).then(t).catch(r)}),0)}))];case 9:return n.sent(),e.stats.increment("message_delivered"),this.emit("message_delivered",e),m=g.map((function(t){return(0,M.a)(e,t)})),[4,Promise.all(m)];case 10:return n.sent(),[2,e]}}))}))},t}(p.Q));function D(e){for(var t=e.constructor.prototype,r=0,n=Object.getOwnPropertyNames(t);r<n.length;r++){var i=n[r];if("constructor"!==i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);o&&"function"==typeof o.value&&(e[i]=e[i].bind(e))}}return e}function L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}const k=function e(t,r){function n(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=L({},r,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in i)i[s]&&(o+="; "+s,!0!==i[s]&&(o+="="+i[s].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+o}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},i=0;i<r.length;i++){var o=r[i].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(n[a]=t.read(s,a),e===a)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){n(e,"",L({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,L({},this.attributes,t))},withConverter:function(t){return e(L({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function P(e){var t=function(e){try{return new URL(e)}catch(e){return}}(e);if(t)for(var r=function(e){var t=e.hostname.split("."),r=t[t.length-1],n=[];if(4===t.length&&parseInt(r,10)>0)return n;if(t.length<=1)return n;for(var i=t.length-2;i>=0;--i)n.push(t.slice(i).join("."));return n}(t),n=0;n<r.length;++n){var i="__tld__",o=r[n],s={domain:"."+o};try{if(k.set(i,"1",s),k.get(i))return k.remove(i,s),o}catch(e){return}}}var x=function(){function e(t){void 0===t&&(t=e.defaults),this.options=(0,n.pi)((0,n.pi)({},e.defaults),t)}return Object.defineProperty(e,"defaults",{get:function(){return{maxage:365,domain:P(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),e.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},e.prototype.get=function(e){var t;try{var r=k.get(e);if(null==r)return null;try{return null!==(t=JSON.parse(r))&&void 0!==t?t:null}catch(e){return null!=r?r:null}}catch(e){return null}},e.prototype.set=function(e,t){"string"==typeof t?k.set(e,t,this.opts()):null===t?k.remove(e,this.opts()):k.set(e,JSON.stringify(t),this.opts())},e.prototype.remove=function(e){return k.remove(e,this.opts())},e}(),F=function(){function e(){}return e.prototype.localStorageWarning=function(e,t){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(t))},e.prototype.get=function(e){var t;try{var r=localStorage.getItem(e);if(null===r)return null;try{return null!==(t=JSON.parse(r))&&void 0!==t?t:null}catch(e){return null!=r?r:null}}catch(t){return this.localStorageWarning(e,"unavailable"),null}},e.prototype.set=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(t){this.localStorageWarning(e,"full")}},e.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch(t){this.localStorageWarning(e,"unavailable")}},e}(),H=function(){function e(){this.cache={}}return e.prototype.get=function(e){var t;return null!==(t=this.cache[e])&&void 0!==t?t:null},e.prototype.set=function(e,t){this.cache[e]=t},e.prototype.remove=function(e){delete this.cache[e]},e}(),U={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function B(e){return e&&e.stores&&Array.isArray(e.stores)&&e.stores.every((function(e){return Object.values(U).includes(e)}))}function j(e){return e.map((function(e){var t,r;switch(function(e){return"object"==typeof e&&void 0!==e.name}(e)?(t=e.name,r=e.settings):t=e,t){case U.Cookie:return new x(r);case U.LocalStorage:return new F;case U.Memory:return new H;default:throw new Error("Unknown Store Type: ".concat(e))}}))}function G(e,t){return e.map((function(e){return t&&e===U.Cookie?{name:e,settings:t}:e}))}var z=function(e,t,r,n){console.warn("".concat(e.constructor.name,": Can't ").concat(t,' key "').concat(r,'" | Err: ').concat(n))},W=function(){function e(e){this.stores=e}return e.prototype.get=function(e){for(var t=null,r=0,n=this.stores;r<n.length;r++){var i=n[r];try{if(null!=(t=i.get(e)))return t}catch(t){z(i,"get",e,t)}}return null},e.prototype.set=function(e,t){this.stores.forEach((function(r){try{r.set(e,t)}catch(t){z(r,"set",e,t)}}))},e.prototype.clear=function(e){this.stores.forEach((function(t){try{t.remove(e)}catch(r){z(t,"remove",e,r)}}))},e.prototype.getAndSync=function(e){var t=this.get(e),r="number"==typeof t?t.toString():t;return this.set(e,r),r},e}(),V={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},Z=function(){function e(e,t){void 0===e&&(e=V);var r,i,o,s,a=this;this.options={},this.id=function(e){if(a.options.disable)return null;var t=a.identityStore.getAndSync(a.idKey);void 0!==e&&(a.identityStore.set(a.idKey,e),e!==t&&null!==t&&null!==e&&a.anonymousId(null));var r=a.identityStore.getAndSync(a.idKey);if(r)return r;var n=a.legacyUserStore.get(V.cookie.oldKey);return n?"object"==typeof n?n.id:n:null},this.anonymousId=function(e){var t,r;if(a.options.disable)return null;if(void 0===e){var n=null!==(t=a.identityStore.getAndSync(a.anonKey))&&void 0!==t?t:null===(r=a.legacySIO())||void 0===r?void 0:r[0];if(n)return n}return null===e?(a.identityStore.set(a.anonKey,null),a.identityStore.getAndSync(a.anonKey)):(a.identityStore.set(a.anonKey,null!=e?e:(0,f.v4)()),a.identityStore.getAndSync(a.anonKey))},this.traits=function(e){var t;if(!a.options.disable)return null===e&&(e={}),e&&a.traitsStore.set(a.traitsKey,null!=e?e:{}),null!==(t=a.traitsStore.get(a.traitsKey))&&void 0!==t?t:{}},this.options=(0,n.pi)((0,n.pi)({},V),e),this.cookieOptions=t,this.idKey=null!==(i=null===(r=e.cookie)||void 0===r?void 0:r.key)&&void 0!==i?i:V.cookie.key,this.traitsKey=null!==(s=null===(o=e.localStorage)||void 0===o?void 0:o.key)&&void 0!==s?s:V.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,t),this.legacyUserStore=this.createStorage(this.options,t,(function(e){return e===U.Cookie})),this.traitsStore=this.createStorage(this.options,t,(function(e){return e!==U.Cookie}));var l=this.legacyUserStore.get(V.cookie.oldKey);l&&"object"==typeof l&&(l.id&&this.id(l.id),l.traits&&this.traits(l.traits)),D(this)}return e.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var t=e.split("----");return[t[0],t[1]]},e.prototype.identify=function(e,t){if(!this.options.disable){t=null!=t?t:{};var r=this.id();null!==r&&r!==e||(t=(0,n.pi)((0,n.pi)({},this.traits()),t)),e&&this.id(e),this.traits(t)}},e.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},e.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},e.prototype.load=function(){return new e(this.options,this.cookieOptions)},e.prototype.save=function(){return!0},e.prototype.createStorage=function(e,t,r){var n=[U.LocalStorage,U.Cookie,U.Memory];return e.disable?new W([]):e.persist?(void 0!==e.storage&&null!==e.storage&&B(e.storage)&&(n=e.storage.stores),e.localStorageFallbackDisabled&&(n=n.filter((function(e){return e!==U.LocalStorage}))),r&&(n=n.filter(r)),new W(j(G(n,t)))):new W([new H])},e.defaults=V,e}(),$={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},K=function(e){function t(t,r){void 0===t&&(t=$);var i=e.call(this,(0,n.pi)((0,n.pi)({},$),t),r)||this;return i.anonymousId=function(e){},D(i),i}return(0,n.ZT)(t,e),t}(Z),q=r(8497),Y=r(9745),J=r(5983),X=function(e,t,r){r.getCalls(e).forEach((function(e){se(t,e).catch(console.error)}))},Q=function(e,t){return(0,n.mG)(void 0,void 0,void 0,(function(){var r,i,o;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:r=0,i=t.getCalls("addSourceMiddleware"),n.label=1;case 1:return r<i.length?(o=i[r],[4,se(e,o).catch(console.error)]):[3,4];case 2:n.sent(),n.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))},ee=X.bind(void 0,"on"),te=X.bind(void 0,"setAnonymousId"),re=function(e){if(ne(e)){var t=e.pop();return m(t)}},ne=function(e){return function(e){if(!(0,i.PO)(e))return!1;if("bpc"!==e.__t)return!1;for(var t in e)if(!g.includes(t))return!1;return!0}(e[e.length-1])},ie=function(e,t,r,n){void 0===r&&(r=function(){}),void 0===n&&(n=console.error),this.method=e,this.resolve=r,this.reject=n,this.called=!1,this.args=t},oe=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._callMap={},this.push.apply(this,e)}return Object.defineProperty(e.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),e.prototype.getCalls=function(e){var t;return null!==(t=this.calls[e])&&void 0!==t?t:[]},e.prototype.push=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t.forEach((function(t){["track","screen","alias","group","page","identify"].includes(t.method)&&!ne(t.args)&&(t.args=(0,n.ev)((0,n.ev)([],t.args,!0),[E()],!1)),e.calls[t.method]?e.calls[t.method].push(t):e.calls[t.method]=[t]}))},e.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},e.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},e.prototype._pushSnippetWindowBuffer=function(){var e=(0,J.wI)();if(Array.isArray(e)){var t=e.splice(0,e.length).map((function(e){var t=e[0],r=e.slice(1);return new ie(t,r)}));this.push.apply(this,t)}},e}();function se(e,t){return(0,n.mG)(this,void 0,void 0,(function(){var r,i;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t.called?[2,void 0]:(t.called=!0,"object"==typeof(o=r=e[t.method].apply(e,t.args))&&null!==o&&"then"in o&&"function"==typeof o.then?[4,r]:[3,2]);case 1:n.sent(),n.label=2;case 2:return t.resolve(r),[3,4];case 3:return i=n.sent(),t.reject(i),[3,4];case 4:return[2]}var o}))}))}var ae=function(){function e(e){var t=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=q.i,this._preInitBuffer=new oe,this._promise=e(this._preInitBuffer),this._promise.then((function(e){var r=e[0],n=e[1];t.instance=r,t.ctx=n})).catch((function(){}))}return e.prototype.then=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this._promise).then.apply(e,t)},e.prototype.catch=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this._promise).catch.apply(e,t)},e.prototype.finally=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this._promise).finally.apply(e,t)},e.prototype._createMethod=function(e){var t=this;return function(){for(var r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t.instance){var o=(r=t.instance)[e].apply(r,n);return Promise.resolve(o)}return new Promise((function(r,i){t._preInitBuffer.push(new ie(e,n,r,i))}))}},e.prototype._createChainableMethod=function(e){var t=this;return function(){for(var r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.instance?((r=t.instance)[e].apply(r,n),t):(t._preInitBuffer.push(new ie(e,n)),t)}},e}(),le="This is being deprecated and will be not be available in future releases of Analytics JS",ue=(0,Y.R)(),ce=null==ue?void 0:ue.analytics,de=function(e){var t;this.timeout=300,this.writeKey=e.writeKey,this.cdnSettings=null!==(t=e.cdnSettings)&&void 0!==t?t:{integrations:{},edgeFunction:{}}};function he(){console.warn(le)}var pe=function(e){function t(t,r,i,o,s){var a,l,u=this;(u=e.call(this)||this)._debug=!1,u.initialized=!1,u.user=function(){return u._user},u.init=u.initialize.bind(u),u.log=he,u.addIntegrationMiddleware=he,u.listeners=he,u.addEventListener=he,u.removeAllListeners=he,u.removeListener=he,u.removeEventListener=he,u.hasListeners=he,u.add=he,u.addIntegration=he;var c=null==r?void 0:r.cookie,d=null!==(a=null==r?void 0:r.disableClientPersistence)&&void 0!==a&&a;u.settings=new de(t),u.queue=null!=i?i:function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=t?10:1,i=r?new N.Z(n,[]):new O.$(n,e);return new C(i)}("".concat(t.writeKey,":event-queue"),null==r?void 0:r.retryQueue,d);var h=null==r?void 0:r.storage;return u._universalStorage=u.createStore(d,h,c),u._user=null!=o?o:new Z((0,n.pi)({persist:!d,storage:null==r?void 0:r.storage},null==r?void 0:r.user),c).load(),u._group=null!=s?s:new K((0,n.pi)({persist:!d,storage:null==r?void 0:r.storage},null==r?void 0:r.group),c).load(),u.eventFactory=new R(u._user),u.integrations=null!==(l=null==r?void 0:r.integrations)&&void 0!==l?l:{},u.options=null!=r?r:{},D(u),u}return(0,n.ZT)(t,e),t.prototype.createStore=function(e,t,r){return e?new W([new H]):t&&B(t)?new W(j(G(t.stores,r))):new W(j([U.LocalStorage,{name:U.Cookie,settings:r},U.Memory]))},Object.defineProperty(t.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),t.prototype.track=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,n.mG)(this,void 0,void 0,(function(){var t,r,i,s,a,l,u,c=this;return(0,n.Jh)(this,(function(n){return t=re(e),r=o.apply(void 0,e),i=r[0],s=r[1],a=r[2],l=r[3],u=this.eventFactory.track(i,s,a,this.integrations,t),[2,this._dispatch(u,l).then((function(e){return c.emit("track",i,e.event.properties,e.event.options),e}))]}))}))},t.prototype.page=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,n.mG)(this,void 0,void 0,(function(){var t,r,i,o,a,l,u,c,d=this;return(0,n.Jh)(this,(function(n){return t=re(e),r=s.apply(void 0,e),i=r[0],o=r[1],a=r[2],l=r[3],u=r[4],c=this.eventFactory.page(i,o,a,l,this.integrations,t),[2,this._dispatch(c,u).then((function(e){return d.emit("page",i,o,e.event.properties,e.event.options),e}))]}))}))},t.prototype.identify=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,n.mG)(this,void 0,void 0,(function(){var t,r,i,o,s,l,u,c=this;return(0,n.Jh)(this,(function(n){return t=re(e),r=a(this._user).apply(void 0,e),i=r[0],o=r[1],s=r[2],l=r[3],this._user.identify(i,o),u=this.eventFactory.identify(this._user.id(),this._user.traits(),s,this.integrations,t),[2,this._dispatch(u,l).then((function(e){return c.emit("identify",e.event.userId,e.event.traits,e.event.options),e}))]}))}))},t.prototype.group=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=re(t);if(0===t.length)return this._group;var i=a(this._group).apply(void 0,t),o=i[0],s=i[1],l=i[2],u=i[3];this._group.identify(o,s);var c=this._group.id(),d=this._group.traits(),h=this.eventFactory.group(c,d,l,this.integrations,n);return this._dispatch(h,u).then((function(t){return e.emit("group",t.event.groupId,t.event.traits,t.event.options),t}))},t.prototype.alias=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,n.mG)(this,void 0,void 0,(function(){var t,r,i,o,s,a,u,c=this;return(0,n.Jh)(this,(function(n){return t=re(e),r=l.apply(void 0,e),i=r[0],o=r[1],s=r[2],a=r[3],u=this.eventFactory.alias(i,o,s,this.integrations,t),[2,this._dispatch(u,a).then((function(e){return c.emit("alias",i,o,e.event.options),e}))]}))}))},t.prototype.screen=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,n.mG)(this,void 0,void 0,(function(){var t,r,i,o,a,l,u,c,d=this;return(0,n.Jh)(this,(function(n){return t=re(e),r=s.apply(void 0,e),i=r[0],o=r[1],a=r[2],l=r[3],u=r[4],c=this.eventFactory.screen(i,o,a,l,this.integrations,t),[2,this._dispatch(c,u).then((function(e){return d.emit("screen",i,o,e.event.properties,e.event.options),e}))]}))}))},t.prototype.trackClick=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,n.mG)(this,void 0,void 0,(function(){var t,i;return(0,n.Jh)(this,(function(o){switch(o.label){case 0:return[4,r.e(119).then(r.bind(r,4192))];case 1:return t=o.sent(),[2,(i=t.link).call.apply(i,(0,n.ev)([this],e,!1))]}}))}))},t.prototype.trackLink=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,n.mG)(this,void 0,void 0,(function(){var t,i;return(0,n.Jh)(this,(function(o){switch(o.label){case 0:return[4,r.e(119).then(r.bind(r,4192))];case 1:return t=o.sent(),[2,(i=t.link).call.apply(i,(0,n.ev)([this],e,!1))]}}))}))},t.prototype.trackSubmit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,n.mG)(this,void 0,void 0,(function(){var t,i;return(0,n.Jh)(this,(function(o){switch(o.label){case 0:return[4,r.e(119).then(r.bind(r,4192))];case 1:return t=o.sent(),[2,(i=t.form).call.apply(i,(0,n.ev)([this],e,!1))]}}))}))},t.prototype.trackForm=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,n.mG)(this,void 0,void 0,(function(){var t,i;return(0,n.Jh)(this,(function(o){switch(o.label){case 0:return[4,r.e(119).then(r.bind(r,4192))];case 1:return t=o.sent(),[2,(i=t.form).call.apply(i,(0,n.ev)([this],e,!1))]}}))}))},t.prototype.register=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,n.mG)(this,void 0,void 0,(function(){var t,r,i=this;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return t=c._.system(),r=e.map((function(e){return i.queue.register(t,e,i)})),[4,Promise.all(r)];case 1:return n.sent(),[2,t]}}))}))},t.prototype.deregister=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,n.mG)(this,void 0,void 0,(function(){var t,r,i=this;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return t=c._.system(),r=e.map((function(e){var r=i.queue.plugins.find((function(t){return t.name===e}));if(r)return i.queue.deregister(t,r,i);t.log("warn","plugin ".concat(e," not found"))})),[4,Promise.all(r)];case 1:return n.sent(),[2,t]}}))}))},t.prototype.debug=function(e){return!1===e&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=e,this},t.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},t.prototype.timeout=function(e){this.settings.timeout=e},t.prototype._dispatch=function(e,t){return(0,n.mG)(this,void 0,void 0,(function(){var r;return(0,n.Jh)(this,(function(n){return r=new c._(e),(0,u.s)()&&!this.options.retryQueue?[2,r]:[2,h(r,this.queue,this,{callback:t,debug:this._debug,timeout:this.settings.timeout})]}))}))},t.prototype.addSourceMiddleware=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t=this;return(0,n.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run((function(){return(0,n.mG)(t,void 0,void 0,(function(){var t,i,o;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return[4,Promise.resolve().then(r.bind(r,8767))];case 1:return t=n.sent().sourceMiddlewarePlugin,i={},this.queue.plugins.forEach((function(e){if("destination"===e.type)return i[e.name]=!0})),o=t(e,i),[4,this.register(o)];case 2:return n.sent(),[2]}}))}))}))];case 1:return i.sent(),[2,this]}}))}))},t.prototype.addDestinationMiddleware=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return this.queue.plugins.filter(A).forEach((function(r){"*"!==e&&r.name.toLowerCase()!==e.toLowerCase()||r.addMiddleware.apply(r,t)})),Promise.resolve(this)},t.prototype.setAnonymousId=function(e){return this._user.anonymousId(e)},t.prototype.queryString=function(e){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(t){switch(t.label){case 0:return!1===this.options.useQueryString?[2,[]]:[4,r.e(96).then(r.bind(r,5139))];case 1:return[2,(0,t.sent().queryString)(this,e)]}}))}))},t.prototype.use=function(e){return e(this),this},t.prototype.ready=function(e){return void 0===e&&(e=function(e){return e}),(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(t){return[2,Promise.all(this.queue.plugins.map((function(e){return e.ready?e.ready():Promise.resolve()}))).then((function(t){return e(t),t}))]}))}))},t.prototype.noConflict=function(){return console.warn(le),(0,J.ql)(null!=ce?ce:this),this},t.prototype.normalize=function(e){return console.warn(le),this.eventFactory.normalize(e)},Object.defineProperty(t.prototype,"failedInitializations",{get:function(){return console.warn(le),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VERSION",{get:function(){return q.i},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e,t){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){return console.warn(le),[2,Promise.resolve(this)]}))}))},t.prototype.pageview=function(e){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(t){switch(t.label){case 0:return console.warn(le),[4,this.page({path:e})];case 1:return t.sent(),[2,this]}}))}))},Object.defineProperty(t.prototype,"plugins",{get:function(){var e;return console.warn(le),null!==(e=this._plugins)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Integrations",{get:function(){return console.warn(le),this.queue.plugins.filter((function(e){return"destination"===e.type})).reduce((function(e,t){var r="".concat(t.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),n=window[r];if(!n)return e;var i=n.Integration;return i?(e[t.name]=i,e):(e[t.name]=n,e)}),{})},enumerable:!1,configurable:!0}),t.prototype.push=function(e){var t=e.shift();t&&!this[t]||this[t].apply(this,e)},t}(p.Q),fe=function(e){function t(){var t=e.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return t.initialized=!0,t}return(0,n.ZT)(t,e),t}(pe);function _e(){return"undefined"!=typeof process&&process.env?process.env:{}}var ge,me=r(1329),Ee=r(5787),ve=r(3826),ye=r(7958),be=r(3771),we=r(7554);function Se(e){return(0,n.mG)(this,void 0,void 0,(function(){var t;return(0,n.Jh)(this,(function(r){return(t=navigator.userAgentData)?e?[2,t.getHighEntropyValues(e).catch((function(){return t.toJSON()}))]:[2,t.toJSON()]:[2,void 0]}))}))}function Ie(){if(ge)return ge;var e=P(window.location.href);return ge={expires:31536e6,secure:!1,path:"/"},e&&(ge.domain=e),ge}var Re=new function(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(t,r){return(0,n.mG)(e,void 0,void 0,(function(){var e;return(0,n.Jh)(this,(function(t){switch(t.label){case 0:this.instance=r,t.label=1;case 1:return t.trys.push([1,3,,4]),e=this,[4,Se(this.instance.options.highEntropyValuesClientHints)];case 2:return e.userAgentData=t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return[2,Promise.resolve()]}}))}))},this.enrich=function(t){var r,i,o=t.event.context,s=o.page.search||"",a="object"==typeof s?function(e){try{var t=new URLSearchParams;return Object.entries(e).forEach((function(e){var r=e[0],n=e[1];Array.isArray(n)?n.forEach((function(e){return t.append(r,e)})):t.append(r,n)})),t.toString()}catch(e){return""}}(s):s;o.userAgent=navigator.userAgent,o.userAgentData=e.userAgentData;var l=navigator.userLanguage||navigator.language;void 0===o.locale&&void 0!==l&&(o.locale=l),null!==(r=o.library)&&void 0!==r||(o.library={name:"analytics.js",version:"".concat("web"===(0,be.B)()?"next":"npm:next","-").concat(q.i)}),a&&!o.campaign&&(o.campaign=function(e){return e.startsWith("?")&&(e=e.substring(1)),(e=e.replace(/\?/g,"&")).split("&").reduce((function(e,t){var r=t.split("="),n=r[0],i=r[1],o=void 0===i?"":i;if(n.includes("utm_")&&n.length>4){var s=n.slice(4);"campaign"===s&&(s="name"),e[s]=(0,we.a)(o)}return e}),{})}(a));var u=function(){var e=k.get("_ga");if(e&&e.startsWith("amp"))return e}();u&&(o.amp={id:u}),function(e,t,r){var i,o=new W(r?[]:[new x(Ie())]),s=o.get("s:context.referrer"),a=null!==(i=function(e){var t={btid:"dataxu",urid:"millennial-media"};e.startsWith("?")&&(e=e.substring(1));for(var r=0,n=(e=e.replace(/\?/g,"&")).split("&");r<n.length;r++){var i=n[r].split("="),o=i[0],s=i[1];if(t[o])return{id:s,type:t[o]}}}(e))&&void 0!==i?i:s;a&&(t&&(t.referrer=(0,n.pi)((0,n.pi)({},t.referrer),a)),o.set("s:context.referrer",a))}(a,o,null!==(i=e.instance.options.disableClientPersistence)&&void 0!==i&&i);try{o.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}return t},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich},Ae=r(3822),Oe=r(8767),Ne=r(8653),Te=function(){function e(e,t){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=(0,ye.d)(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=t,this.name=e,this.type=t.type,this.alternativeNames.push(t.name)}return e.prototype.addMiddleware=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];"destination"===this.type&&(e=this.middleware).push.apply(e,t)},e.prototype.transform=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t;return(0,n.Jh)(this,(function(r){switch(r.label){case 0:return[4,(0,Oe.applyDestinationMiddleware)(this.name,e.event,this.middleware)];case 1:return null===(t=r.sent())&&e.cancel(new T.Y({retry:!1,reason:"dropped by destination middleware"})),[2,new c._(t)]}}))}))},e.prototype._createMethod=function(e){var t=this;return function(r){return(0,n.mG)(t,void 0,void 0,(function(){var t,i;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return this.action[e]?(t=r,"destination"!==this.type?[3,2]:[4,this.transform(r)]):[2,r];case 1:t=n.sent(),n.label=2;case 2:return n.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!n.sent())throw new Error("Something prevented the destination from getting ready");return(0,Ne.z)(r,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](t)];case 4:return n.sent(),[3,6];case 5:throw i=n.sent(),(0,Ne.z)(r,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),i;case 6:return[2,r]}}))}))}},e.prototype.isLoaded=function(){return this.action.isLoaded()},e.prototype.ready=function(){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}}))}))},e.prototype.load=function(e,t){return(0,n.mG)(this,void 0,void 0,(function(){var r,i,o,s;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];n.label=1;case 1:return n.trys.push([1,3,,4]),(0,Ne.z)(e,{integrationName:this.action.name,methodName:"load",type:"action"}),r=this.action.load(e,t),o=(i=this.loadPromise).resolve,[4,r];case 2:return o.apply(i,[n.sent()]),[2,r];case 3:throw s=n.sent(),(0,Ne.z)(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(s),s;case 4:return[2]}}))}))},e.prototype.unload=function(e,t){var r,n;return null===(n=(r=this.action).unload)||void 0===n?void 0:n.call(r,e,t)},e}();function Me(e,t){return(0,n.mG)(this,void 0,void 0,(function(){var r,i,o,s,a;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:if(r=new RegExp("https://cdn.segment.(com|build)"),i=(0,me.Vl)(),!t)return[3,6];o=e.url.split("/"),s=o[o.length-2],a=e.url.replace(s,btoa(s).replace(/=/g,"")),n.label=1;case 1:return n.trys.push([1,3,,5]),[4,(0,Ae.v)(a.replace(r,i))];case 2:return n.sent(),[3,5];case 3:return n.sent(),[4,(0,Ae.v)(e.url.replace(r,i))];case 4:return n.sent(),[3,5];case 5:return[3,8];case 6:return[4,(0,Ae.v)(e.url.replace(r,i))];case 7:n.sent(),n.label=8;case 8:return"function"==typeof window[e.libraryName]?[2,window[e.libraryName]]:[2]}}))}))}function Ce(e,t,r,i,o,s){var a,l,u;return(0,n.mG)(this,void 0,void 0,(function(){var c,d,h,p=this;return(0,n.Jh)(this,(function(f){switch(f.label){case 0:return c=[],d=null!==(l=null===(a=e.middlewareSettings)||void 0===a?void 0:a.routingRules)&&void 0!==l?l:[],h=(null!==(u=e.remotePlugins)&&void 0!==u?u:[]).map((function(e){return(0,n.mG)(p,void 0,void 0,(function(){var a,l,u,h,p,f;return(0,n.Jh)(this,(function(_){switch(_.label){case 0:if(function(e,t){var r=e[t.creationName],n=e[t.name];return!1===e.All&&!r&&!n||!1===r||!1===n}(t,e))return[2];_.label=1;case 1:return _.trys.push([1,6,,7]),(l=null==s?void 0:s.find((function(t){return t.pluginName===e.name})))?[3,3]:[4,Me(e,null==i?void 0:i.obfuscate)];case 2:l=_.sent(),_.label=3;case 3:return(a=l)?[4,a((0,n.pi)((0,n.pi)({},e.settings),r[e.name]))]:[3,5];case 4:u=_.sent(),function(e){if(!Array.isArray(e))throw new Error("Not a valid list of plugins");var t=["load","isLoaded","name","version","type"];e.forEach((function(e){t.forEach((function(t){var r;if(void 0===e[t])throw new Error("Plugin: ".concat(null!==(r=e.name)&&void 0!==r?r:"unknown"," missing required function ").concat(t))}))}))}(h=Array.isArray(u)?u:[u]),p=d.filter((function(t){return t.destinationName===e.creationName})),h.forEach((function(t){var r=new Te(e.creationName,t);p.length&&o&&r.addMiddleware(o),c.push(r)})),_.label=5;case 5:return[3,7];case 6:return f=_.sent(),console.warn("Failed to load Remote Plugin",f),[3,7];case 7:return[2]}}))}))})),[4,Promise.all(h)];case 1:return f.sent(),[2,c.filter(Boolean)]}}))}))}var De=r(5030);function Le(e){return(encodeURI(JSON.stringify(e)).split(/%..|./).length-1)/1024}function ke(e,t,r,i){var o,s=e.user();delete t.options,t.writeKey=null==r?void 0:r.apiKey,t.userId=t.userId||s.id(),t.anonymousId=t.anonymousId||s.anonymousId(),t.sentAt=new Date;var a=e.queue.failedInitializations||[];a.length>0&&(t._metadata={failedInitializations:a});var l=[],u=[];for(var c in i){var d=i[c];"Segment.io"===c&&l.push(c),"bundled"===d.bundlingStatus&&l.push(c),"unbundled"===d.bundlingStatus&&u.push(c)}for(var h=0,p=(null==r?void 0:r.unbundledIntegrations)||[];h<p.length;h++){var f=p[h];u.includes(f)||u.push(f)}var _=null!==(o=null==r?void 0:r.maybeBundledConfigIds)&&void 0!==o?o:{},g=[];return l.sort().forEach((function(e){var t;(null!==(t=_[e])&&void 0!==t?t:[]).forEach((function(e){g.push(e)}))})),!1!==(null==r?void 0:r.addBundledMetadata)&&(t._metadata=(0,n.pi)((0,n.pi)({},t._metadata),{bundled:l.sort(),unbundled:u.sort(),bundledIds:g})),t}var Pe=r(2578);function xe(e,t){return(0,n.mG)(this,void 0,void 0,(function(){var r,i=this;return(0,n.Jh)(this,(function(o){switch(o.label){case 0:return r=[],(0,u.s)()?[2,t]:[4,(0,Pe.x)((function(){return t.length>0&&!(0,u.s)()}),(function(){return(0,n.mG)(i,void 0,void 0,(function(){var i;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return(i=t.pop())?[4,(0,M.a)(i,e)]:[2];case 1:return n.sent()instanceof c._||r.push(i),[2]}}))}))}))];case 1:return o.sent(),r.map((function(e){return t.pushWithBackoff(e)})),[2,t]}}))}))}function Fe(e,t,r,i){var o=this;e||setTimeout((function(){return(0,n.mG)(o,void 0,void 0,(function(){var e,o;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return e=!0,[4,xe(r,t)];case 1:return o=n.sent(),e=!1,t.todo>0&&i(e,o,r,i),[2]}}))}))}),5e3*Math.random())}var He,Ue,Be=r(1765);function je(e,t,r){var i,o,s;window.addEventListener("pagehide",(function(){c.push.apply(c,Array.from(d)),d.clear()}));var a,l=null!==(i=null==t?void 0:t.apiKey)&&void 0!==i?i:"",c=e.options.disableClientPersistence?new N.Z(e.queue.queue.maxAttempts,[]):new O.$(e.queue.queue.maxAttempts,"".concat(l,":dest-Segment.io")),d=new Set,h=!1,p=null!==(o=null==t?void 0:t.apiHost)&&void 0!==o?o:Be.U,f=null!==(s=null==t?void 0:t.protocol)&&void 0!==s?s:"https",_="".concat(f,"://").concat(p),g=null==t?void 0:t.deliveryStrategy,m="batching"===(null==g?void 0:g.strategy)?function(e,t){var r,i,o,s,a,l=[],u=!1,c=null!==(r=null==t?void 0:t.size)&&void 0!==r?r:10,d=null!==(i=null==t?void 0:t.timeout)&&void 0!==i?i:5e3;function h(r){var i;if(0!==r.length){var o=null===(i=r[0])||void 0===i?void 0:i.writeKey,s=r.map((function(e){var t=e;return t.sentAt,(0,n._T)(t,["sentAt"])}));return(0,Ee.h)("https://".concat(e,"/b"),{keepalive:(null==t?void 0:t.keepalive)||u,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify({writeKey:o,batch:s,sentAt:(new Date).toISOString()})})}}function p(){return(0,n.mG)(this,void 0,void 0,(function(){var e;return(0,n.Jh)(this,(function(t){return l.length?(e=l,l=[],[2,h(e)]):[2]}))}))}return s=function(e){if((u=e)&&l.length){var t=function(e){var t=[],r=0;return e.forEach((function(e){Le(t[r])>=64&&r++,t[r]?t[r].push(e):t[r]=[e]})),t}(l).map(h);Promise.all(t).catch(console.error)}},a=!1,window.addEventListener("pagehide",(function(){a||s(a=!0)})),document.addEventListener("visibilitychange",(function(){if("hidden"==document.visibilityState){if(a)return;a=!0}else a=!1;s(a)})),{dispatch:function(e,r){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){return l.push(r),[2,l.length>=c||function(e){return Le(e)>=450}(l)||(null==t?void 0:t.keepalive)&&function(e){return Le(e)>=54}(l)||u?p():void(o||(o=setTimeout((function(){o=void 0,p().catch(console.error)}),d)))]}))}))}}}(p,g.config):(a=null==g?void 0:g.config,{dispatch:function(e,t){return(0,Ee.h)(e,{keepalive:null==a?void 0:a.keepalive,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify(t)})}});function E(i){return(0,n.mG)(this,void 0,void 0,(function(){var o,s;return(0,n.Jh)(this,(function(n){return(0,u.s)()?(c.push(i),Fe(h,c,v,Fe),[2,i]):(d.add(i),o=i.event.type.charAt(0),s=(0,De.D)(i.event).json(),"track"===i.event.type&&delete s.traits,"alias"===i.event.type&&(s=function(e,t){var r,n,i,o,s=e.user();return t.previousId=null!==(i=null!==(n=null!==(r=t.previousId)&&void 0!==r?r:t.from)&&void 0!==n?n:s.id())&&void 0!==i?i:s.anonymousId(),t.userId=null!==(o=t.userId)&&void 0!==o?o:t.to,delete t.from,delete t.to,t}(e,s)),[2,m.dispatch("".concat(_,"/").concat(o),ke(e,s,t,r)).then((function(){return i})).catch((function(){return c.pushWithBackoff(i),Fe(h,c,v,Fe),i})).finally((function(){d.delete(i)}))])}))}))}var v={name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:E,identify:E,page:E,alias:E,group:E,screen:E};return c.todo&&Fe(h,c,v,Fe),v}var Ge=null!==(He=(Ue=(0,Y.R)()).__SEGMENT_INSPECTOR__)&&void 0!==He?He:Ue.__SEGMENT_INSPECTOR__={},ze=r(3098);function We(e,t){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(r){switch(r.label){case 0:return[4,Q(e,t)];case 1:return r.sent(),function(e,t){t.toArray().forEach((function(t){setTimeout((function(){se(e,t).catch(console.error)}),0)}))}(e,t),t.clear(),[2]}}))}))}function Ve(e,t,i,o,s,a){var l,u,c;return void 0===s&&(s=[]),(0,n.mG)(this,void 0,void 0,(function(){var d,h,p,f,_,g,m,E,v,y,b,w,S,I,R=this;return(0,n.Jh)(this,(function(A){switch(A.label){case 0:return d=null==s?void 0:s.filter((function(e){return"object"==typeof e})),h=null==s?void 0:s.filter((function(e){return"function"==typeof e&&"string"==typeof e.pluginName})),function(e){var t,r,n;return"test"!==_e().NODE_ENV&&(null!==(n=null===(r=null===(t=e.middlewareSettings)||void 0===t?void 0:t.routingRules)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0}(t)?[4,r.e(604).then(r.bind(r,7725)).then((function(e){return e.tsubMiddleware(t.middlewareSettings.routingRules)}))]:[3,2];case 1:return f=A.sent(),[3,3];case 2:f=void 0,A.label=3;case 3:return p=f,O=t,"test"!==_e().NODE_ENV&&Object.keys(O.integrations).length>1||a.length>0?[4,r.e(464).then(r.bind(r,7007)).then((function(r){return r.ajsDestinations(e,t,i.integrations,o,p,a)}))]:[3,5];case 4:return g=A.sent(),[3,6];case 5:g=[],A.label=6;case 6:return _=g,t.legacyVideoPluginsEnabled?[4,r.e(150).then(r.bind(r,3997)).then((function(e){return e.loadLegacyVideoPlugins(i)}))]:[3,8];case 7:A.sent(),A.label=8;case 8:return(null===(l=o.plan)||void 0===l?void 0:l.track)?[4,r.e(493).then(r.bind(r,3338)).then((function(e){var r;return e.schemaFilter(null===(r=o.plan)||void 0===r?void 0:r.track,t)}))]:[3,10];case 9:return E=A.sent(),[3,11];case 10:E=void 0,A.label=11;case 11:return m=E,v=(0,ve.o)(t,o),[4,Ce(t,i.integrations,v,o,p,h).catch((function(){return[]}))];case 12:return y=A.sent(),b=(0,n.ev)((0,n.ev)((0,n.ev)([Re],d,!0),_,!0),y,!0),m&&b.push(m),!1===(null===(u=o.integrations)||void 0===u?void 0:u.All)&&!o.integrations["Segment.io"]||o.integrations&&!1===o.integrations["Segment.io"]?[3,14]:(S=(w=b).push,[4,je(i,v["Segment.io"],t.integrations)]);case 13:S.apply(w,[A.sent()]),A.label=14;case 14:return[4,i.register.apply(i,b)];case 15:return I=A.sent(),Object.entries(null!==(c=t.enabledMiddleware)&&void 0!==c?c:{}).some((function(e){return e[1]}))?[4,r.e(214).then(r.bind(r,5212)).then((function(e){var r=e.remoteMiddlewares;return(0,n.mG)(R,void 0,void 0,(function(){var e,s;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return[4,r(I,t,o.obfuscate)];case 1:return e=n.sent(),s=e.map((function(e){return i.addSourceMiddleware(e)})),[2,Promise.all(s)]}}))}))}))]:[3,17];case 16:A.sent(),A.label=17;case 17:return[2,I]}var O}))}))}var Ze=function(e){function t(){var t=this,r=(0,ye.d)(),i=r.promise,o=r.resolve;return(t=e.call(this,(function(e){return i.then((function(t){return function(e,t,r){var i,o,s,a,l,u,d,h,p,f;return void 0===t&&(t={}),(0,n.mG)(this,void 0,void 0,(function(){var _,g,m,E,v,y,b,w,S,I,R;return(0,n.Jh)(this,(function(A){switch(A.label){case 0:return!0===t.disable?[2,[new fe,c._.system()]]:(t.globalAnalyticsKey&&(0,J.jV)(t.globalAnalyticsKey),e.cdnURL&&(0,me.UH)(e.cdnURL),t.initialPageview&&r.push(new ie("page",[])),null===(i=e.cdnSettings)||void 0===i?[3,1]:(g=i,[3,3]));case 1:return[4,(O=e.writeKey,N=e.cdnURL,T=null!=N?N:(0,me.Vl)(),(0,Ee.h)("".concat(T,"/v1/projects/").concat(O,"/settings")).then((function(e){return e.ok?e.json():e.text().then((function(e){throw new Error(e)}))})).catch((function(e){throw console.error(e.message),e})))];case 2:g=A.sent(),A.label=3;case 3:return _=g,t.updateCDNSettings&&(_=t.updateCDNSettings(_)),"function"!=typeof t.disable?[3,5]:[4,t.disable(_)];case 4:if(A.sent())return[2,[new fe,c._.system()]];A.label=5;case 5:return m=null===(s=null===(o=_.integrations["Segment.io"])||void 0===o?void 0:o.retryQueue)||void 0===s||s,t=(0,n.pi)({retryQueue:m},t),function(e){var t;null===(t=Ge.attach)||void 0===t||t.call(Ge,e)}(E=new pe((0,n.pi)((0,n.pi)({},e),{cdnSettings:_}),t)),v=null!==(a=e.plugins)&&void 0!==a?a:[],y=null!==(l=e.classicIntegrations)&&void 0!==l?l:[],b=null===(u=t.integrations)||void 0===u?void 0:u["Segment.io"],ze.j.initRemoteMetrics((0,n.pi)((0,n.pi)({},_.metrics),{host:null!==(d=null==b?void 0:b.apiHost)&&void 0!==d?d:null===(h=_.metrics)||void 0===h?void 0:h.host,protocol:null==b?void 0:b.protocol})),function(e,t){te(e,t),ee(e,t)}(E,r),[4,Ve(e.writeKey,_,E,t,v,y)];case 6:return w=A.sent(),S=null!==(p=window.location.search)&&void 0!==p?p:"",I=null!==(f=window.location.hash)&&void 0!==f?f:"",(R=S.length?S:I.replace(/(?=#).*(?=\?)/,"")).includes("ajs_")?[4,E.queryString(R).catch(console.error)]:[3,8];case 7:A.sent(),A.label=8;case 8:return E.initialized=!0,E.emit("initialize",e,t),[4,We(E,r)];case 9:return A.sent(),[2,[E,w]]}var O,N,T}))}))}(t[0],t[1],e)}))}))||this)._resolveLoadStart=function(e,t){return o([e,t])},t}return(0,n.ZT)(t,e),t.prototype.load=function(e,t){return void 0===t&&(t={}),this._resolveLoadStart(e,t),this},t.load=function(e,r){return void 0===r&&(r={}),(new t).load(e,r)},t.standalone=function(e,r){return t.load({writeKey:e},r).then((function(e){return e[0]}))},t}(ae),$e=function(){function e(){}return e.load=function(){return Promise.reject(new Error("AnalyticsNode is not available in browsers."))},e}()},5787:(e,t,r)=>{"use strict";function n(e,t){return t=t||{},new Promise((function(r,n){var i=new XMLHttpRequest,o=[],s=[],a={},l=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:l,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var u in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,r){o.push(t=t.toLowerCase()),s.push([t,r]),a[t]=a[t]?a[t]+","+r:r})),r(l())},i.onerror=n,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(u,t.headers[u]);i.send(t.body||null)}))}r.d(t,{h:()=>o});var i=r(9745),o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,i.R)();return(r&&r.fetch||n).apply(void 0,e)}},9745:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});var n=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:null}},5983:(e,t,r)=>{"use strict";r.d(t,{wI:()=>i,jV:()=>o,ql:()=>s});var n="analytics";function i(){return window[n]}function o(e){n=e}function s(e){window[n]=e}},3822:(e,t,r)=>{"use strict";function n(e){return Array.prototype.slice.call(window.document.querySelectorAll("script")).find((function(t){return t.src===e}))}function i(e,t){var r=n(e);if(void 0!==r){var i=null==r?void 0:r.getAttribute("status");if("loaded"===i)return Promise.resolve(r);if("loading"===i)return new Promise((function(e,t){r.addEventListener("load",(function(){return e(r)})),r.addEventListener("error",(function(e){return t(e)}))}))}return new Promise((function(r,n){var i,o=window.document.createElement("script");o.type="text/javascript",o.src=e,o.async=!0,o.setAttribute("status","loading");for(var s=0,a=Object.entries(null!=t?t:{});s<a.length;s++){var l=a[s],u=l[0],c=l[1];o.setAttribute(u,c)}o.onload=function(){o.onerror=o.onload=null,o.setAttribute("status","loaded"),r(o)},o.onerror=function(){o.onerror=o.onload=null,o.setAttribute("status","error"),n(new Error("Failed to load ".concat(e)))};var d=window.document.getElementsByTagName("script")[0];null===(i=d.parentElement)||void 0===i||i.insertBefore(o,d)}))}function o(e){var t=n(e);return void 0!==t&&t.remove(),Promise.resolve()}r.d(t,{v:()=>i,t:()=>o})},3826:(e,t,r)=>{"use strict";r.d(t,{o:()=>i});var n=r(5353);function i(e,t){var r,i=Object.entries(null!==(r=t.integrations)&&void 0!==r?r:{}).reduce((function(e,t){var r,i,o=t[0],s=t[1];return"object"==typeof s?(0,n.pi)((0,n.pi)({},e),((r={})[o]=s,r)):(0,n.pi)((0,n.pi)({},e),((i={})[o]={},i))}),{});return Object.entries(e.integrations).reduce((function(e,t){var r,o=t[0],s=t[1];return(0,n.pi)((0,n.pi)({},e),((r={})[o]=(0,n.pi)((0,n.pi)({},s),i[o]),r))}),{})}},2578:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var n=r(5353),i=function(e,t){return(0,n.mG)(void 0,void 0,void 0,(function(){var r;return(0,n.Jh)(this,(function(i){return[2,(r=function(i){return(0,n.mG)(void 0,void 0,void 0,(function(){var o;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return e(i)?(o=r,[4,t()]):[3,2];case 1:return[2,o.apply(void 0,[n.sent()])];case 2:return[2]}}))}))})(void 0)]}))}))}},1329:(e,t,r)=>{"use strict";r.d(t,{UH:()=>s,Vl:()=>a,Kg:()=>l});var n,i=r(5983),o=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,s=function(e){var t=(0,i.wI)();t&&(t._cdn=e),n=e},a=function(){var e,t,r=null!=n?n:null===(e=(0,i.wI)())||void 0===e?void 0:e._cdn;return r||((Array.prototype.slice.call(document.querySelectorAll("script")).forEach((function(e){var r,n=null!==(r=e.getAttribute("src"))&&void 0!==r?r:"",i=o.exec(n);i&&i[1]&&(t=i[1])})),t)||"https://cdn.segment.com")},l=function(){var e=a();return"".concat(e,"/next-integrations")}},6804:(e,t,r)=>{"use strict";r.d(t,{$:()=>h});var n=r(5353),i=r(5567),o=r(8302),s=r(9677),a={getItem:function(){},setItem:function(){},removeItem:function(){}};try{a=(0,s.j)()&&window.localStorage?window.localStorage:a}catch(e){console.warn("Unable to access localStorage",e)}function l(e){var t=a.getItem(e);return(t?JSON.parse(t):[]).map((function(e){return new o._(e.event,e.id)}))}function u(e){var t=a.getItem(e);return t?JSON.parse(t):{}}function c(e){a.removeItem(e)}function d(e,t,r){void 0===r&&(r=0);var n="persisted-queue:v1:".concat(e,":lock"),i=a.getItem(n),o=i?JSON.parse(i):null,s=null===o||function(e){return(new Date).getTime()>e}(o);if(s)return a.setItem(n,JSON.stringify((new Date).getTime()+50)),t(),void a.removeItem(n);!s&&r<3?setTimeout((function(){d(e,t,r+1)}),50):console.error("Unable to retrieve lock")}var h=function(e){function t(t,r){var i=e.call(this,t,[])||this,o="persisted-queue:v1:".concat(r,":items"),s="persisted-queue:v1:".concat(r,":seen"),h=[],p={};return d(r,(function(){try{h=l(o),p=u(s),c(o),c(s),i.queue=(0,n.ev)((0,n.ev)([],h,!0),i.queue,!0),i.seen=(0,n.pi)((0,n.pi)({},p),i.seen)}catch(e){console.error(e)}})),window.addEventListener("pagehide",(function(){if(i.todo>0){var e=(0,n.ev)((0,n.ev)([],i.queue,!0),i.future,!0);try{d(r,(function(){!function(e,t){var r=l(e),i=(0,n.ev)((0,n.ev)([],t,!0),r,!0).reduce((function(e,t){var r;return(0,n.pi)((0,n.pi)({},e),((r={})[t.id]=t,r))}),{});a.setItem(e,JSON.stringify(Object.values(i)))}(o,e),function(e,t){var r=u(e);a.setItem(e,JSON.stringify((0,n.pi)((0,n.pi)({},r),t)))}(s,i.seen)}))}catch(e){console.error(e)}}})),i}return(0,n.ZT)(t,e),t}(i.Z)},5030:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(4122);function i(e,t){var r=new n.Facade(e,t);return"track"===e.type&&(r=new n.Track(e,t)),"identify"===e.type&&(r=new n.Identify(e,t)),"page"===e.type&&(r=new n.Page(e,t)),"alias"===e.type&&(r=new n.Alias(e,t)),"group"===e.type&&(r=new n.Group(e,t)),"screen"===e.type&&(r=new n.Screen(e,t)),Object.defineProperty(r,"obj",{value:e,writable:!0}),r}},3771:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});function n(){return"npm"}},8767:(e,t,r)=>{"use strict";r.r(t),r.d(t,{applyDestinationMiddleware:()=>s,sourceMiddlewarePlugin:()=>a});var n=r(5353),i=r(2035),o=r(5030);function s(e,t,r){return(0,n.mG)(this,void 0,void 0,(function(){function i(t,r){return(0,n.mG)(this,void 0,void 0,(function(){var i,s,a;return(0,n.Jh)(this,(function(l){switch(l.label){case 0:return i=!1,s=null,[4,r({payload:(0,o.D)(t,{clone:!0,traverse:!1}),integration:e,next:function(e){i=!0,null===e&&(s=null),e&&(s=e.obj)}})];case 1:return l.sent(),i||null===s||((s=s).integrations=(0,n.pi)((0,n.pi)({},t.integrations),((a={})[e]=!1,a))),[2,s]}}))}))}var s,a,l,u,c;return(0,n.Jh)(this,(function(e){switch(e.label){case 0:s=(0,o.D)(t,{clone:!0,traverse:!1}).rawEvent(),a=0,l=r,e.label=1;case 1:return a<l.length?(u=l[a],[4,i(s,u)]):[3,4];case 2:if(null===(c=e.sent()))return[2,null];s=c,e.label=3;case 3:return a++,[3,1];case 4:return[2,s]}}))}))}function a(e,t){function r(r){return(0,n.mG)(this,void 0,void 0,(function(){var s;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return s=!1,[4,e({payload:(0,o.D)(r.event,{clone:!0,traverse:!1}),integrations:null!=t?t:{},next:function(e){s=!0,e&&(r.event=e.obj)}})];case 1:if(n.sent(),!s)throw new i.Y({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,r]}}))}))}return{name:"Source Middleware ".concat(e.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(e){return Promise.resolve(e)},track:r,page:r,identify:r,alias:r,group:r}}},8878:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(325));function o(e,t){return function(){var r=this.traits(),n=this.properties?this.properties():{};return i.default(r,"address."+e)||i.default(r,e)||(t?i.default(r,"address."+t):null)||(t?i.default(r,t):null)||i.default(n,"address."+e)||i.default(n,e)||(t?i.default(n,"address."+t):null)||(t?i.default(n,t):null)}}t.default=function(e){e.zip=o("postalCode","zip"),e.country=o("country"),e.street=o("street"),e.state=o("state"),e.city=o("city"),e.region=o("region")}},4780:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Alias=void 0;var i=n(r(1285)),o=r(9512);function s(e,t){o.Facade.call(this,e,t)}t.Alias=s,i.default(s,o.Facade),s.prototype.action=function(){return"alias"},s.prototype.type=s.prototype.action,s.prototype.previousId=function(){return this.field("previousId")||this.field("from")},s.prototype.from=s.prototype.previousId,s.prototype.userId=function(){return this.field("userId")||this.field("to")},s.prototype.to=s.prototype.userId},4814:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t){if("object"!=typeof t)return t;if("[object Object]"===Object.prototype.toString.call(t)){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=e(t[n]));return r}return Array.isArray(t)?t.map(e):t}},5257:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=void 0;var i=n(r(1285)),o=r(9512);function s(e,t){o.Facade.call(this,e,t)}t.Delete=s,i.default(s,o.Facade),s.prototype.type=function(){return"delete"}},9512:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Facade=void 0;var i=n(r(8878)),o=r(4814),s=n(r(2272)),a=n(r(5870)),l=n(r(325)),u=n(r(6279));function c(e,t){t=t||{},this.raw=o.clone(e),"clone"in t||(t.clone=!0),t.clone&&(e=o.clone(e)),"traverse"in t||(t.traverse=!0),e.timestamp="timestamp"in e?a.default(e.timestamp):new Date,t.traverse&&u.default(e),this.opts=t,this.obj=e}t.Facade=c;var d=c.prototype;function h(e){return o.clone(e)}d.proxy=function(e){var t=e.split("."),r=this[e=t.shift()]||this.obj[e];return r?("function"==typeof r&&(r=r.call(this)||{}),0===t.length||(r=l.default(r,t.join("."))),this.opts.clone?h(r):r):r},d.field=function(e){var t=this.obj[e];return this.opts.clone?h(t):t},c.proxy=function(e){return function(){return this.proxy(e)}},c.field=function(e){return function(){return this.field(e)}},c.multi=function(e){return function(){var t=this.proxy(e+"s");if(Array.isArray(t))return t;var r=this.proxy(e);return r&&(r=[this.opts.clone?o.clone(r):r]),r||[]}},c.one=function(e){return function(){var t=this.proxy(e);if(t)return t;var r=this.proxy(e+"s");return Array.isArray(r)?r[0]:void 0}},d.json=function(){var e=this.opts.clone?o.clone(this.obj):this.obj;return this.type&&(e.type=this.type()),e},d.rawEvent=function(){return this.raw},d.options=function(e){var t=this.obj.options||this.obj.context||{},r=this.opts.clone?o.clone(t):t;if(!e)return r;if(this.enabled(e)){var n=this.integrations(),i=n[e]||l.default(n,e);return"object"!=typeof i&&(i=l.default(this.options(),e)),"object"==typeof i?i:{}}},d.context=d.options,d.enabled=function(e){var t=this.proxy("options.providers.all");"boolean"!=typeof t&&(t=this.proxy("options.all")),"boolean"!=typeof t&&(t=this.proxy("integrations.all")),"boolean"!=typeof t&&(t=!0);var r=t&&s.default(e),n=this.integrations();if(n.providers&&n.providers.hasOwnProperty(e)&&(r=n.providers[e]),n.hasOwnProperty(e)){var i=n[e];r="boolean"!=typeof i||i}return!!r},d.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},d.active=function(){var e=this.proxy("options.active");return null==e&&(e=!0),e},d.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},d.sessionId=d.anonymousId,d.groupId=c.proxy("options.groupId"),d.traits=function(e){var t=this.proxy("options.traits")||{},r=this.userId();for(var n in e=e||{},r&&(t.id=r),e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=null==this[n]?this.proxy("options.traits."+n):this[n]();if(null==i)continue;t[e[n]]=i,delete t[n]}return t},d.library=function(){var e=this.proxy("options.library");return e?"string"==typeof e?{name:e,version:null}:e:{name:"unknown",version:null}},d.device=function(){var e=this.proxy("context.device");"object"==typeof e&&null!==e||(e={});var t=this.library().name;return e.type||(t.indexOf("ios")>-1&&(e.type="ios"),t.indexOf("android")>-1&&(e.type="android")),e},d.userAgent=c.proxy("context.userAgent"),d.timezone=c.proxy("context.timezone"),d.timestamp=c.field("timestamp"),d.channel=c.field("channel"),d.ip=c.proxy("context.ip"),d.userId=c.field("userId"),i.default(d)},615:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Group=void 0;var i=n(r(1285)),o=n(r(4554)),s=n(r(5870)),a=r(9512);function l(e,t){a.Facade.call(this,e,t)}t.Group=l,i.default(l,a.Facade);var u=l.prototype;u.action=function(){return"group"},u.type=u.action,u.groupId=a.Facade.field("groupId"),u.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return s.default(e)},u.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();return o.default(t)?t:void 0},u.traits=function(e){var t=this.properties(),r=this.groupId();for(var n in e=e||{},r&&(t.id=r),e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=null==this[n]?this.proxy("traits."+n):this[n]();if(null==i)continue;t[e[n]]=i,delete t[n]}return t},u.name=a.Facade.proxy("traits.name"),u.industry=a.Facade.proxy("traits.industry"),u.employees=a.Facade.proxy("traits.employees"),u.properties=function(){return this.field("traits")||this.field("properties")||{}}},4705:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Identify=void 0;var i=r(9512),o=n(r(325)),s=n(r(1285)),a=n(r(4554)),l=n(r(5870)),u=function(e){return e.trim()};function c(e,t){i.Facade.call(this,e,t)}t.Identify=c,s.default(c,i.Facade);var d=c.prototype;d.action=function(){return"identify"},d.type=d.action,d.traits=function(e){var t=this.field("traits")||{},r=this.userId();for(var n in e=e||{},r&&(t.id=r),e){var i=null==this[n]?this.proxy("traits."+n):this[n]();null!=i&&(t[e[n]]=i,n!==e[n]&&delete t[n])}return t},d.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();return a.default(t)?t:void 0},d.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return l.default(e)},d.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return l.default(e)},d.companyName=function(){return this.proxy("traits.company.name")},d.name=function(){var e=this.proxy("traits.name");if("string"==typeof e)return u(e);var t=this.firstName(),r=this.lastName();return t&&r?u(t+" "+r):void 0},d.firstName=function(){var e=this.proxy("traits.firstName");if("string"==typeof e)return u(e);var t=this.proxy("traits.name");return"string"==typeof t?u(t).split(" ")[0]:void 0},d.lastName=function(){var e=this.proxy("traits.lastName");if("string"==typeof e)return u(e);var t=this.proxy("traits.name");if("string"==typeof t){var r=u(t).indexOf(" ");if(-1!==r)return u(t.substr(r+1))}},d.uid=function(){return this.userId()||this.username()||this.email()},d.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},d.age=function(){var e=this.birthday(),t=o.default(this.traits(),"age");return null!=t?t:e instanceof Date?(new Date).getFullYear()-e.getFullYear():void 0},d.avatar=function(){var e=this.traits();return o.default(e,"avatar")||o.default(e,"photoUrl")||o.default(e,"avatarUrl")},d.position=function(){var e=this.traits();return o.default(e,"position")||o.default(e,"jobTitle")},d.username=i.Facade.proxy("traits.username"),d.website=i.Facade.one("traits.website"),d.websites=i.Facade.multi("traits.website"),d.phone=i.Facade.one("traits.phone"),d.phones=i.Facade.multi("traits.phone"),d.address=i.Facade.proxy("traits.address"),d.gender=i.Facade.proxy("traits.gender"),d.birthday=i.Facade.proxy("traits.birthday")},4122:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=t.Screen=t.Page=t.Track=t.Identify=t.Group=t.Alias=t.Facade=void 0;var i=r(9512);Object.defineProperty(t,"Facade",{enumerable:!0,get:function(){return i.Facade}});var o=r(4780);Object.defineProperty(t,"Alias",{enumerable:!0,get:function(){return o.Alias}});var s=r(615);Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return s.Group}});var a=r(4705);Object.defineProperty(t,"Identify",{enumerable:!0,get:function(){return a.Identify}});var l=r(5480);Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return l.Track}});var u=r(5926);Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return u.Page}});var c=r(1207);Object.defineProperty(t,"Screen",{enumerable:!0,get:function(){return c.Screen}});var d=r(5257);Object.defineProperty(t,"Delete",{enumerable:!0,get:function(){return d.Delete}}),t.default=n(n({},i.Facade),{Alias:o.Alias,Group:s.Group,Identify:a.Identify,Track:l.Track,Page:u.Page,Screen:c.Screen,Delete:d.Delete})},4554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/.+\@.+\..+/;t.default=function(e){return r.test(e)}},2272:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={Salesforce:!0};t.default=function(e){return!r[e]}},5926:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var i=n(r(1285)),o=r(9512),s=r(5480),a=n(r(4554));function l(e,t){o.Facade.call(this,e,t)}t.Page=l,i.default(l,o.Facade);var u=l.prototype;u.action=function(){return"page"},u.type=u.action,u.category=o.Facade.field("category"),u.name=o.Facade.field("name"),u.title=o.Facade.proxy("properties.title"),u.path=o.Facade.proxy("properties.path"),u.url=o.Facade.proxy("properties.url"),u.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},u.properties=function(e){var t=this.field("properties")||{},r=this.category(),n=this.name();for(var i in e=e||{},r&&(t.category=r),n&&(t.name=n),e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=null==this[i]?this.proxy("properties."+i):this[i]();if(null==o)continue;t[e[i]]=o,i!==e[i]&&delete t[i]}return t},u.email=function(){var e=this.proxy("context.traits.email")||this.proxy("properties.email");if(e)return e;var t=this.userId();return a.default(t)?t:void 0},u.fullName=function(){var e=this.category(),t=this.name();return t&&e?e+" "+t:t},u.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"},u.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new s.Track(t,this.opts)}},1207:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Screen=void 0;var i=n(r(1285)),o=r(5926),s=r(5480);function a(e,t){o.Page.call(this,e,t)}t.Screen=a,i.default(a,o.Page),a.prototype.action=function(){return"screen"},a.prototype.type=a.prototype.action,a.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"},a.prototype.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new s.Track(t,this.opts)}},5480:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=n(r(1285)),o=r(9512),s=r(4705),a=n(r(4554)),l=n(r(325));function u(e,t){o.Facade.call(this,e,t)}t.Track=u,i.default(u,o.Facade);var c=u.prototype;c.action=function(){return"track"},c.type=c.action,c.event=o.Facade.field("event"),c.value=o.Facade.proxy("properties.value"),c.category=o.Facade.proxy("properties.category"),c.id=o.Facade.proxy("properties.id"),c.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},c.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},c.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},c.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},c.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},c.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},c.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},c.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},c.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},c.sku=o.Facade.proxy("properties.sku"),c.tax=o.Facade.proxy("properties.tax"),c.name=o.Facade.proxy("properties.name"),c.price=o.Facade.proxy("properties.price"),c.total=o.Facade.proxy("properties.total"),c.repeat=o.Facade.proxy("properties.repeat"),c.coupon=o.Facade.proxy("properties.coupon"),c.shipping=o.Facade.proxy("properties.shipping"),c.discount=o.Facade.proxy("properties.discount"),c.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},c.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},c.description=o.Facade.proxy("properties.description"),c.plan=o.Facade.proxy("properties.plan"),c.subtotal=function(){var e=l.default(this.properties(),"subtotal"),t=this.total()||this.revenue();if(e)return e;if(!t)return 0;if(this.total()){var r=this.tax();r&&(t-=r),(r=this.shipping())&&(t-=r),(r=this.discount())&&(t+=r)}return t},c.products=function(){var e=this.properties(),t=l.default(e,"products");return Array.isArray(t)?t.filter((function(e){return null!==e})):[]},c.quantity=function(){return(this.obj.properties||{}).quantity||1},c.currency=function(){return(this.obj.properties||{}).currency||"USD"},c.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},c.query=o.Facade.proxy("options.query"),c.properties=function(e){var t=this.field("properties")||{};for(var r in e=e||{})if(Object.prototype.hasOwnProperty.call(e,r)){var n=null==this[r]?this.proxy("properties."+r):this[r]();if(null==n)continue;t[e[r]]=n,delete t[r]}return t},c.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},c.email=function(){var e=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(e)return e;var t=this.userId();return a.default(t)?t:void 0},c.revenue=function(){var e=this.proxy("properties.revenue"),t=this.event();return!e&&t&&t.match(/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i)&&(e=this.proxy("properties.total")),function(e){if(e){if("number"==typeof e)return e;if("string"==typeof e)return e=e.replace(/\$/g,""),e=parseFloat(e),isNaN(e)?void 0:e}}(e)},c.cents=function(){var e=this.revenue();return"number"!=typeof e?this.value()||0:100*e},c.identify=function(){var e=this.json();return e.traits=this.traits(),new s.Identify(e,this.opts)}},6279:(e,t,r)=>{"use strict";var n=r(8264);e.exports=function e(t,r){return void 0===r&&(r=!0),t&&"object"==typeof t?function(t,r){return Object.keys(t).forEach((function(n){t[n]=e(t[n],r)})),t}(t,r):Array.isArray(t)?function(t,r){return t.forEach((function(n,i){t[i]=e(n,r)})),t}(t,r):n.is(t,r)?n.parse(t):t}},8264:(e,t)=>{"use strict";var r=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;t.parse=function(e){var t=[1,5,6,7,11,12],n=r.exec(e),i=0;if(!n)return new Date(e);for(var o,s=0;o=t[s];s++)n[o]=parseInt(n[o],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0," "===n[4]?i=(new Date).getTimezoneOffset():"Z"!==n[9]&&n[10]&&(i=60*n[11]+n[12],"+"===n[10]&&(i=0-i));var a=Date.UTC(n[1],n[2],n[3],n[5],n[6]+i,n[7],n[8]);return new Date(a)},t.is=function(e,t){return"string"==typeof e&&(!t||!1!==/^\d{4}-\d{2}-\d{2}/.test(e))&&r.test(e)}},8168:(e,t,r)=>{"use strict";function n(e,t,r){t.split&&(t=t.split("."));for(var n,i,o=0,s=t.length,a=e;o<s&&"__proto__"!==(i=t[o++])&&"constructor"!==i&&"prototype"!==i;)a=a[i]=o===s?r:typeof(n=a[i])==typeof t?n:0*t[o]!=0||~(""+t[o]).indexOf(".")?{}:[]}r.d(t,{N:()=>n})},990:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"a.wasm.gz"},2695:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D1.caffemodel"},430:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D1.prototxt"},6926:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D2.caffemodel"},6880:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D2.prototxt"},9943:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D3.caffemodel"},7649:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D3.prototxt"},5872:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D4.caffemodel"},927:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D4.prototxt"},6745:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_30_fps.model.android.bin"},3245:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_30_fps.model.input.android.bin"},7710:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_30_fps_2.model.android.bin"},6236:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_30_fps_dia_xgboost.model.android.bin"},6601:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_30_fps_sys_xgboost.model.android.bin"},5124:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_60_fps_2_8bit.model.ios.bin"},4945:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_60_fps_8bit.model.input.ios.bin"},5401:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_60_fps_8bit.model.ios.bin"},3093:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_60_fps_8bit_dia_xgboost.model.ios.bin"},7379:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_60_fps_8bit_sys_xgboost.model.ios.bin"},857:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/decimation.filters.reference.bin"},648:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/glucose_30_fps.model.android.bin"},8953:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/glucose_60_fps_8bit.model.ios.bin"},1399:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/hemoglobinA1c_30_fps.model.android.bin"},8741:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/hemoglobinA1c_60_fps_8bit.model.ios.bin"},3376:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/hemoglobinA1c_xgboost.model.bin"},3242:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/hemoglobin_30_fps.model.android.bin"},6606:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/hemoglobin_60_fps_8bit.model.ios.bin"},1157:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/pns.reference.bin"},4096:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/sns.reference.bin"},3634:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/totalCholesterol_30_fps.model.android.bin"},5126:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/totalCholesterol_60_fps_8bit.model.ios.bin"},1285:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},7132:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=/iPhone/i,i=/iPod/i,o=/iPad/i,s=/\biOS-universal(?:.+)Mac\b/i,a=/\bAndroid(?:.+)Mobile\b/i,l=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,d=/Windows Phone/i,h=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,f=/BB10/i,_=/Opera Mini/i,g=/\b(CriOS|Chrome)(?:.+)Mobile/i,m=/Mobile(?:.+)Firefox\b/i,E=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};function v(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=t.userAgent,v=r.split("[FBAN");void 0!==v[1]&&(r=v[0]),void 0!==(v=r.split("Twitter"))[1]&&(r=v[0]);var y=function(e){return function(t){return t.test(e)}}(r),b={apple:{phone:y(n)&&!y(d),ipod:y(i),tablet:!y(n)&&(y(o)||E(t))&&!y(d),universal:y(s),device:(y(n)||y(i)||y(o)||y(s)||E(t))&&!y(d)},amazon:{phone:y(u),tablet:!y(u)&&y(c),device:y(u)||y(c)},android:{phone:!y(d)&&y(u)||!y(d)&&y(a),tablet:!y(d)&&!y(u)&&!y(a)&&(y(c)||y(l)),device:!y(d)&&(y(u)||y(c)||y(a)||y(l))||y(/\bokhttp\b/i)},windows:{phone:y(d),tablet:y(h),device:y(d)||y(h)},other:{blackberry:y(p),blackberry10:y(f),opera:y(_),firefox:y(m),chrome:y(g),device:y(p)||y(f)||y(_)||y(m)||y(g)},any:!1,phone:!1,tablet:!1};return b.any=b.apple.device||b.android.device||b.windows.device||b.other.device,b.phone=b.apple.phone||b.android.phone||b.windows.phone,b.tablet=b.apple.tablet||b.android.tablet||b.windows.tablet,b}},5870:(e,t,r)=>{"use strict";var n=r(8264),i=r(5228),o=r(6076),s=Object.prototype.toString;e.exports=function(e){return t=e,"[object Date]"===s.call(t)?e:function(e){return"[object Number]"===s.call(e)}(e)?new Date((r=e)<315576e5?1e3*r:r):n.is(e)?n.parse(e):i.is(e)?i.parse(e):o.is(e)?o.parse(e):new Date(e);var t,r}},5228:(e,t)=>{"use strict";var r=/\d{13}/;t.is=function(e){return r.test(e)},t.parse=function(e){return e=parseInt(e,10),new Date(e)}},6076:(e,t)=>{"use strict";var r=/\d{10}/;t.is=function(e){return r.test(e)},t.parse=function(e){var t=1e3*parseInt(e,10);return new Date(t)}},325:e=>{function t(e){return function(t,r,n,o){var s,a=o&&function(e){return"function"==typeof e}(o.normalizer)?o.normalizer:i;r=a(r);for(var l=!1;!l;)u();function u(){for(s in t){var e=a(s);if(0===r.indexOf(e)){var n=r.substr(e.length);if("."===n.charAt(0)||0===n.length){r=n.substr(1);var i=t[s];return null==i?void(l=!0):r.length?void(t=i):void(l=!0)}}}s=void 0,l=!0}if(s)return null==t?t:e(t,s,n)}}function r(e,t){return e.hasOwnProperty(t)&&delete e[t],e}function n(e,t,r){return e.hasOwnProperty(t)&&(e[t]=r),e}function i(e){return e.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}e.exports=t((function(e,t){if(e.hasOwnProperty(t))return e[t]})),e.exports.find=e.exports,e.exports.replace=function(e,r,i,o){return t(n).call(this,e,r,i,o),e},e.exports.del=function(e,n,i){return t(r).call(this,e,n,null,i),e}},7894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlgoAdapter=void 0;const n=r(306),i=r(1920),o=r(8320),s=r(9077),a=r(8354),l=r(2119),u=r(3377);class c{static initWasm(){return new Promise((async(e,t)=>{try{await u.EmscriptenModule.init(),window.biosenseSignalConfig=window.biosenseSignalConfig,e({type:s.AlgoResultTypes.WASM_READY})}catch(e){t(e)}}))}static initEngine(e,t){var r,s,c,d,h,p;const{fps:f,logging:_,doRecording:g,doMeasuring:m,precomputeReportData:E,osType:v,orientation:y,strictMeasurementGuidance:b,userInformation:w,frameDimensions:S,cameraId:I,encryptLogs:R,bloodPressureEnabled:A,bloodTestEnabled:O}=e;try{window.biosenseSignalConfig=window.biosenseSignalConfig||{},window.biosenseSignalMetaData=window.biosenseSignalMetaData||{},window.biosenseSignalRuntimeData=window.biosenseSignalRuntimeData||{},this.setOnFaceDetectedCallback(),this.setOnImageDataCallback(),this.setOnMessageCallback(),this.setOnReportCallback(),this.setOnLicenseMessageCallback(),this.setOnHttpRequestCallback();const e=(null===(r=window.biosenseSignalMetaData)||void 0===r?void 0:r.commitHash)||a.SdkCommitHash,N=n.version.split("-")[0]+"."+e,T=u.EmscriptenModule.get().ccall("init_engine","number",["number","boolean","boolean","boolean","boolean","boolean","boolean","boolean","boolean","boolean","string","string","number","number","number","number","number","number","boolean","number","number","string","string","string","string","string","string","string","string","string","string","boolean"],[f,_.logSignal,_.logRoi,_.logReport,_.logPerformance,_.logAdvancedSignalLog,_.logCameraMetadata,g,!1!==m,!1!==E,v,N,null!==(s=null==w?void 0:w.sex)&&void 0!==s?s:i.Sex.UNSPECIFIED,null!==(c=null==w?void 0:w.age)&&void 0!==c?c:0,null!==(d=null==w?void 0:w.weight)&&void 0!==d?d:0,null!==(h=null==w?void 0:w.height)&&void 0!==h?h:0,null!==(p=null==w?void 0:w.smokingStatus)&&void 0!==p?p:i.SmokingStatus.UNSPECIFIED,y,b,S.width,S.height,I||"generic-camera-id",l.SESSION_FOLDER,t.licenseKey,t.productId,t.deviceFingerprint,t.os,t.osVersion,t.hostname,t.appVersion,t.userHash,R,A,O]);return(0,o.logMessage)(o.LogSeverity.WARN,"algo-adapter.ts - Engine pointer: "+T.toString(16)),u.EmscriptenModule.setEnginePointer(T),!0}catch(e){return!1}}static getLicenseData(){return u.EmscriptenModule.get().getLicenseData()}static onLicenseNetworkResponse(e,t,r,n){u.EmscriptenModule.get().ccall("on_license_network_response","",["number","string","number","number","string"],[u.EmscriptenModule.getEnginePointer(),e,t,r,n])}static onTimeoutLicenseNetworkResponse(e){u.EmscriptenModule.get().ccall("on_timeout_license_network_response","",["number","string"],[u.EmscriptenModule.getEnginePointer(),e])}static onErrorLicenseNetworkResponse(e){u.EmscriptenModule.get().ccall("on_error_license_network_response","",["number","string"],[u.EmscriptenModule.getEnginePointer(),e])}static setOnFaceDetectedCallback(){window.biosenseSignalConfig.onFaceDetected=(e,t,r,n,i)=>{let o=Date.now();o-this.lastFrameTime<67||(this.lastFrameTime=o,c.onFaceDetected(i))}}static setOnImageDataCallback(){window.biosenseSignalConfig.onImageData=e=>{c.onImageData(e)}}static setOnMessageCallback(){window.biosenseSignalConfig.onMessage=(e,t)=>{c.onAlgoMessage({type:e,value:Math.round(t)})}}static setOnLicenseMessageCallback(){window.biosenseSignalConfig.onLicenseMessage=(e,t)=>{(0,o.logMessage)(o.LogSeverity.WARN,`algo-adapter.ts - onLicenseMessage: ${e} ${t}`),c.onLicenseMessage({type:e,value:t})}}static setOnHttpRequestCallback(){window.biosenseSignalConfig.onHttpRequest=(e,t,r,n,i,o)=>{c.onHttpRequest({id:e,urlHost:t,urlPath:r,method:n,body:i,timeoutMS:o})}}static setOnReportCallback(){let e={};const t=e=>0===e;window.biosenseSignalConfig.onReport=(r,n,i,o,s,a,l,u,c,d,h,p,f,_,g,m)=>{e={},r&&(e.pulseRate={value:r,confidenceLevel:n}),i&&(e.oxygenSaturation={value:i}),o&&(e.respirationRate={value:o,confidenceLevel:s}),a&&(e.sdnn={value:a,confidenceLevel:l}),t(u)||(e.stressLevel={value:u}),t(c)||(e.stressIndex={value:c}),p&&(e.meanRri={value:p,confidenceLevel:f}),_&&(e.rmssd={value:_}),g&&(e.sd1={value:g}),m&&(e.sd2={value:m}),d&&h&&(e.bloodPressure={value:{systolic:d,diastolic:h}})},window.biosenseSignalConfig.onReport2=(r,n,i,o,s,a,l,u,c,d,h,p,f,_,g,m)=>{r&&(e.prq={value:r,confidenceLevel:n}),i&&(e.pnsIndex={value:i}),t(o)||(e.pnsZone={value:o}),s&&(e.snsIndex={value:s}),t(a)||(e.snsZone={value:a}),t(l)||(e.wellnessLevel={value:l}),t(u)||(e.wellnessIndex={value:u}),c&&(e.lfhf={value:c}),d&&(e.hemoglobin={value:d}),d&&(e.hemoglobinA1c={value:h}),f&&_&&((e,t,r,n)=>{if(0==t.size())return;if(t.size()!=r.size())return;let i=[];for(let e=0;e<t.size();e++){const n={timestamp:t.get(e),interval:r.get(e)};i.push(n)}e.rri={value:i,confidenceLevel:n}})(e,f,_,p),t(g)||(e.highHemoglobinA1CRisk={value:g}),t(m)||(e.highBloodPressureRisk={value:m})},window.biosenseSignalConfig.onReport3=(r,n,i,o,s,a,l,u,d,h)=>{t(r)||(e.highFastingGlucoseRisk={value:r}),t(n)||(e.highTotalCholesterolRisk={value:n}),t(i)||(e.lowHemoglobinRisk={value:i}),s&&(e.heartAge={value:s}),o&&(e.ascvdRisk={value:o}),a&&(e.normalizedStressIndex={value:a}),t(l)||(e.ascvdRiskLevel={value:l}),u&&(e.cardiacWorkload={value:u}),d&&(e.meanArterialPressure={value:d}),h&&(e.pulsePressure={value:h}),c.onReport(e)}}static getConfig(){return window.biosenseSignalConfig}static formatRequestMessage(e){return e?JSON.parse(e):e}static start(e){u.EmscriptenModule.get().ccall("start_hrv","",["number","string"],[u.EmscriptenModule.getEnginePointer(),e])}static processRppg(e,t){const{buffer:r,size:n,timestamp:i,format:o}=e,s=this.allocatePointer(r.byteLength);u.EmscriptenModule.get().HEAPU8.set(r,s),u.EmscriptenModule.get().ccall("process_rppg","",["number","number","number","number","number","number","number","string"],[u.EmscriptenModule.getEnginePointer(),s,o,n.height,n.width,0,i,""==t?"generic-camera-id":t]),this.deallocatePointer(s)}static allocatePointer(e){return u.EmscriptenModule.get()._malloc(e)}static deallocatePointer(e){u.EmscriptenModule.get()._free(e)}static finishRppg(e,t){const r=BigInt(e),n=BigInt(4294967295),i=Number(r&n),o=Number(r>>BigInt(32));return u.EmscriptenModule.get().ccall("finish_rppg","",["number","number","number","number"],[u.EmscriptenModule.getEnginePointer(),i,o,t?1:0]),{type:s.AlgoResultTypes.FINISH_RPPG_ENDED}}static terminate(){return(0,o.logMessage)(o.LogSeverity.WARN,"algo-adapter.ts - terminate()"),u.EmscriptenModule.get().ccall("terminate","",["number"],[u.EmscriptenModule.getEnginePointer()]),(0,o.logMessage)(o.LogSeverity.WARN,"algo-adapter.ts - terminate() 2"),u.EmscriptenModule.setEnginePointer(0),{type:s.AlgoResultTypes.FINISH_RPPG_ENDED}}static createMeasurementFolder(e,t){u.EmscriptenModule.get().FS.createPath("/",l.SESSION_FOLDER+"/"+e);const r=t||"generic-camera-id";u.EmscriptenModule.get().FS.createPath("/",l.SESSION_FOLDER+"/"+e+"/"+r)}static readAlgoFilesRppg(e){const t=`${l.SESSION_FOLDER}/${e}`,r=u.EmscriptenModule.get().FS.readdir(l.SESSION_FOLDER),n=u.EmscriptenModule.get().FS.readdir(t),i=(e,t,r=[])=>(t.filter((e=>![".",".."].includes(e))).forEach((t=>{const n=`${e}/${t}`;try{if(16384&u.EmscriptenModule.get().FS.stat(n).mode){const e=u.EmscriptenModule.get().FS.readdir(n);i(n,e,r)}else{const e={fileName:t,data:u.EmscriptenModule.get().FS.readFile(n,{encoding:/\.(ovr|e.*)$/.test(t)?"binary":"utf8"})};u.EmscriptenModule.get().FS.unlink(n),r.push(e)}}catch(e){console.error(`Error processing ${n}:`,e)}})),r);return[...r.filter((e=>e.includes(".clog")||e.includes(".elog")||e.includes(".log"))).map((e=>({fileName:e,data:u.EmscriptenModule.get().FS.readFile(`${l.SESSION_FOLDER}/${e}`,{encoding:"utf8"})}))),...i(t,n)]}static setFaceListener(e){c.onFaceDetected=e}static setImageDataListener(e){c.onImageData=e}static setMessageListener(e){c.onAlgoMessage=e}static setLicenseMessageListener(e){c.onLicenseMessage=e}static setHttpRequestListener(e){c.onHttpRequest=e}static setReportListener(e){c.onReport=e}}t.AlgoAdapter=c,c.lastFrameTime=0},9077:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.AlgoResultTypes=t.AlgoCommandTypes=t.AlgoCommand=void 0,t.AlgoCommand=class{},(n=t.AlgoCommandTypes||(t.AlgoCommandTypes={}))[n.INIT_WASM=0]="INIT_WASM",n[n.INIT_ENGINE=1]="INIT_ENGINE",n[n.START=2]="START",n[n.PROCESS_RPPG=3]="PROCESS_RPPG",n[n.FINISH_RPPG=4]="FINISH_RPPG",n[n.INIT_LICENSE=5]="INIT_LICENSE",n[n.UPDATE_LICENSE=6]="UPDATE_LICENSE",n[n.ON_LICENSE_SERVER_TOKEN=7]="ON_LICENSE_SERVER_TOKEN",n[n.ON_LICENSE_SERVER_ERROR=8]="ON_LICENSE_SERVER_ERROR",n[n.SET_LICENSE_SERVER_DATA=9]="SET_LICENSE_SERVER_DATA",(r=t.AlgoResultTypes||(t.AlgoResultTypes={}))[r.WASM_READY=0]="WASM_READY",r[r.FACE_RECT=1]="FACE_RECT",r[r.MESSAGE=2]="MESSAGE",r[r.REPORT=3]="REPORT",r[r.FINISH_RPPG_ENDED=4]="FINISH_RPPG_ENDED",r[r.INIT_LICENSE=5]="INIT_LICENSE",r[r.INIT_ENGINE_RESULT=6]="INIT_ENGINE_RESULT",r[r.INIT_ENGINE_ERROR=7]="INIT_ENGINE_ERROR",r[r.UPDATE_LICENSE=8]="UPDATE_LICENSE",r[r.ON_LICENSE_SERVER_ERROR_RESULT=9]="ON_LICENSE_SERVER_ERROR_RESULT",r[r.ON_LICENSE_SERVER_TOKEN_RESULT=10]="ON_LICENSE_SERVER_TOKEN_RESULT",r[r.SET_LICENSE_SERVER_DATA_RESULT=11]="SET_LICENSE_SERVER_DATA_RESULT"},8354:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SdkCommitHash=t.ImageFormat=t.HealthMonitorMessage=t.MonitorFeatures=t.AlgoLicenseMessageType=t.AlgoMessageType=t.WellnessLevel=t.StressLevel=t.SnsZone=t.PnsZone=void 0;const n=r(1920);var i,o,s,a,l;Object.defineProperty(t,"PnsZone",{enumerable:!0,get:function(){return n.PnsZone}}),Object.defineProperty(t,"SnsZone",{enumerable:!0,get:function(){return n.SnsZone}}),Object.defineProperty(t,"StressLevel",{enumerable:!0,get:function(){return n.StressLevel}}),Object.defineProperty(t,"WellnessLevel",{enumerable:!0,get:function(){return n.WellnessLevel}}),(l=t.AlgoMessageType||(t.AlgoMessageType={}))[l.MESSAGE_ERROR=0]="MESSAGE_ERROR",l[l.MESSAGE_WARNING=1]="MESSAGE_WARNING",l[l.MESSAGE_RESET=2]="MESSAGE_RESET",l[l.MESSAGE_DONE=3]="MESSAGE_DONE",l[l.MESSAGE_HEART_RATE=4]="MESSAGE_HEART_RATE",l[l.MESSAGE_BREATHING_RATE=5]="MESSAGE_BREATHING_RATE",l[l.MESSAGE_OXYGEN_SATURATION=6]="MESSAGE_OXYGEN_SATURATION",l[l.MESSAGE_BLOOD_PRESSURE=7]="MESSAGE_BLOOD_PRESSURE",l[l.MESSAGE_SNR=8]="MESSAGE_SNR",l[l.MESSAGE_REPORT_VALID=9]="MESSAGE_REPORT_VALID",l[l.MESSAGE_START_FINISHED=100]="MESSAGE_START_FINISHED",l[l.MESSAGE_STOP_FINISHED=101]="MESSAGE_STOP_FINISHED",l[l.MESSAGE_TERMINATE_FINISHED=102]="MESSAGE_TERMINATE_FINISHED",(a=t.AlgoLicenseMessageType||(t.AlgoLicenseMessageType={}))[a.MESSAGE_NONE=0]="MESSAGE_NONE",a[a.MESSAGE_ERROR=1]="MESSAGE_ERROR",a[a.MESSAGE_WARNING=2]="MESSAGE_WARNING",a[a.MESSAGE_LICENSE_DATA=3]="MESSAGE_LICENSE_DATA",a[a.MESSAGE_RESET=4]="MESSAGE_RESET",(s=t.MonitorFeatures||(t.MonitorFeatures={}))[s.HEART_RATE_ENABLE_CODE=Number(BigInt(1)<<BigInt(0))]="HEART_RATE_ENABLE_CODE",s[s.BREATHING_RATE_ENABLE_CODE=Number(BigInt(1)<<BigInt(1))]="BREATHING_RATE_ENABLE_CODE",s[s.OXYGEN_SATURATION_ENABLE_CODE=Number(BigInt(1)<<BigInt(2))]="OXYGEN_SATURATION_ENABLE_CODE",s[s.SDNN_ENABLE_CODE=Number(BigInt(1)<<BigInt(3))]="SDNN_ENABLE_CODE",s[s.STRESS_LEVEL_ENABLE_CODE=Number(BigInt(1)<<BigInt(4))]="STRESS_LEVEL_ENABLE_CODE",s[s.RRI_ENABLE_CODE=Number(BigInt(1)<<BigInt(5))]="RRI_ENABLE_CODE",s[s.BLOOD_PRESSURE_ENABLE_CODE=Number(BigInt(1)<<BigInt(6))]="BLOOD_PRESSURE_ENABLE_CODE",s[s.STRESS_INDEX_ENABLE_CODE=Number(BigInt(1)<<BigInt(7))]="STRESS_INDEX_ENABLE_CODE",s[s.MEAN_RRI_ENABLE_CODE=Number(BigInt(1)<<BigInt(8))]="MEAN_RRI_ENABLE_CODE",s[s.RMSSD_ENABLE_CODE=Number(BigInt(1)<<BigInt(9))]="RMSSD_ENABLE_CODE",s[s.SD1_ENABLE_CODE=Number(BigInt(1)<<BigInt(10))]="SD1_ENABLE_CODE",s[s.SD2_ENABLE_CODE=Number(BigInt(1)<<BigInt(11))]="SD2_ENABLE_CODE",s[s.PRQ_ENABLE_CODE=Number(BigInt(1)<<BigInt(12))]="PRQ_ENABLE_CODE",s[s.PNS_INDEX_ENABLE_CODE=Number(BigInt(1)<<BigInt(13))]="PNS_INDEX_ENABLE_CODE",s[s.PNS_ZONE_ENABLE_CODE=Number(BigInt(1)<<BigInt(14))]="PNS_ZONE_ENABLE_CODE",s[s.SNS_INDEX_ENABLE_CODE=Number(BigInt(1)<<BigInt(15))]="SNS_INDEX_ENABLE_CODE",s[s.SNS_ZONE_ENABLE_CODE=Number(BigInt(1)<<BigInt(16))]="SNS_ZONE_ENABLE_CODE",s[s.WELLNESS_INDEX_ENABLE_CODE=Number(BigInt(1)<<BigInt(17))]="WELLNESS_INDEX_ENABLE_CODE",s[s.WELLNESS_LEVEL_ENABLE_CODE=Number(BigInt(1)<<BigInt(18))]="WELLNESS_LEVEL_ENABLE_CODE",s[s.LFHF_ENABLE_CODE=Number(BigInt(1)<<BigInt(19))]="LFHF_ENABLE_CODE",s[s.HEMOGLOBIN_ENABLE_CODE=Number(BigInt(1)<<BigInt(20))]="HEMOGLOBIN_ENABLE_CODE",s[s.HEMOGLOBIN_A1C_ENABLE_CODE=Number(BigInt(1)<<BigInt(21))]="HEMOGLOBIN_A1C_ENABLE_CODE",s[s.HIGH_HEMOGLOBIN_A1C_ENABLE_CODE=Number(BigInt(1)<<BigInt(23))]="HIGH_HEMOGLOBIN_A1C_ENABLE_CODE",s[s.HIGH_BLOOD_PRESSURE_ENABLE_CODE=Number(BigInt(1)<<BigInt(24))]="HIGH_BLOOD_PRESSURE_ENABLE_CODE",s[s.ASCVD_RISK_ENABLE_CODE=Number(BigInt(1)<<BigInt(25))]="ASCVD_RISK_ENABLE_CODE",s[s.NORMALIZED_STRESS_INDEX_ENABLE_CODE=Number(BigInt(1)<<BigInt(26))]="NORMALIZED_STRESS_INDEX_ENABLE_CODE",s[s.HEART_AGE_ENABLE_CODE=Number(BigInt(1)<<BigInt(28))]="HEART_AGE_ENABLE_CODE",s[s.HIGH_TOTAL_CHOLESTEROL_ENABLE_CODE=Number(BigInt(1)<<BigInt(29))]="HIGH_TOTAL_CHOLESTEROL_ENABLE_CODE",s[s.HIGH_FASTING_GLUCOSE_ENABLE_CODE=Number(BigInt(1)<<BigInt(33))]="HIGH_FASTING_GLUCOSE_ENABLE_CODE",s[s.LOW_HEMOGLOBIN_ENABLE_CODE=Number(BigInt(1)<<BigInt(34))]="LOW_HEMOGLOBIN_ENABLE_CODE",s[s.ASCVD_RISK_LEVEL_ENABLE_CODE=Number(BigInt(1)<<BigInt(35))]="ASCVD_RISK_LEVEL_ENABLE_CODE",s[s.MEAN_ARTERIAL_PRESSURE_ENABLE_CODE=Number(BigInt(1)<<BigInt(36))]="MEAN_ARTERIAL_PRESSURE_ENABLE_CODE",s[s.CARDIAC_WORKLOAD_ENABLE_CODE=Number(BigInt(1)<<BigInt(37))]="CARDIAC_WORKLOAD_ENABLE_CODE",s[s.PULSE_PRESSURE_ENABLE_CODE=Number(BigInt(1)<<BigInt(38))]="PULSE_PRESSURE_ENABLE_CODE",(o=t.HealthMonitorMessage||(t.HealthMonitorMessage={}))[o.HEALTH_MONITOR_HEART_RATE=1]="HEALTH_MONITOR_HEART_RATE",o[o.HEALTH_MONITOR_BREATHING_RATE=3]="HEALTH_MONITOR_BREATHING_RATE",o[o.HEALTH_MONITOR_SDNN=4]="HEALTH_MONITOR_SDNN",o[o.HEALTH_MONITOR_STRESS_LEVEL=5]="HEALTH_MONITOR_STRESS_LEVEL",o[o.HEALTH_MONITOR_REPORT=100]="HEALTH_MONITOR_REPORT",(i=t.ImageFormat||(t.ImageFormat={}))[i.RGBA=0]="RGBA",i[i.NV12=1]="NV12",i[i.I420=2]="I420",t.SdkCommitHash="6c4b0eed"},2119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SESSION_FOLDER=void 0,t.SESSION_FOLDER="log-measurements"},3377:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EmscriptenModule=void 0;const i=n(r(990)),o=n(r(8384)),s=n(r(6107)),a=r(2119),l=n(r(6353)),u=n(r(9591));class c{static async init(){if(c.instance)return;const[e,t]=await Promise.all([(async()=>{const e=await fetch(i.default);if(!e.ok)throw new Error("Failed to load WASM file.");const t=await e.arrayBuffer(),r=new Uint8Array(t);return 31===r[0]&&139===r[1]?u.default.inflate(r).buffer:t})(),(async()=>{const e=r(8435),t=new l.default(navigator.userAgent),{name:n}=t.getOS();let i;const o=e.keys().filter((e=>!e.endsWith(".android.bin")&&!e.endsWith(".ios.bin")));if("Android"===n){const t=e.keys().filter((e=>e.endsWith(".android.bin")));i=[...o,...t]}else if("iOS"===n||"Mac OS"===n){const t=e.keys().filter((e=>e.endsWith(".ios.bin")));i=[...o,...t]}else i=e.keys();const s=i.map((async e=>{const t=await fetch("models/"+e),r=await t.blob();return{name:e,data:new Uint8Array(await r.arrayBuffer())}}));return Promise.all(s)})()]);c.instance=await(async e=>new o.default({wasmBinary:e,locateFile:e=>"a.worker.js"===e?s.default:e}))(e),await(async e=>{e.FS.createPath("/",a.SESSION_FOLDER)})(c.instance),await this.loadModelsIntoFS(t)}static get(){if(!c.instance)throw new Error("Wasm is not initialized");return c.instance}static setEnginePointer(e){c.enginePointer=e}static getEnginePointer(){return c.enginePointer}static async loadModelsIntoFS(e){c.instance.FS.createPath("/","/models"),e.forEach((({name:e,data:t})=>{c.instance.FS.createDataFile("/models",e,t,!0,!0,!0)}))}}t.EmscriptenModule=c,c.enginePointer=0},8477:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.AlgoAdapter=void 0;var o=r(7894);Object.defineProperty(t,"AlgoAdapter",{enumerable:!0,get:function(){return o.AlgoAdapter}}),i(r(8354),t)},9016:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticEventType=void 0,(r=t.AnalyticEventType||(t.AnalyticEventType={})).SESSION_CREATED="sessionCreated",r.MEASUREMENT_START="measurementStart",r.MEASUREMENT_END="measurementEnd",r.SESSION_WARNING="sessionWarning",r.SESSION_ERROR="sessionError",r.SESSION_TERMINATED="sessionTerminated"},3739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticsFactory=void 0;const n=r(3397);t.AnalyticsFactory=class{static create(e,t){const r=new n.SegmentAnalytics;return r.init(e,t),r}}},7537:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticsHandler=void 0;const n=r(6366),i=r(778),o=r(9016);class s{static getInstance(){return s.instance||(s.instance=new s),s.instance}setAnalyticsApi(e){s.analyticsApi=e}setLicenseActivationId(e){s.licenseActivationId=e}setEnabledVitalSigns(e){s.analyticsApi&&(s.enabledVitalSigns=e)}handleWarning(e){if(!s.analyticsApi)return;const t={type:o.AnalyticEventType.SESSION_WARNING,data:{code:e.code}};s.analyticsApi.sendEvent(t)}handleError(e){if(!s.analyticsApi)return;const t={type:o.AnalyticEventType.SESSION_ERROR,data:{code:e.code}};s.analyticsApi.sendEvent(t)}handleMeasurementStarted(e,t){if(!s.analyticsApi)return;s.measurementRequestedDuration=t;const r={type:o.AnalyticEventType.MEASUREMENT_START,data:{measurementStartTime:e,measurementRequestedDuration:t}};s.analyticsApi.sendEvent(r)}handleSessionTerminated(){if(!s.analyticsApi)return;const e={type:o.AnalyticEventType.SESSION_TERMINATED};s.analyticsApi.sendEvent(e)}handleFinalResults(e,t=null,r=null){var i;if(!s.analyticsApi)return;let a={activationId:s.licenseActivationId,error:r,measurementDuration:e,measurementRequestedDuration:s.measurementRequestedDuration};for(const e in n.VitalSignType){const r=n.VitalSignType[e];if(!s.isVitalSignEnabled(r))continue;const o=null===(i=null==t?void 0:t.results)||void 0===i?void 0:i[r];a[r]=void 0!==o,(null==o?void 0:o.confidenceLevel)&&(a[r+"Confidence"]=n.ConfidenceLevel[o.confidenceLevel].toLowerCase())}const l={type:o.AnalyticEventType.MEASUREMENT_END,data:a};s.analyticsApi.sendEvent(l)}handleSessionCreated(e,t,r,n,a){if(!s.analyticsApi)return;const l={type:o.AnalyticEventType.SESSION_CREATED,data:{mode:"face",sex:!!(null==n?void 0:n.sex)&&(n.sex===i.Sex.MALE||n.sex===i.Sex.FEMALE),smokingStatus:!!(null==n?void 0:n.smokingStatus)&&(n.smokingStatus===i.SmokingStatus.SMOKER||n.smokingStatus===i.SmokingStatus.NON_SMOKER),age:!!(null==n?void 0:n.age),weight:!!(null==n?void 0:n.weight),height:!!(null==n?void 0:n.height),orientation:a?null==a?void 0:a.toString().toLowerCase():"detectOnStart",strictMeasurementGuidance:!!e,vitalSignListener:t,imageListener:r}};s.analyticsApi.sendEvent(l)}static isVitalSignEnabled(e){if(!s.enabledVitalSigns)return!1;const t="isEnabled"+(e.charAt(0).toUpperCase()+e.slice(1));return s.enabledVitalSigns[t]||!1}}t.AnalyticsHandler=s,s.licenseActivationId=null,s.measurementRequestedDuration=null,s.enabledVitalSigns=null},3397:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SegmentAnalytics=void 0;const n=r(8648),i=r(8354),o=r(306);t.SegmentAnalytics=class{init(e,t){var r;this.analytics=n.AnalyticsBrowser.load({writeKey:e}),this.extraData={sessionType:"face",sessionId:t,sdkVersion:o.version.split("-")[0],sdkBuild:o.version.split("-")[1],sdkCommit:(null===(r=window.biosenseSignalMetaData)||void 0===r?void 0:r.commitHash)||i.SdkCommitHash,sdkType:"web"}}sendEvent(e){let t=Object.assign(Object.assign({},e.data),this.extraData);this.analytics.track(e.type,t)}}},7632:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_PROCESSING_TIME=t.MIN_PROCESSING_TIME=t.DEFAULT_FPS=t.DEFAULT_HEIGHT=t.DEFAULT_WIDTH=void 0,t.DEFAULT_WIDTH=640,t.DEFAULT_HEIGHT=480,t.DEFAULT_FPS=15,t.MIN_PROCESSING_TIME=20,t.MAX_PROCESSING_TIME=180},1105:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HealthMonitorCameraFactory=void 0;const n=r(3311),i=r(2357),o=r(1074);t.HealthMonitorCameraFactory=class{static create({videoElement:e,cameraDeviceId:t,frameDimensions:r}){const s=new i.VideoStreamProvider,a=new o.VideoFrameExtractor(e);return new n.HealthMonitorCameraImpl({videoElement:e,cameraDeviceId:t,frameDimensions:r,mediaStreamProvider:s,frameExtractor:a})}}},3311:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HealthMonitorCameraImpl=void 0;const n=r(7223);t.HealthMonitorCameraImpl=class{constructor({videoElement:e,cameraDeviceId:t,frameDimensions:r,mediaStreamProvider:n,frameExtractor:i}){this.video=e,this.deviceId=t,this.frameDimensions=r,this.mediaStreamProvider=n,this.frameExtractor=i}setFrameHandler(e){this.frameExtractor.setFrameHandler(e)}async open(){try{this.stream=await this.mediaStreamProvider.getStream(this.frameDimensions,this.deviceId)}catch(e){throw new n.MonitorError(e.errorCode,e.message)}this.video.srcObject=this.stream,await this.video.play(),this.frameExtractor.start()}async close(){var e,t;null===(e=this.frameExtractor)||void 0===e||e.setFrameHandler(null),null===(t=this.stream)||void 0===t||t.getTracks().forEach((e=>e.stop())),this.stream=null}resetTime(){this.frameExtractor.resetTime()}}},1074:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoFrameExtractor=void 0;const n=r(7632),i=r(8477);t.VideoFrameExtractor=class{constructor(e){this.video=e,this.lastProcessedFrameTime=0,this.firstTimeStamp=-1}setFrameHandler(e){this.handleFrame=e}start(){if(window.chrome)this.startAsync();else{this.lastFrameTime=this.video.currentTime;const e=()=>{if(this.hasFrameDimensionsChanged()&&this.setupCanvasContext(),this.isNewFrameReady()){const e=this.extractFrameData();this.handleFrame(e)}requestAnimationFrame(e)};requestAnimationFrame(e)}}hasFrameDimensionsChanged(){return(this.video.videoWidth!=this.width||this.video.videoHeight!=this.height)&&(this.width=this.video.videoWidth,this.height=this.video.videoHeight,!0)}convertImageFormatToNative(e){switch(e){case"NV12":return i.ImageFormat.NV12;case"I420":return i.ImageFormat.I420;default:return i.ImageFormat.RGBA}}async startAsync(){const e="getVideoTracks"in this.video.srcObject&&this.video.srcObject.getVideoTracks()[0],t=new MediaStreamTrackProcessor({track:e,maxBufferSize:10}).readable.getReader();for(;;){const e=await t.read();if(e.done)break;const r=e.value;this.firstTimeStamp<0&&(this.firstTimeStamp=r.timestamp);const i=r.timestamp,o=1/n.DEFAULT_FPS,s=(i-this.lastProcessedFrameTime)/1e6||0;this.log("delta="+s+"  threshold="+.8*o),this.lastFrameTime=i;{this.log("handling frame"),this.lastProcessedFrameTime=i;const e=new Uint8Array(r.allocationSize());r.copyTo(e);const t=this.convertImageFormatToNative(r.format),n={width:r.codedWidth,height:r.codedHeight};r.close();const o={buffer:e,timestamp:(i-this.firstTimeStamp)/1e6,size:n,format:t};this.handleFrame(o)}}}resetTime(){this.startTime=0,this.firstTimeStamp=-1}isNewFrameReady(){const e=this.video.currentTime,t=1/n.DEFAULT_FPS;return e-this.lastFrameTime>=.8*t&&(this.lastFrameTime=e,!0)}extractFrameData(){this.context.drawImage(this.video,0,0),this.startTime||(this.startTime=this.lastFrameTime);const e=this.lastFrameTime-this.startTime,{data:t,width:r,height:n}=this.context.getImageData(0,0,this.video.videoWidth,this.video.videoHeight);return{buffer:t,size:{width:r,height:n},timestamp:e,format:i.ImageFormat.RGBA}}setupCanvasContext(){const e=document.createElement("canvas");e.width=this.video.videoWidth,e.height=this.video.videoHeight,this.context=e.getContext("2d",{willReadFrequently:!0})}logFrame(){const e=1e3*(this.video.currentTime-this.lastFrameTime);console.log("actualFrameRate = ",1e3/e)}log(e){}}},2357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoStreamProvider=void 0;const n=r(7223),i=r(1920),o=r(7632),s=r(8477);t.VideoStreamProvider=class{async getStream(e,t){await this.getCameraDeviceId(t);const r=await this.getUserMediaConstraints(e,t);return await this.validateCameraPermission(r)}async getCameraDeviceId(e){const t=(await navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind));if(e&&!t.some((({deviceId:t})=>t===e)))throw new n.MonitorError(i.HealthMonitorCodes.CAMERA_CODE_NO_CAMERA_ERROR,"camera not found")}async validateCameraPermission(e){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new n.MonitorError(i.HealthMonitorCodes.CAMERA_CODE_CAMERA_OPEN_ERROR,"Couldn't get user media");try{return await navigator.mediaDevices.getUserMedia(e)}catch(e){if("OverconstrainedError"===e.name)throw new n.MonitorError(i.HealthMonitorCodes.CAMERA_CODE_CAMERA_OPEN_ERROR,"No matching camera found");throw new n.MonitorError(i.HealthMonitorCodes.CAMERA_CODE_CAMERA_MISSING_PERMISSIONS_ERROR,"Camera permissions not granted")}}async getUserMediaConstraints(e,t){const{width:r,height:n}=e,i=await s.AlgoAdapter.getConfig(),a=(null==i?void 0:i.is30fpsEnabled)?30:o.DEFAULT_FPS;return{video:{width:{exact:r},height:{exact:n},deviceId:t,frameRate:{min:a,exact:a,max:a,ideal:a},facingMode:"user"}}}}},9396:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionError=void 0;class r extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}}t.ConnectionError=r},7223:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonitorError=void 0;class r extends Error{constructor(e,t){super(t),this.errorCode=e,Object.setPrototypeOf(this,r.prototype)}}t.MonitorError=r},6366:(e,t)=>{"use strict";var r,n,i,o,s,a,l,u,c,d,h,p,f,_,g;Object.defineProperty(t,"__esModule",{value:!0}),t.ImageValidity=t.AlertDomains=t.VitalSignType=t.AscvdRiskLevel=t.LowHemoglobinRisk=t.HighTotalCholesterolRisk=t.HighFastingGlucoseRisk=t.HighBloodPressureRisk=t.HighHemoglobinA1CRisk=t.PnsZone=t.SnsZone=t.WellnessLevel=t.StressLevel=t.ConfidenceLevel=t.HealthMonitorMessage=void 0,(g=t.HealthMonitorMessage||(t.HealthMonitorMessage={}))[g.HEALTH_MONITOR_HEART_RATE=1]="HEALTH_MONITOR_HEART_RATE",g[g.HEALTH_MONITOR_BREATHING_RATE=3]="HEALTH_MONITOR_BREATHING_RATE",g[g.HEALTH_MONITOR_SDNN=4]="HEALTH_MONITOR_SDNN",g[g.HEALTH_MONITOR_STRESS_LEVEL=5]="HEALTH_MONITOR_STRESS_LEVEL",g[g.HEALTH_MONITOR_REPORT=100]="HEALTH_MONITOR_REPORT",(_=t.ConfidenceLevel||(t.ConfidenceLevel={}))[_.UNKNOWN=0]="UNKNOWN",_[_.LOW=1]="LOW",_[_.MEDIUM=2]="MEDIUM",_[_.HIGH=3]="HIGH",(f=t.StressLevel||(t.StressLevel={}))[f.UNKNOWN=0]="UNKNOWN",f[f.LOW=1]="LOW",f[f.NORMAL=2]="NORMAL",f[f.MILD=3]="MILD",f[f.HIGH=4]="HIGH",f[f.EXTREME=5]="EXTREME",(p=t.WellnessLevel||(t.WellnessLevel={}))[p.UNKNOWN=0]="UNKNOWN",p[p.LOW=1]="LOW",p[p.NORMAL=2]="NORMAL",p[p.HIGH=3]="HIGH",(h=t.SnsZone||(t.SnsZone={}))[h.UNKNOWN=0]="UNKNOWN",h[h.LOW=1]="LOW",h[h.NORMAL=2]="NORMAL",h[h.HIGH=3]="HIGH",(d=t.PnsZone||(t.PnsZone={}))[d.UNKNOWN=0]="UNKNOWN",d[d.LOW=1]="LOW",d[d.NORMAL=2]="NORMAL",d[d.HIGH=3]="HIGH",(c=t.HighHemoglobinA1CRisk||(t.HighHemoglobinA1CRisk={}))[c.UNKNOWN=0]="UNKNOWN",c[c.LOW=1]="LOW",c[c.MEDIUM=2]="MEDIUM",c[c.HIGH=3]="HIGH",(u=t.HighBloodPressureRisk||(t.HighBloodPressureRisk={}))[u.UNKNOWN=0]="UNKNOWN",u[u.LOW=1]="LOW",u[u.MEDIUM=2]="MEDIUM",u[u.HIGH=3]="HIGH",(l=t.HighFastingGlucoseRisk||(t.HighFastingGlucoseRisk={}))[l.UNKNOWN=0]="UNKNOWN",l[l.LOW=1]="LOW",l[l.MEDIUM=2]="MEDIUM",l[l.HIGH=3]="HIGH",(a=t.HighTotalCholesterolRisk||(t.HighTotalCholesterolRisk={}))[a.UNKNOWN=0]="UNKNOWN",a[a.LOW=1]="LOW",a[a.MEDIUM=2]="MEDIUM",a[a.HIGH=3]="HIGH",(s=t.LowHemoglobinRisk||(t.LowHemoglobinRisk={}))[s.UNKNOWN=0]="UNKNOWN",s[s.LOW=1]="LOW",s[s.MEDIUM=2]="MEDIUM",s[s.HIGH=3]="HIGH",(o=t.AscvdRiskLevel||(t.AscvdRiskLevel={}))[o.UNKNOWN=0]="UNKNOWN",o[o.LOW=1]="LOW",o[o.MEDIUM=2]="MEDIUM",o[o.HIGH=3]="HIGH",(i=t.VitalSignType||(t.VitalSignType={})).PULSE_RATE="pulseRate",i.OXYGEN_SATURATION="oxygenSaturation",i.RESPIRATION_RATE="respirationRate",i.SDNN="sdnn",i.STRESS_LEVEL="stressLevel",i.STRESS_INDEX="stressIndex",i.RRI="rri",i.MEAN_RRI="meanRri",i.BLOOD_PRESSURE="bloodPressure",i.RMSSD="rmssd",i.SD1="sd1",i.SD2="sd2",i.PRQ="prq",i.PNS_INDEX="pnsIndex",i.PNS_ZONE="pnsZone",i.SNS_INDEX="snsIndex",i.SNS_ZONE="snsZone",i.WELLNESS_INDEX="wellnessIndex",i.WELLNESS_LEVEL="wellnessLevel",i.LFHF="lfhf",i.HEMOGLOBIN="hemoglobin",i.HEMOGLOBIN_A1C="hemoglobinA1c",i.HIGH_HEMOGLOBIN_A1C_RISK="highHemoglobinA1CRisk",i.HIGH_BLOOD_PRESSURE_RISK="highBloodPressureRisk",i.ASCVD_RISK="ascvdRisk",i.HEART_AGE="heartAge",i.NORMALIZED_STRESS_INDEX="normalizedStressIndex",i.HIGH_FASTING_GLUCOSE_RISK="highFastingGlucoseRisk",i.HIGH_TOTAL_CHOLESTEROL_RISK="highTotalCholesterolRisk",i.LOW_HEMOGLOBIN_RISK="lowHemoglobinRisk",i.ASCVD_RISK_LEVEL="ascvdRiskLevel",i.CARDIAC_WORKLOAD="cardiacWorkload",i.MEAN_ARTERIAL_PRESSURE="meanArterialPressure",i.PULSE_PRESSURE="pulsePressure",(n=t.AlertDomains||(t.AlertDomains={}))[n.ALERT_DOMAIN_DEVICE=0]="ALERT_DOMAIN_DEVICE",n[n.ALERT_DOMAIN_CAMERA=1e3]="ALERT_DOMAIN_CAMERA",n[n.ALERT_DOMAIN_LICENSE=2e3]="ALERT_DOMAIN_LICENSE",n[n.ALERT_DOMAIN_MEASUREMENT=3e3]="ALERT_DOMAIN_MEASUREMENT",n[n.ALERT_DOMAIN_VITAL_SIGNS=4e3]="ALERT_DOMAIN_VITAL_SIGNS",n[n.ALERT_DOMAIN_RECORDER=5e3]="ALERT_DOMAIN_RECORDER",n[n.ALERT_DOMAIN_SESSION=6e3]="ALERT_DOMAIN_SESSION",n[n.ALERT_DOMAIN_INITIALIZATION=7e3]="ALERT_DOMAIN_INITIALIZATION",(r=t.ImageValidity||(t.ImageValidity={}))[r.VALID=0]="VALID",r[r.INVALID_DEVICE_ORIENTATION=1]="INVALID_DEVICE_ORIENTATION",r[r.INVALID_ROI=2]="INVALID_ROI",r[r.TILTED_HEAD=3]="TILTED_HEAD",r[r.FACE_TOO_FAR=4]="FACE_TOO_FAR",r[r.UNEVEN_LIGHT=5]="UNEVEN_LIGHT"},5069:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALGO_MESSAGE_TO_VITAL_SIGN_NAME=void 0;const n=r(8477);t.ALGO_MESSAGE_TO_VITAL_SIGN_NAME={[n.AlgoMessageType.MESSAGE_HEART_RATE]:"pulseRate",[n.AlgoMessageType.MESSAGE_BREATHING_RATE]:"respirationRate"}},8608:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALGO_TO_HEALTH_MONITOR_MSG_MAPPING=void 0;const n=r(6366),i=r(8477);t.ALGO_TO_HEALTH_MONITOR_MSG_MAPPING={[i.AlgoMessageType.MESSAGE_HEART_RATE]:n.HealthMonitorMessage.HEALTH_MONITOR_HEART_RATE,[i.AlgoMessageType.MESSAGE_BREATHING_RATE]:n.HealthMonitorMessage.HEALTH_MONITOR_BREATHING_RATE}},3024:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=t.HttpRequestError=void 0;const n=r(9396);var i;!function(e){e[e.GENERIC=0]="GENERIC",e[e.TIMEOUT=1]="TIMEOUT"}(i=t.HttpRequestError||(t.HttpRequestError={})),t.HttpClient=class{static async performRequest(e,t,r,o=5e3){const s={method:t,headers:{"Content-Type":"application/json"},body:r},a=new Promise((async(t,r)=>{try{t(await fetch(e,s))}catch(e){r(new n.ConnectionError(i.GENERIC,"Http request error"))}})),l=new Promise(((e,t)=>setTimeout((()=>t(new n.ConnectionError(i.TIMEOUT,"Http request timout"))),o)));return await Promise.race([a,l])}}},7746:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldPublishAlert=void 0,t.shouldPublishAlert=e=>{var t;return!!(null===(t=window.biosenseSignalConfig)||void 0===t?void 0:t.reportDevErrors)||e<4e4}},242:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUuidV4=void 0,t.getUuidV4=()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))},3780:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConstantOrientationHelper=t.DefaultOrientationHelper=void 0;const n=r(1951),i=r(1903);t.DefaultOrientationHelper=class{constructor(){this.resetValid=this.resetValidOrientation,this.isValid=this.isOrientationValid}resetValidOrientation(){this.validOrientation=(0,n.getOrientation)()}isOrientationValid(){return this.validOrientation===(0,n.getOrientation)()}},t.ConstantOrientationHelper=class{constructor(e){this.validOrientations=i.MAP_CONSTANT_ORIENTATION_TO_IMAGE_ROTATION[e],this.resetValid=this.resetValidOrientation,this.isValid=this.isOrientationValid}resetValidOrientation(){}isOrientationValid(){var e;const t=(0,n.getOrientation)();return null===(e=this.validOrientations)||void 0===e?void 0:e.includes(t)}}},1951:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowserVersionMajorAndMinor=t.getBrowserVersion=t.getBrowser=t.getOSVersionMajor=t.getOSVersion=t.getOS=t.getOrientation=t.isPortrait=t.isIpadOS=t.isTablet=t.isIos=t.isMobile=void 0;const i=n(r(7132)),o=n(r(6353)),s=r(1903);t.isMobile=()=>"mobile"===(0,o.default)(navigator.userAgent).device.type||"android"===(0,t.getOS)()||"ios"===(0,t.getOS)(),t.isIos=()=>"ios"===(0,t.getOS)(),t.isTablet=()=>"tablet"===(0,o.default)(navigator.userAgent).device.type||(0,t.isIpadOS)(),t.isIpadOS=()=>(0,i.default)(window.navigator).apple.tablet,t.isPortrait=()=>window.matchMedia("(orientation:portrait)").matches,t.getOrientation=()=>{const{orientation:e}=screen;if(e){if("landscape-primary"===e.type)return s.ImageRotation.ROTATION_90;if("landscape-secondary"===e.type)return s.ImageRotation.ROTATION_270;if(e.type.includes("portrait"))return s.ImageRotation.ROTATION_0}return s.ImageRotation.ROTATION_LANDSCAPE_FALLBACK},t.getOS=()=>{const e=new o.default(navigator.userAgent),{name:t}=e.getOS();return"Mac OS"===t?"macos":"iOS"===t?"ios":"Windows"===t?"windows":"Android"===t?"android":"linux"},t.getOSVersion=()=>{if((0,t.isIpadOS)()){const e=navigator.userAgent.match(/(?:CPU OS (\d+)_(\d+)(?:_(\d+))?|\bVersion\/(\d+)\.(\d+)(?:\.(\d+))?)/);return e?`${e[1]||e[4]}.${e[2]||e[5]}.${e[3]||e[6]||"0"}`:"0.0.0"}return new o.default(navigator.userAgent).getOS().version},t.getOSVersionMajor=()=>{const e=(0,t.getOSVersion)().split(".");return e.length>0?parseInt(e[0]):void 0},t.getBrowser=()=>{const e=new o.default(navigator.userAgent),{name:t}=e.getBrowser();return t.includes("Opera")?"opera":t.includes("Chrome")||"Chromium"===t?"chrome":t.includes("Safari")?"safari":t.includes("Firefox")?"firefox":"unknown"},t.getBrowserVersion=()=>(0,o.default)(navigator.userAgent).browser.version,t.getBrowserVersionMajorAndMinor=()=>{var e;const r=null===(e=(0,t.getBrowserVersion)())||void 0===e?void 0:e.match(/\d+((\.|,)\d+)?/);return r&&r[0]}},1903:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.MAP_IMAGE_ROTATION_TO_CONSTANT_ORIENTATION=t.MAP_CONSTANT_ORIENTATION_TO_IMAGE_ROTATION=t.ImageRotation=t.DeviceOrientation=void 0,function(e){e[e.PORTRAIT=0]="PORTRAIT",e[e.LANDSCAPE_LEFT=1]="LANDSCAPE_LEFT",e[e.LANDSCAPE_RIGHT=2]="LANDSCAPE_RIGHT"}(r=t.DeviceOrientation||(t.DeviceOrientation={})),function(e){e[e.ROTATION_0=0]="ROTATION_0",e[e.ROTATION_90=90]="ROTATION_90",e[e.ROTATION_270=270]="ROTATION_270",e[e.ROTATION_NEGATIVE_90=-90]="ROTATION_NEGATIVE_90",e[e.ROTATION_LANDSCAPE_FALLBACK=1]="ROTATION_LANDSCAPE_FALLBACK"}(n=t.ImageRotation||(t.ImageRotation={})),t.MAP_CONSTANT_ORIENTATION_TO_IMAGE_ROTATION={[r.PORTRAIT]:[n.ROTATION_0],[r.LANDSCAPE_RIGHT]:[n.ROTATION_90,n.ROTATION_LANDSCAPE_FALLBACK],[r.LANDSCAPE_LEFT]:[n.ROTATION_270,n.ROTATION_NEGATIVE_90,n.ROTATION_LANDSCAPE_FALLBACK]},t.MAP_IMAGE_ROTATION_TO_CONSTANT_ORIENTATION={[n.ROTATION_0]:r.PORTRAIT,[n.ROTATION_90]:r.LANDSCAPE_RIGHT,[n.ROTATION_270]:r.LANDSCAPE_LEFT,[n.ROTATION_NEGATIVE_90]:r.LANDSCAPE_LEFT,[n.ROTATION_LANDSCAPE_FALLBACK]:r.LANDSCAPE_LEFT}},744:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.HealthMonitorCodes=void 0,(r=t.HealthMonitorCodes||(t.HealthMonitorCodes={}))[r.NO_ERROR=0]="NO_ERROR",r[r.DEVICE_CODE_MINIMUM_OS_VERSION_ERROR=8]="DEVICE_CODE_MINIMUM_OS_VERSION_ERROR",r[r.DEVICE_CODE_INTERNAL_ERROR_1=10]="DEVICE_CODE_INTERNAL_ERROR_1",r[r.DEVICE_CODE_INTERNAL_ERROR_2=11]="DEVICE_CODE_INTERNAL_ERROR_2",r[r.DEVICE_CODE_INTERNAL_ERROR_3=12]="DEVICE_CODE_INTERNAL_ERROR_3",r[r.DEVICE_CODE_INTERNAL_ERROR_4=13]="DEVICE_CODE_INTERNAL_ERROR_4",r[r.DEVICE_CODE_CLOCK_SKEW_ERROR=17]="DEVICE_CODE_CLOCK_SKEW_ERROR",r[r.DEVICE_CODE_MINIMUM_BROWSER_VERSION_ERROR=18]="DEVICE_CODE_MINIMUM_BROWSER_VERSION_ERROR",r[r.CAMERA_CODE_NO_CAMERA_ERROR=1001]="CAMERA_CODE_NO_CAMERA_ERROR",r[r.CAMERA_CODE_CAMERA_OPEN_ERROR=1002]="CAMERA_CODE_CAMERA_OPEN_ERROR",r[r.CAMERA_CODE_CAMERA_MISSING_PERMISSIONS_ERROR=1005]="CAMERA_CODE_CAMERA_MISSING_PERMISSIONS_ERROR",r[r.CAMERA_CODE_UNEXPECTED_IMAGE_DIMENSIONS_WARNING=1501]="CAMERA_CODE_UNEXPECTED_IMAGE_DIMENSIONS_WARNING",r[r.LICENSE_CODE_INTERNAL_ERROR_18=2001]="LICENSE_CODE_INTERNAL_ERROR_18",r[r.LICENSE_CODE_ACTIVATION_LIMIT_REACHED_ERROR=2002]="LICENSE_CODE_ACTIVATION_LIMIT_REACHED_ERROR",r[r.LICENSE_CODE_METER_ATTRIBUTE_USES_LIMIT_REACHED_ERROR=2003]="LICENSE_CODE_METER_ATTRIBUTE_USES_LIMIT_REACHED_ERROR",r[r.LICENSE_CODE_AUTHENTICATION_FAILED_ERROR=2004]="LICENSE_CODE_AUTHENTICATION_FAILED_ERROR",r[r.LICENSE_CODE_INTERNAL_ERROR_1=2006]="LICENSE_CODE_INTERNAL_ERROR_1",r[r.LICENSE_CODE_INVALID_LICENSE_KEY_ERROR=2007]="LICENSE_CODE_INVALID_LICENSE_KEY_ERROR",r[r.LICENSE_CODE_INTERNAL_ERROR_2=2008]="LICENSE_CODE_INTERNAL_ERROR_2",r[r.LICENSE_CODE_INTERNAL_ERROR_3=2009]="LICENSE_CODE_INTERNAL_ERROR_3",r[r.LICENSE_CODE_REVOKED_LICENSE_ERROR=2010]="LICENSE_CODE_REVOKED_LICENSE_ERROR",r[r.LICENSE_CODE_INTERNAL_ERROR_4=2011]="LICENSE_CODE_INTERNAL_ERROR_4",r[r.LICENSE_CODE_INTERNAL_ERROR_5=2012]="LICENSE_CODE_INTERNAL_ERROR_5",r[r.LICENSE_CODE_INTERNAL_ERROR_7=2014]="LICENSE_CODE_INTERNAL_ERROR_7",r[r.LICENSE_CODE_INTERNAL_ERROR_8=2015]="LICENSE_CODE_INTERNAL_ERROR_8",r[r.LICENSE_CODE_INTERNAL_ERROR_9=2016]="LICENSE_CODE_INTERNAL_ERROR_9",r[r.LICENSE_CODE_LICENSE_EXPIRED_ERROR=2017]="LICENSE_CODE_LICENSE_EXPIRED_ERROR",r[r.LICENSE_CODE_LICENSE_SUSPENDED_ERROR=2018]="LICENSE_CODE_LICENSE_SUSPENDED_ERROR",r[r.LICENSE_CODE_TOKEN_EXPIRED_ERROR=2020]="LICENSE_CODE_TOKEN_EXPIRED_ERROR",r[r.LICENSE_CODE_DEVICE_DEACTIVATED_ERROR=2021]="LICENSE_CODE_DEVICE_DEACTIVATED_ERROR",r[r.LICENSE_CODE_INTERNAL_ERROR_10=2022]="LICENSE_CODE_INTERNAL_ERROR_10",r[r.LICENSE_CODE_INTERNAL_ERROR_11=2023]="LICENSE_CODE_INTERNAL_ERROR_11",r[r.LICENSE_CODE_NETWORK_ISSUES_ERROR=2024]="LICENSE_CODE_NETWORK_ISSUES_ERROR",r[r.LICENSE_CODE_SSL_HANDSHAKE_ERROR=2025]="LICENSE_CODE_SSL_HANDSHAKE_ERROR",r[r.LICENSE_CODE_INTERNAL_ERROR_16=2030]="LICENSE_CODE_INTERNAL_ERROR_16",r[r.LICENSE_CODE_INPUT_LICENSE_KEY_EMPTY_ERROR=2032]="LICENSE_CODE_INPUT_LICENSE_KEY_EMPTY_ERROR",r[r.LICENSE_CODE_INPUT_FINGERPRINT_EMPTY_ERROR=2033]="LICENSE_CODE_INPUT_FINGERPRINT_EMPTY_ERROR",r[r.LICENSE_CODE_INPUT_PRODUCT_ID_ILLEGAL_ERROR=2034]="LICENSE_CODE_INPUT_PRODUCT_ID_ILLEGAL_ERROR",r[r.LICENSE_CODE_CANNOT_OPEN_FILE_FOR_READ_ERROR=2035]="LICENSE_CODE_CANNOT_OPEN_FILE_FOR_READ_ERROR",r[r.LICENSE_CODE_MONTHLY_USAGE_TRACKING_REQUIRES_SYNC_ERROR=2036]="LICENSE_CODE_MONTHLY_USAGE_TRACKING_REQUIRES_SYNC_ERROR",r[r.LICENSE_CODE_SSL_HANDSHAKE_DEVICE_DATE_ERROR=2037]="LICENSE_CODE_SSL_HANDSHAKE_DEVICE_DATE_ERROR",r[r.LICENSE_CODE_SSL_HANDSHAKE_CERTIFICATE_EXPIRED_ERROR=2038]="LICENSE_CODE_SSL_HANDSHAKE_CERTIFICATE_EXPIRED_ERROR",r[r.LICENSE_CODE_MIN_SDK_ERROR=2039]="LICENSE_CODE_MIN_SDK_ERROR",r[r.LICENSE_CODE_MISSING_SDK_VERSION=2040]="LICENSE_CODE_MISSING_SDK_VERSION",r[r.LICENSE_CODE_FORBIDDEN_LICENSE_TYPE_ERROR=2041]="LICENSE_CODE_FORBIDDEN_LICENSE_TYPE_ERROR",r[r.LICENSE_CODE_NETWORK_TIMEOUT_ERROR=2042]="LICENSE_CODE_NETWORK_TIMEOUT_ERROR",r[r.MEASUREMENT_CODE_MISDETECTION_DURATION_EXCEEDS_LIMIT_ERROR=3003]="MEASUREMENT_CODE_MISDETECTION_DURATION_EXCEEDS_LIMIT_ERROR",r[r.MEASUREMENT_CODE_INVALID_RECENT_DETECTION_RATE_ERROR=3004]="MEASUREMENT_CODE_INVALID_RECENT_DETECTION_RATE_ERROR",r[r.MEASUREMENT_CODE_LICENSE_ACTIVATION_FAILED_ERROR=3006]="MEASUREMENT_CODE_LICENSE_ACTIVATION_FAILED_ERROR",r[r.MEASUREMENT_CODE_INVALID_MEASUREMENT_AVERAGE_DETECTION_RATE_ERROR=3008]="MEASUREMENT_CODE_INVALID_MEASUREMENT_AVERAGE_DETECTION_RATE_ERROR",r[r.MEASUREMENT_CODE_TOO_MANY_FRAMES_INORDER_ERROR=3009]="MEASUREMENT_CODE_TOO_MANY_FRAMES_INORDER_ERROR",r[r.MEASUREMENT_CODE_MISDETECTION_DURATION_EXCEEDS_LIMIT_WARNING=3500]="MEASUREMENT_CODE_MISDETECTION_DURATION_EXCEEDS_LIMIT_WARNING",r[r.MEASUREMENT_CODE_INVALID_RECENT_FPS_RATE_WARNING=3505]="MEASUREMENT_CODE_INVALID_RECENT_FPS_RATE_WARNING",r[r.MEASUREMENT_CODE_MEASUREMENT_MISPLACED_FRAME_WARNING=3506]="MEASUREMENT_CODE_MEASUREMENT_MISPLACED_FRAME_WARNING",r[r.VITAL_SIGN_CODE_BLOOD_PRESSURE_PROCESSING_FAILED_WARNING=4505]="VITAL_SIGN_CODE_BLOOD_PRESSURE_PROCESSING_FAILED_WARNING",r[r.VITAL_SIGN_CODE_MEASURING_WITH_NO_ENABLED_VITAL_SIGNS_WARNING=4506]="VITAL_SIGN_CODE_MEASURING_WITH_NO_ENABLED_VITAL_SIGNS_WARNING",r[r.SESSION_CODE_ILLEGAL_START_CALL_ERROR=6004]="SESSION_CODE_ILLEGAL_START_CALL_ERROR",r[r.SESSION_CODE_ILLEGAL_STOP_CALL_ERROR=6005]="SESSION_CODE_ILLEGAL_STOP_CALL_ERROR",r[r.INITIALIZATION_CODE_INTERNAL_ERROR_1=7001]="INITIALIZATION_CODE_INTERNAL_ERROR_1",r[r.INITIALIZATION_CODE_INVALID_PROCESSING_TIME_ERROR=7002]="INITIALIZATION_CODE_INVALID_PROCESSING_TIME_ERROR",r[r.INITIALIZATION_CODE_INVALID_LICENSE_FORMAT=7005]="INITIALIZATION_CODE_INVALID_LICENSE_FORMAT",r[r.INITIALIZATION_CODE_SDK_LOAD_FAILURE=7006]="INITIALIZATION_CODE_SDK_LOAD_FAILURE",r[r.INITIALIZATION_CODE_UNSUPPORTED_USER_WEIGHT=7007]="INITIALIZATION_CODE_UNSUPPORTED_USER_WEIGHT",r[r.INITIALIZATION_CODE_UNSUPPORTED_USER_AGE=7008]="INITIALIZATION_CODE_UNSUPPORTED_USER_AGE",r[r.INITIALIZATION_CODE_CONCURRENT_SESSIONS_ERROR=7009]="INITIALIZATION_CODE_CONCURRENT_SESSIONS_ERROR",r[r.INITIALIZATION_CODE_UNSUPPORTED_USER_HEIGHT=7012]="INITIALIZATION_CODE_UNSUPPORTED_USER_HEIGHT",r[r.INITIALIZATION_CODE_MEMORY_ALLOCATION_ERROR=7013]="INITIALIZATION_CODE_MEMORY_ALLOCATION_ERROR",r[r.INITIALIZATION_CODE_INITIAL_MEMORY_ALLOCATION_ERROR=7014]="INITIALIZATION_CODE_INITIAL_MEMORY_ALLOCATION_ERROR",r[r.INITIALIZATION_CODE_BROWSER_NOT_SUPPORTING_SHARED_ARRAY_BUFFER_ERROR=7015]="INITIALIZATION_CODE_BROWSER_NOT_SUPPORTING_SHARED_ARRAY_BUFFER_ERROR",r[r.INITIALIZATION_MEMORY_CONSUMPTION_WARNING=7501]="INITIALIZATION_MEMORY_CONSUMPTION_WARNING"},5066:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HealthMonitorManager=void 0;const n=r(8477),i=r(7223),o=r(7746),s=r(1951),a=r(744),l=r(8362),u=r(7053);class c{constructor(){this.sessions=new Set}async initialize({licenseKey:e,productId:t,licenseInfo:r}){if(1!==navigator.maxTouchPoints){if("safari"===(0,s.getBrowser)()&&(0,s.getBrowserVersionMajorAndMinor)()<c.MINIMUM_SAFARI_VERSION)throw new i.MonitorError(a.HealthMonitorCodes.DEVICE_CODE_MINIMUM_BROWSER_VERSION_ERROR,"Safari Version must be at least 16.7 (or greater)");if("chrome"===(0,s.getBrowser)()&&(0,s.getBrowserVersionMajorAndMinor)()<c.MINIMUM_CHROME_VERSION)throw new i.MonitorError(a.HealthMonitorCodes.DEVICE_CODE_MINIMUM_BROWSER_VERSION_ERROR,"Chrome Version must be at least 113 (or greater)")}const o=parseFloat((0,s.getOSVersion)());if((0,s.isIos)()&&(!o||o<c.MINIMUM_IOS_VERSION)||(0,s.isIpadOS)()&&(!o||o<c.MINIMUM_IPAD_OS_VERSION))throw new i.MonitorError(a.HealthMonitorCodes.DEVICE_CODE_MINIMUM_OS_VERSION_ERROR,"OS version must be at least 16.7 (or greater)");this.throwIfInvalidLicenseFormat(e,t),this.onLicenseError=this.onLicenseError.bind(this),this.reset(),this.licenseKey=e,this.productId=t;try{await n.AlgoAdapter.initWasm()}catch(e){throw e instanceof RangeError&&e.message.includes("Out of memory")?new i.MonitorError(a.HealthMonitorCodes.INITIALIZATION_CODE_MEMORY_ALLOCATION_ERROR,"Out of memory while initializing wasm"):e instanceof RangeError&&e.message.includes("could not allocate memory")?new i.MonitorError(a.HealthMonitorCodes.INITIALIZATION_CODE_INITIAL_MEMORY_ALLOCATION_ERROR,"Could not alloate memory while initializing wasm"):e instanceof Error&&(e.message.includes("bad memory")||e.message.includes("SharedArrayBuffer")||e.message.includes("WebAssembly.instantiate()"))?new i.MonitorError(a.HealthMonitorCodes.INITIALIZATION_CODE_BROWSER_NOT_SUPPORTING_SHARED_ARRAY_BUFFER_ERROR,"SharedArrayBuffer error, browser is not supported"):new i.MonitorError(a.HealthMonitorCodes.INITIALIZATION_CODE_SDK_LOAD_FAILURE,"Failed to initialize wasm, internal error: "+e)}await l.LicenseManagerProvider.createLicenseManager({licenseInfo:r,onLicenseError:this.onLicenseError})}reset(){this.sessions.forEach((e=>e.terminate())),this.sessions.clear()}stopAll(){this.sessions.forEach((e=>e.stop()))}onLicenseError(e){var t,r;null===(t=this.stopAll)||void 0===t||t.call(this),(0,o.shouldPublishAlert)(e.code)&&(null===(r=this.onError)||void 0===r||r.call(this,e))}getMaxSessions(){return c.MAX_SESSIONS}async createFaceSession(e){if(void 0===e.cameraDeviceId||null===e.cameraDeviceId)throw new i.MonitorError(a.HealthMonitorCodes.CAMERA_CODE_NO_CAMERA_ERROR,"Camera ID undefined");this.onError=null==e?void 0:e.onError;const t=await u.SessionFactory.createFaceSession(this.licenseKey,this.productId,e);return this.sessions.add(t),t}throwIfInvalidLicenseFormat(e,t){{const r=/^[a-zA-Z0-9]{6}-[a-zA-Z0-9]{6}-[a-zA-Z0-9]{6}-[a-zA-Z0-9]{6}-[a-zA-Z0-9]{6}-[a-zA-Z0-9]{6}$/,n=/^[a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}$/;if("string"!=typeof e||!r.test(e)||t&&("string"!=typeof t||!n.test(t)))throw new i.MonitorError(a.HealthMonitorCodes.INITIALIZATION_CODE_INVALID_LICENSE_FORMAT,"License Key or Product Id are not valid")}}}t.HealthMonitorManager=c,c.MAX_SESSIONS=1,c.MINIMUM_SAFARI_VERSION=16.6,c.MINIMUM_CHROME_VERSION=113,c.MINIMUM_IOS_VERSION=16.7,c.MINIMUM_IPAD_OS_VERSION=16.7,[{href:"/a.js",as:"script"},{href:"/a.worker.js",as:"script"}].forEach((e=>{const t=document.createElement("link");t.rel="preload",t.href=e.href,t.as=e.as,document.head.appendChild(t)}))},1920:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIos=t.isTablet=t.isMobile=t.getOS=t.USER_INFORMATION_THRESHOLD=t.SUBJECT_DEMOGRAHIC_THRESHOLD=t.SmokingStatus=t.Sex=t.SessionState=t.HealthMonitorCodes=t.DeviceOrientation=t.AscvdRiskLevel=t.LowHemoglobinRisk=t.HighTotalCholesterolRisk=t.HighFastingGlucoseRisk=t.HighBloodPressureRisk=t.HighHemoglobinA1CRisk=t.ImageValidity=t.ConfidenceLevel=t.WellnessLevel=t.VitalSignType=t.StressLevel=t.SnsZone=t.PnsZone=void 0;const n=r(5066);var i=r(6366);Object.defineProperty(t,"PnsZone",{enumerable:!0,get:function(){return i.PnsZone}}),Object.defineProperty(t,"SnsZone",{enumerable:!0,get:function(){return i.SnsZone}}),Object.defineProperty(t,"StressLevel",{enumerable:!0,get:function(){return i.StressLevel}}),Object.defineProperty(t,"VitalSignType",{enumerable:!0,get:function(){return i.VitalSignType}}),Object.defineProperty(t,"WellnessLevel",{enumerable:!0,get:function(){return i.WellnessLevel}}),Object.defineProperty(t,"ConfidenceLevel",{enumerable:!0,get:function(){return i.ConfidenceLevel}}),Object.defineProperty(t,"ImageValidity",{enumerable:!0,get:function(){return i.ImageValidity}}),Object.defineProperty(t,"HighHemoglobinA1CRisk",{enumerable:!0,get:function(){return i.HighHemoglobinA1CRisk}}),Object.defineProperty(t,"HighBloodPressureRisk",{enumerable:!0,get:function(){return i.HighBloodPressureRisk}}),Object.defineProperty(t,"HighFastingGlucoseRisk",{enumerable:!0,get:function(){return i.HighFastingGlucoseRisk}}),Object.defineProperty(t,"HighTotalCholesterolRisk",{enumerable:!0,get:function(){return i.HighTotalCholesterolRisk}}),Object.defineProperty(t,"LowHemoglobinRisk",{enumerable:!0,get:function(){return i.LowHemoglobinRisk}}),Object.defineProperty(t,"AscvdRiskLevel",{enumerable:!0,get:function(){return i.AscvdRiskLevel}});var o=r(1903);Object.defineProperty(t,"DeviceOrientation",{enumerable:!0,get:function(){return o.DeviceOrientation}});var s=r(744);Object.defineProperty(t,"HealthMonitorCodes",{enumerable:!0,get:function(){return s.HealthMonitorCodes}});var a=r(778);Object.defineProperty(t,"SessionState",{enumerable:!0,get:function(){return a.SessionState}}),Object.defineProperty(t,"Sex",{enumerable:!0,get:function(){return a.Sex}}),Object.defineProperty(t,"SmokingStatus",{enumerable:!0,get:function(){return a.SmokingStatus}}),Object.defineProperty(t,"SUBJECT_DEMOGRAHIC_THRESHOLD",{enumerable:!0,get:function(){return a.SUBJECT_DEMOGRAHIC_THRESHOLD}}),Object.defineProperty(t,"USER_INFORMATION_THRESHOLD",{enumerable:!0,get:function(){return a.USER_INFORMATION_THRESHOLD}});var l=r(1951);Object.defineProperty(t,"getOS",{enumerable:!0,get:function(){return l.getOS}}),Object.defineProperty(t,"isMobile",{enumerable:!0,get:function(){return l.isMobile}}),Object.defineProperty(t,"isTablet",{enumerable:!0,get:function(){return l.isTablet}}),Object.defineProperty(t,"isIos",{enumerable:!0,get:function(){return l.isIos}}),t.default=new n.HealthMonitorManager},8480:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveLicenseOptions=void 0;const n=r(1951),i=r(306),o=r(242);t.resolveLicenseOptions=(e,t="")=>({licenseKey:e,productId:t,deviceFingerprint:(0,o.getUuidV4)()+"-"+(0,o.getUuidV4)(),os:(0,n.getOS)(),hostname:(0,n.getBrowser)(),appVersion:i.version.split("-")[0],userHash:"DefUser",osVersion:(0,n.getOSVersion)()})},8362:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LicenseManagerProvider=void 0;const n=r(8021);class i{static createLicenseManager(e){return i.instance=new n.LicenseManager,i.instance.init(e)}static get(){return i.instance}}t.LicenseManagerProvider=i},8021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LicenseManager=void 0;const n=r(8477),i=r(8077),o=r(744),s=r(3024),a=r(6366),l=r(7537);t.LicenseManager=class{constructor(){this.licenseData={status:o.HealthMonitorCodes.LICENSE_CODE_INVALID_LICENSE_KEY_ERROR}}async init({licenseInfo:e,onLicenseError:t}){this.onEnabledVitalSigns=null==e?void 0:e.onEnabledVitalSigns,this.onOfflineMeasurement=null==e?void 0:e.onOfflineMeasurement,this.onActivation=null==e?void 0:e.onActivation,this.onLicenseError=t,this.setLicenseMessageListener(),this.setLicenseHttpRequestListener()}setLicenseMessageListener(){n.AlgoAdapter.setLicenseMessageListener((e=>{switch(e.type){case n.AlgoLicenseMessageType.MESSAGE_ERROR:case n.AlgoLicenseMessageType.MESSAGE_WARNING:this.onLicenseError({code:e.value,domain:a.AlertDomains.ALERT_DOMAIN_LICENSE});break;case n.AlgoLicenseMessageType.MESSAGE_LICENSE_DATA:this.sendInfoMessages(n.AlgoAdapter.getLicenseData());break;case n.AlgoLicenseMessageType.MESSAGE_RESET:}}))}setLicenseHttpRequestListener(){n.AlgoAdapter.setHttpRequestListener((e=>{this.handleHttpRequest(e)}))}sendInfoMessages(e){var t,r,n;if(!e)return;const i={isEnabledPulseRate:e.isEnabledPulseRate,isEnabledRespirationRate:e.isEnabledRespirationRate,isEnabledSpo2:e.isEnabledSpo2,isEnabledSdnn:e.isEnabledSdnn,isEnabledStressLevel:e.isEnabledStressLevel,isEnabledStressIndex:e.isEnabledStressIndex,isEnabledBloodPressure:e.isEnabledBloodPressure,isEnabledRri:e.isEnabledRri,isEnabledMeanRri:e.isEnabledMeanRri,isEnabledRmssd:e.isEnabledRmssd,isEnabledSd1:e.isEnabledSd1,isEnabledSd2:e.isEnabledSd2,isEnabledPrq:e.isEnabledPrq,isEnabledPnsIndex:e.isEnabledPnsIndex,isEnabledPnsZone:e.isEnabledPnsZone,isEnabledSnsIndex:e.isEnabledSnsIndex,isEnabledSnsZone:e.isEnabledSnsZone,isEnabledWellnessLevel:e.isEnabledWellnessLevel,isEnabledWellnessIndex:e.isEnabledWellnessIndex,isEnabledLfhf:e.isEnabledLfhf,isEnabledHemoglobin:e.isEnabledHemoglobin,isEnabledHemoglobinA1c:e.isEnabledHemoglobinA1c,isEnabledHighHemoglobinA1CRisk:e.isEnabledHighHemoglobinA1CRisk,isEnabledHighBloodPressureRisk:e.isEnabledHighBloodPressureRisk,isEnabledHighFastingGlucoseRisk:e.isEnabledHighFastingGlucoseRisk,isEnabledHighTotalCholesterolRisk:e.isEnabledHighTotalCholesterolRisk,isEnabledLowHemoglobinRisk:e.isEnabledLowHemoglobinRisk,isEnabledAscvdRisk:e.isEnabledAscvdRisk,isEnabledHeartAge:e.isEnabledHeartAge,isEnabledNormalizedStressIndex:e.isEnabledNormalizedStressIndex,isEnabledAscvdRiskLevel:e.isEnabledAscvdRiskLevel,isEnabledCardiacWorkload:e.isEnabledCardiacWorkload,isEnabledMeanArterialPressure:e.isEnabledMeanArterialPressure,isEnabledPulsePressure:e.isEnabledPulsePressure},o={offlineMeasurements:null==e?void 0:e.offlineMeasurements,offlineMeasurementsRemaining:null==e?void 0:e.offlineMeasurementsRemaining,measurementSecondsEnd:this.calculateSecondsToEnd(e)};null===(t=this.onEnabledVitalSigns)||void 0===t||t.call(this,i),o.offlineMeasurements&&(null===(r=this.onOfflineMeasurement)||void 0===r||r.call(this,o)),null===(n=this.onActivation)||void 0===n||n.call(this,e.activationId),l.AnalyticsHandler.getInstance().setEnabledVitalSigns(i),l.AnalyticsHandler.getInstance().setLicenseActivationId(e.activationId)}calculateSecondsToEnd(e){if(!(null==e?void 0:e.measurementSecondsEnd))return 0;const t=1e3*e.measurementSecondsEnd-(new Date).valueOf();return t<0?0:Math.ceil(t/1e3)}async handleHttpRequest(e){let t,r;try{t=await s.HttpClient.performRequest("https://"+e.urlHost+e.urlPath,i.HttpMethod[e.method],e.body,e.timeoutMS),r=await t.text(),this.handleHttpResponse(e.id,t,r)}catch(t){switch(t.code){case s.HttpRequestError.TIMEOUT:this.handleTimeoutHttpResponse(e.id);break;case s.HttpRequestError.GENERIC:default:this.handleErrorHttpResponse(e.id)}}}async handleHttpResponse(e,t,r){n.AlgoAdapter.onLicenseNetworkResponse(e,t.status,0,r)}async handleTimeoutHttpResponse(e){n.AlgoAdapter.onTimeoutLicenseNetworkResponse(e)}async handleErrorHttpResponse(e){n.AlgoAdapter.onErrorLicenseNetworkResponse(e)}}},8077:(e,t,r)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.HttpMethod=t.CryptlexErrors=void 0,r(744),(i=t.CryptlexErrors||(t.CryptlexErrors={}))[i.NO_ERROR=0]="NO_ERROR",i[i.ACTIVATION_LIMIT_REACHED=2002]="ACTIVATION_LIMIT_REACHED",i[i.METER_ATTRIBUTE_USES_LIMIT_REACHED=2003]="METER_ATTRIBUTE_USES_LIMIT_REACHED",i[i.AUTHENTICATION_FAILED=2004]="AUTHENTICATION_FAILED",i[i.INVALID_PRODUCT_ID=2006]="INVALID_PRODUCT_ID",i[i.INVALID_LICENSE_KEY=2007]="INVALID_LICENSE_KEY",i[i.INVALID_LICENSE_TYPE=2008]="INVALID_LICENSE_TYPE",i[i.VM_ACTIVATION_NOT_ALLOWED=2009]="VM_ACTIVATION_NOT_ALLOWED",i[i.REVOKED_LICENSE=2010]="REVOKED_LICENSE",i[i.COUNTRY_NOT_ALLOWED=2011]="COUNTRY_NOT_ALLOWED",i[i.IP_ADDRESS_NOT_ALLOWED=2012]="IP_ADDRESS_NOT_ALLOWED",i[i.TRIAL_NOT_ALLOWED=2014]="TRIAL_NOT_ALLOWED",i[i.TRIAL_ACTIVATION_LIMIT_REACHED=2015]="TRIAL_ACTIVATION_LIMIT_REACHED",i[i.SERVER_RESPONSE_FAILED_AUTHENTICATION=2016]="SERVER_RESPONSE_FAILED_AUTHENTICATION",i[i.LICENSE_EXPIRED=2017]="LICENSE_EXPIRED",i[i.LICENSE_SUSPENDED=2018]="LICENSE_SUSPENDED",i[i.TOKEN_EXPIRED=2020]="TOKEN_EXPIRED",i[i.DEVICE_WAS_DEACTIVATED=2021]="DEVICE_WAS_DEACTIVATED",i[i.UNKNOWN_ERROR_OCCURRED=2023]="UNKNOWN_ERROR_OCCURRED",(n=t.HttpMethod||(t.HttpMethod={}))[n.GET=0]="GET",n[n.POST=1]="POST",n[n.PATCH=2]="PATCH",n[n.PUT=3]="PUT",n[n.DELETE=4]="DELETE"},3613:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logFaceMeasurements=void 0;const n=r(8477);t.logFaceMeasurements=e=>n.AlgoAdapter.readAlgoFilesRppg(e)},4808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerBuilder=void 0;const n=r(8477),i=r(778),o=r(3613),s=r(3956),a=r(8689),l=r(1632);t.LoggerBuilder=class{static async getAlgoMeasurementLogger(e){const t=await n.AlgoAdapter.getConfig();if(!(null==t?void 0:t.isMeasurementLogsEnabled)&&!(null==t?void 0:t.isPerformanceLogsEnabled)&&!(null==t?void 0:t.isRecordingEnabled))return()=>Promise.resolve([]);if(e===i.HealthMonitorSessionMode.FACE_FRONT_CAMERA)return e=>(0,o.logFaceMeasurements)(e);throw new Error("Only face logger is supported")}static async getVitalSignsLogger(e){const t=await n.AlgoAdapter.getConfig();if(!(null==t?void 0:t.isMeasurementLogsEnabled))return new a.SdkEmptyLogger;if(e===i.HealthMonitorSessionMode.FACE_FRONT_CAMERA)return new l.VitalSignsLogger(e);throw new Error("Only face Sdk Logger is supported")}static getRRILogger(){return new s.RRILogger}}},3956:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RRILogger=void 0,t.RRILogger=class{logRRI(e){if(e){var t="Time,RRi\n";for(const r of e)t+=r.timestamp+","+r.interval+"\n";return{fileName:"RRi.csv",data:t}}}}},8689:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SdkEmptyLogger=void 0,t.SdkEmptyLogger=class{logError(e){}logMessage(e,t){}logReport(e){}start(){this.startDate=new Date}stop(){return[]}getFileFormattedDate(){return new Date(this.startDate.getTime()-6e4*this.startDate.getTimezoneOffset()).toISOString().slice(0,-5).replace("T","_").replaceAll(":","-")}logWarning(e){}}},8320:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.logMessage=t.LogSeverity=void 0,(r=t.LogSeverity||(t.LogSeverity={})).INFO="info",r.WARN="warn",r.ERROR="error",t.logMessage=function(e,t){}},1632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VitalSignsLogger=void 0;const n=r(744),i=r(8477),o=r(306);class s{constructor(e){this.mode=e,this.log=Object.assign({},s.EMPTY_LOG),this.rows=[s.HEADERS]}start(){this.startDate=new Date,this.startTimer()}startTimer(){this.timerId=setInterval((()=>{this.addLog()}),1e3)}addLog(){this.log.index++,this.log.time=this.getTime(),this.rows.push(Object.values(this.log)),this.log.warningsErrorsCode=NaN,this.log.batteryLevel=NaN}stop(){this.stopTimer();const e=this.formatLogsToCsv();return this.log=Object.assign({},s.EMPTY_LOG),this.rows=[s.HEADERS],[{fileName:this.getFileName(),data:e}]}getFileName(){return`AppLogFile_Web_${o.version.replace("-","(").concat(")")}_${0===this.mode?"rppg":"ppg"}_${this.getFileFormattedDate()}.csv`}getFileFormattedDate(){return new Date(this.startDate.getTime()-6e4*this.startDate.getTimezoneOffset()).toISOString().slice(0,-5).replace("T","_").replaceAll(":","-")}formatLogsToCsv(){return this.rows.map((e=>e.join(","))).join("\n")}stopTimer(){clearInterval(this.timerId)}logMessage(e,t){switch(e){case i.HealthMonitorMessage.HEALTH_MONITOR_HEART_RATE:this.setHeartRate(t);break;case i.HealthMonitorMessage.HEALTH_MONITOR_BREATHING_RATE:this.setrespirationRate(t);break;case i.HealthMonitorMessage.HEALTH_MONITOR_STRESS_LEVEL:this.setStressLevel(t);break;case i.HealthMonitorMessage.HEALTH_MONITOR_SDNN:this.setHrvSdnn(t)}}logReport(e){this.setReport(e),this.addLog()}logWarning(e){this.log.warningsErrorsCode=e,e===n.HealthMonitorCodes.MEASUREMENT_CODE_MISDETECTION_DURATION_EXCEEDS_LIMIT_WARNING&&this.resetMeasurements()}logError(e){this.log.warningsErrorsCode=e,this.addLog()}resetMeasurements(){this.log.pulseRate=NaN,this.log.respirationRate=NaN,this.log.oxygenSaturation=NaN,this.log.sdnn=NaN,this.log.stressLevel=NaN,this.log.stressIndex=NaN,this.log.bloodPressureSYS=NaN,this.log.bloodPressureDIA=NaN,this.log.meanRri=NaN,this.log.rmssd=NaN,this.log.sd1=NaN,this.log.sd2=NaN,this.log.prq=NaN,this.log.snsIndex=NaN,this.log.snsZone=NaN,this.log.pnsIndex=NaN,this.log.pnsZone=NaN,this.log.wellnessIndex=NaN,this.log.wellnessLevel=NaN,this.log.lfhf=NaN,this.log.hemoglobin=NaN,this.log.hemoglobinA1c=NaN,this.log.highHemoglobinA1CRisk=NaN,this.log.highBloodPressureRisk=NaN}setHeartRate(e){this.log.pulseRate=e||NaN}setOxygen(e){this.log.oxygenSaturation=e||NaN}setrespirationRate(e){this.log.respirationRate=e||NaN}setStressLevel(e){this.log.stressLevel=e||NaN}setStressIndex(e){this.log.stressIndex=e||NaN}setHrvSdnn(e){this.log.sdnn=e||NaN}setBloodPressure(e){this.log.bloodPressureSYS=(null==e?void 0:e.systolic)||NaN,this.log.bloodPressureDIA=(null==e?void 0:e.diastolic)||NaN}setMeanRri(e){this.log.meanRri=e||NaN}setRmssd(e){this.log.rmssd=e||NaN}setSd1(e){this.log.sd1=e||NaN}setSd2(e){this.log.sd2=e||NaN}setPrq(e){this.log.prq=e||NaN}setPnsIndex(e){this.log.pnsIndex=e||NaN}setPnsZone(e){this.log.pnsZone=e||NaN}setSnsIndex(e){this.log.snsIndex=e||NaN}setSnsZone(e){this.log.snsZone=e||NaN}setWellnessIndex(e){this.log.wellnessIndex=e||NaN}setWellnessLevel(e){this.log.wellnessLevel=e||NaN}setLfhf(e){this.log.lfhf=e||NaN}setHemoglobin(e){this.log.hemoglobin=e||NaN}setHemoglobinA1c(e){this.log.hemoglobinA1c=e||NaN}setHighHemoglobinA1CRisk(e){this.log.highHemoglobinA1CRisk=e||NaN}setHighBloodPressureRisk(e){this.log.highBloodPressureRisk=e||NaN}setReport(e){var t,r,n,i,o,s,a,l,u,c,d,h,p,f,_,g,m,E,v,y,b,w;this.setHeartRate(null===(t=null==e?void 0:e.pulseRate)||void 0===t?void 0:t.value),this.setrespirationRate(null===(r=null==e?void 0:e.respirationRate)||void 0===r?void 0:r.value),this.setStressLevel(null===(n=null==e?void 0:e.stressLevel)||void 0===n?void 0:n.value),this.setStressIndex(null===(i=null==e?void 0:e.stressIndex)||void 0===i?void 0:i.value),this.setHrvSdnn(null===(o=null==e?void 0:e.sdnn)||void 0===o?void 0:o.value),this.setBloodPressure(null===(s=null==e?void 0:e.bloodPressure)||void 0===s?void 0:s.value),this.setMeanRri(null===(a=null==e?void 0:e.meanRri)||void 0===a?void 0:a.value),this.setRmssd(null===(l=null==e?void 0:e.rmssd)||void 0===l?void 0:l.value),this.setSd1(null===(u=null==e?void 0:e.sd1)||void 0===u?void 0:u.value),this.setSd2(null===(c=null==e?void 0:e.sd2)||void 0===c?void 0:c.value),this.setPrq(null===(d=null==e?void 0:e.prq)||void 0===d?void 0:d.value),this.setPnsIndex(null===(h=null==e?void 0:e.pnsIndex)||void 0===h?void 0:h.value),this.setPnsZone(null===(p=null==e?void 0:e.pnsZone)||void 0===p?void 0:p.value),this.setSnsIndex(null===(f=null==e?void 0:e.snsIndex)||void 0===f?void 0:f.value),this.setSnsZone(null===(_=null==e?void 0:e.snsZone)||void 0===_?void 0:_.value),this.setWellnessIndex(null===(g=null==e?void 0:e.wellnessIndex)||void 0===g?void 0:g.value),this.setWellnessLevel(null===(m=null==e?void 0:e.wellnessLevel)||void 0===m?void 0:m.value),this.setLfhf(null===(E=null==e?void 0:e.lfhf)||void 0===E?void 0:E.value),this.setHemoglobin(null===(v=null==e?void 0:e.hemoglobin)||void 0===v?void 0:v.value),this.setHemoglobinA1c(null===(y=null==e?void 0:e.hemoglobinA1c)||void 0===y?void 0:y.value),this.setHighHemoglobinA1CRisk(null===(b=null==e?void 0:e.highHemoglobinA1CRisk)||void 0===b?void 0:b.value),this.setHighBloodPressureRisk(null===(w=null==e?void 0:e.highBloodPressureRisk)||void 0===w?void 0:w.value)}getTime(){const e=new Date;return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,-1).replace("T"," ").concat("00")}}t.VitalSignsLogger=s,s.EMPTY_LOG={index:-1,time:null,pulseRate:NaN,respirationRate:NaN,oxygenSaturation:NaN,sdnn:NaN,stressLevel:NaN,stressIndex:NaN,bloodPressureSYS:NaN,bloodPressureDIA:NaN,meanRri:NaN,rmssd:NaN,sd1:NaN,sd2:NaN,prq:NaN,pnsIndex:NaN,pnsZone:NaN,snsIndex:NaN,snsZone:NaN,wellnessIndex:NaN,wellnessLevel:NaN,lfhf:NaN,hemoglobin:NaN,hemoglobinA1c:NaN,highHemoglobinA1CRisk:NaN,highBloodPressureRisk:NaN,warningsErrorsCode:NaN,batteryLevel:NaN,temperature:NaN},s.HEADERS=["Index","Time","PulseRate","RespirationRate","OxygenSaturation","SDNN","StressLevel","StressIndex","BloodPressureSYS","BloodPressureDIA","MeanRRI","RMSSD","SD1","SD2","PRQ","PNSIndex","PNSZone","SNSIndex","SNSZone","WellnessIndex","WellnessLevel","LFHF","Hemoglobin","HemoglobinA1C","HighHemoglobinA1CRisk","HighBloodPressureRisk","WarningsErrorsCode","BatteryLevel","Temperature"]},5430:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveFeatures=void 0;const n=r(8477);t.resolveFeatures=e=>{let t=BigInt(0);return e>=20&&(t|=BigInt(n.MonitorFeatures.HEART_RATE_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.BREATHING_RATE_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.SDNN_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.STRESS_LEVEL_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.STRESS_INDEX_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.BLOOD_PRESSURE_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.MEAN_RRI_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.RMSSD_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.PRQ_ENABLE_CODE)),e>=50&&(t|=BigInt(n.MonitorFeatures.SD1_ENABLE_CODE)),e>=50&&(t|=BigInt(n.MonitorFeatures.SD2_ENABLE_CODE)),e>=50&&(t|=BigInt(n.MonitorFeatures.PNS_INDEX_ENABLE_CODE)),e>=50&&(t|=BigInt(n.MonitorFeatures.PNS_ZONE_ENABLE_CODE)),e>=50&&(t|=BigInt(n.MonitorFeatures.SNS_INDEX_ENABLE_CODE)),e>=50&&(t|=BigInt(n.MonitorFeatures.SNS_ZONE_ENABLE_CODE)),e>=20&&(t|=BigInt(n.MonitorFeatures.WELLNESS_INDEX_ENABLE_CODE)),e>=20&&(t|=BigInt(n.MonitorFeatures.WELLNESS_LEVEL_ENABLE_CODE)),e>=50&&(t|=BigInt(n.MonitorFeatures.LFHF_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.HEMOGLOBIN_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.HEMOGLOBIN_A1C_ENABLE_CODE)),e>=50&&(t|=BigInt(n.MonitorFeatures.RRI_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.HIGH_HEMOGLOBIN_A1C_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.HIGH_BLOOD_PRESSURE_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.ASCVD_RISK_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.HEART_AGE_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.NORMALIZED_STRESS_INDEX_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.HIGH_TOTAL_CHOLESTEROL_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.HIGH_FASTING_GLUCOSE_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.LOW_HEMOGLOBIN_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.CARDIAC_WORKLOAD_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.ASCVD_RISK_LEVEL_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.MEAN_ARTERIAL_PRESSURE_ENABLE_CODE)),e>=35&&(t|=BigInt(n.MonitorFeatures.PULSE_PRESSURE_ENABLE_CODE)),Number(t)}},7648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HealthMonitorProcessorManagerBuilder=void 0;const n=r(8477),i=r(4808),o=r(778),s=r(5430),a=r(8275);t.HealthMonitorProcessorManagerBuilder=class{static async build(e){var t,r,l,u,c,d;const{mode:h,onFaceDetected:p,onImageData:f,onVitalSign:_,onFinalResults:g,onError:m,onWarning:E,orientation:v,userInformation:y,strictMeasurementGuidance:b,cameraId:w,licenseOptions:S,processingTime:I,bloodPressureEnabled:R,bloodTestEnabled:A}=e;if(h!==o.HealthMonitorSessionMode.FACE_FRONT_CAMERA)throw new Error(`mode = ${h}. Only ${o.HealthMonitorSessionMode.FACE_FRONT_CAMERA} mode is supported`);const O=await n.AlgoAdapter.getConfig(),N=await i.LoggerBuilder.getAlgoMeasurementLogger(h),T=await i.LoggerBuilder.getVitalSignsLogger(h),M=i.LoggerBuilder.getRRILogger(),C=new a.ProcessorManager({onFaceDetected:p,onImageData:f,onVitalSign:_,onFinalResults:g,onError:m,onWarning:E,resolveFeatures:s.resolveFeatures,logAlgoMeasurements:N,coreLogging:{logSignal:null!==(t=null==O?void 0:O.isSignalLogsEnabled)&&void 0!==t&&t,logRoi:null!==(r=null==O?void 0:O.isRoiLogsEnabled)&&void 0!==r&&r,logReport:null!==(l=null==O?void 0:O.isReportLogsEnabled)&&void 0!==l&&l,logPerformance:null!==(u=null==O?void 0:O.isPerformanceLogsEnabled)&&void 0!==u&&u,logAdvancedSignalLog:null!==(c=null==O?void 0:O.isAdvancedSignalLogsEnabled)&&void 0!==c&&c,logCameraMetadata:null!==(d=null==O?void 0:O.isCameraMetadataLogsEnabled)&&void 0!==d&&d},doRecording:null==O?void 0:O.isRecordingEnabled,doMeasuring:null==O?void 0:O.isMeasuringEnabled,precomputeReportData:null==O?void 0:O.isPrecomputeReportDataEnabled,vitalSignsLogger:T,rriLogger:M,requestedOrientation:v,userInformation:y,strictMeasurementGuidance:b,cameraId:w,licenseOptions:S,encryptLogs:null==O?void 0:O.encryptLogs,processingTime:I,bloodPressureEnabled:R,bloodTestEnabled:A});return await C.init(),C}}},8275:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessorManager=void 0;const n=r(8477),i=r(7537),o=r(7632),s=r(6366),a=r(5069),l=r(8608),u=r(7746),c=r(1951),d=r(1920),h=r(8320),p=r(6646),f=r(7294);class _{constructor({onFaceDetected:e,onImageData:t,onVitalSign:r,onFinalResults:n,onError:i,onWarning:o,resolveFeatures:s,logAlgoMeasurements:a,coreLogging:l,doRecording:u,doMeasuring:d,precomputeReportData:f,vitalSignsLogger:_,rriLogger:g,requestedOrientation:m,userInformation:E,strictMeasurementGuidance:v,cameraId:y,licenseOptions:b,encryptLogs:w,processingTime:S,bloodPressureEnabled:I,bloodTestEnabled:R}){this.SDK_PROCESSOR_START_REQUEST_NOT_FINISHED_ERROR=37001,this.SDK_PROCESSOR_STOP_REQUEST_NOT_FINISHED_ERROR=37002,this.SDK_PROCESSOR_STOP_REQUEST_WAITING_FOR_NON_FINISHED_START_REQUEST_ERROR=37003,this.logs=[],this.setErrorListener=e=>{this.errorListener=e},(0,h.logMessage)(h.LogSeverity.WARN,"processor-manager.ts - ProcessorManager: constructor"),this.onFaceDetected=e,this.onImageData=t,this.onVitalSign=r,this.onFinalResults=n,this.onError=i,this.onWarning=o,this.resolveFeatures=s,this.logAlgoMeasurements=a,this.coreLogging=l,this.doRecording=u,this.doMeasuring=d,this.precomputeReportData=f,this.vitalSignsLogger=_,this.rriLogger=g,this.state=new p.ProcessorStateHolder,this.osType=(0,c.getOS)(),this.orientation=m,this.userInformation=E,this.strictMeasurementGuidance=v,this.cameraId=y,this.licenseOptions=b,this.encryptLogs=w,this.processingTime=Number(S),this.bloodPressureEnabled=I,this.bloodTestEnabled=R}async init(){this.setMessageListener(),this.setFaceListener(),this.setImageDataListener(),this.setReportListener(),this.publishRefreshWarningIfNeeded()}setReportListener(){n.AlgoAdapter.setReportListener((e=>{var t;this.vitalSignsLogger.logReport(e);const r=this.vitalSignsLogger.stop();if(this.logs.push(...r),e.rri&&e.rri.value){const t=this.rriLogger.logRRI(e.rri.value);this.logs.push(t)}this.finalResults={results:e},null===(t=this.onFinalResults)||void 0===t||t.call(this,this.finalResults)}))}setFaceListener(){n.AlgoAdapter.setFaceListener((e=>{var t,r;this.state.get()===f.ProcessorState.PROCESSING?null===(t=this.onFaceDetected)||void 0===t||t.call(this,e):null===(r=this.onFaceDetected)||void 0===r||r.call(this,!1)}))}setImageDataListener(){n.AlgoAdapter.setImageDataListener((e=>{var t;this.state.get()===f.ProcessorState.PROCESSING&&(null===(t=this.onImageData)||void 0===t||t.call(this,e))}))}setMessageListener(){n.AlgoAdapter.setMessageListener((e=>{var t;switch(e.type){case n.AlgoMessageType.MESSAGE_ERROR:this.vitalSignsLogger.logError(e.value),null===(t=this.errorListener)||void 0===t||t.call(this),this.publishError(e);break;case n.AlgoMessageType.MESSAGE_WARNING:this.vitalSignsLogger.logWarning(e.value),this.publishWarning(e);break;case n.AlgoMessageType.MESSAGE_START_FINISHED:this.startFinished=!0;break;case n.AlgoMessageType.MESSAGE_STOP_FINISHED:(0,h.logMessage)(h.LogSeverity.WARN,"processor-manager.ts - stop finished messasge recieved"),this.stopFinished=!0;break;case n.AlgoMessageType.MESSAGE_TERMINATE_FINISHED:this.terminateFinished=!0,(0,h.logMessage)(h.LogSeverity.WARN,"processor-manager.ts - terminating finished messasge recieved");break;default:this.publishAlgoMessage(e)}}))}publishError(e){var t;if((0,u.shouldPublishAlert)(e.value)){const r={code:e.value,domain:s.AlertDomains.ALERT_DOMAIN_MEASUREMENT};this.measurementError=r,null===(t=this.onError)||void 0===t||t.call(this,r),i.AnalyticsHandler.getInstance().handleError(r)}}publishWarning(e){var t;if((0,u.shouldPublishAlert)(e.value)){const r={code:e.value,domain:s.AlertDomains.ALERT_DOMAIN_MEASUREMENT};null===(t=this.onWarning)||void 0===t||t.call(this,r),i.AnalyticsHandler.getInstance().handleWarning(r)}}publishRefreshWarningIfNeeded(){var e;if(_.isFirstTime&&(_.isFirstTime=!1,"ios"===(0,c.getOS)()&&(0,c.getOSVersionMajor)()<18||"macos"===(0,c.getOS)()&&"safari"===(0,c.getBrowser)())){let t=sessionStorage.getItem("AlreadyUploaded");if(null===t)t="true",sessionStorage.setItem("AlreadyUploaded",t);else{const t={code:d.HealthMonitorCodes.INITIALIZATION_MEMORY_CONSUMPTION_WARNING,domain:s.AlertDomains.ALERT_DOMAIN_INITIALIZATION};null===(e=this.onWarning)||void 0===e||e.call(this,t),i.AnalyticsHandler.getInstance().handleWarning(t)}}}publishAlgoMessage(e){var t;const r=l.ALGO_TO_HEALTH_MONITOR_MSG_MAPPING[e.type];e.type!==n.AlgoMessageType.MESSAGE_OXYGEN_SATURATION&&(this.vitalSignsLogger.logMessage(r,e.value),null===(t=this.onVitalSign)||void 0===t||t.call(this,{[a.ALGO_MESSAGE_TO_VITAL_SIGN_NAME[e.type]]:{value:e.value}}))}hasFrameDimensionsChanged(e){return(e.width!=this.lastImageWidth||e.height!=this.lastImageHeight)&&(this.lastImageWidth=e.width,this.lastImageHeight=e.height,!0)}initEngine(e){var t;return n.AlgoAdapter.initEngine({fps:(null===(t=n.AlgoAdapter.getConfig())||void 0===t?void 0:t.is30fpsEnabled)?30:o.DEFAULT_FPS,logging:this.coreLogging,doRecording:this.doRecording,doMeasuring:this.doMeasuring,precomputeReportData:this.precomputeReportData,osType:this.osType,userInformation:this.userInformation,orientation:this.orientation,strictMeasurementGuidance:this.strictMeasurementGuidance,frameDimensions:e,cameraId:this.cameraId,encryptLogs:this.encryptLogs,bloodPressureEnabled:this.bloodPressureEnabled,bloodTestEnabled:this.bloodTestEnabled},this.licenseOptions)}async start(){var e;if((0,h.logMessage)(h.LogSeverity.WARN,"processor-manager.ts - start() - this.state.get() = "+this.state.get()),this.state.get()!==f.ProcessorState.TERMINATING||((0,h.logMessage)(h.LogSeverity.WARN,"processor-manager.ts - pending terminate"),await this.blockUntilpendingTerminateFinish(2e4),this.terminateFinished)){if(this.state.get()===f.ProcessorState.IDLE){this.startFinished=!1,this.state.onStart(),this.measurementStartTime=Date.now(),this.measurementDurationInSec=null,this.measurementError=null,(0,h.logMessage)(h.LogSeverity.WARN,"processor-manager.ts - AlgoAdapter: start"),this.measurementId=this.resolveMeasurementId(),n.AlgoAdapter.createMeasurementFolder(this.measurementId,this.cameraId),n.AlgoAdapter.start(this.measurementId),(0,h.logMessage)(h.LogSeverity.WARN,"processor-manager.ts - AlgoAdapter: started");try{await this.blockUntilStartFinish(3e5)}catch(t){null===(e=this.errorListener)||void 0===e||e.call(this),this.publishError({type:n.AlgoMessageType.MESSAGE_ERROR,value:this.SDK_PROCESSOR_START_REQUEST_NOT_FINISHED_ERROR})}this.vitalSignsLogger.start(),i.AnalyticsHandler.getInstance().handleMeasurementStarted(this.measurementStartTime,this.processingTime),this.state.set(f.ProcessorState.PROCESSING),(0,h.logMessage)(h.LogSeverity.WARN,"processor-manager.ts - start completed")}}else(0,h.logMessage)(h.LogSeverity.WARN,"processor-manager.ts - pending terminate")}process(e,t,r){var i;this.state.get()==f.ProcessorState.IDLE&&this.hasFrameDimensionsChanged(e.size)&&!this.pendingTerminate&&(this.orientation=t,this.terminateFinished=!1,this.pendingTerminate=!0,this.state.set(f.ProcessorState.TERMINATING),n.AlgoAdapter.terminate(),(0,h.logMessage)(h.LogSeverity.WARN,"processor-manager.ts - process: terminating engine")),(this.state.get()==f.ProcessorState.INITIALIZING||this.terminateFinished&&this.pendingTerminate)&&(this.orientation=t,this.lastImageWidth=e.size.width,this.lastImageHeight=e.size.height,this.initEngine(e.size),this.pendingTerminate=!1,this.state.set(f.ProcessorState.IDLE),(0,h.logMessage)(h.LogSeverity.WARN,"processor-manager.ts - ProcessorManager: Engine initialized")),this.state.get()===f.ProcessorState.PROCESSING&&(r?null===(i=this.onImageData)||void 0===i||i.call(this,s.ImageValidity.INVALID_DEVICE_ORIENTATION):n.AlgoAdapter.processRppg(e,this.cameraId))}async stop(e){var t,r,o;try{await this.blockUntilProcessing(3e5)}catch(e){null===(t=this.errorListener)||void 0===t||t.call(this),this.publishError({type:n.AlgoMessageType.MESSAGE_ERROR,value:this.SDK_PROCESSOR_STOP_REQUEST_WAITING_FOR_NON_FINISHED_START_REQUEST_ERROR})}this.state.onStop(),this.stopFinished=!1;const s=this.getMeasurementTime();this.measurementDurationInSec=~~s;const a=this.resolveFeatures(this.measurementDurationInSec);await n.AlgoAdapter.finishRppg(a,e);try{await this.blockUntilStopFinish(2e4)}catch(e){null===(r=this.errorListener)||void 0===r||r.call(this),this.publishError({type:n.AlgoMessageType.MESSAGE_ERROR,value:this.SDK_PROCESSOR_STOP_REQUEST_NOT_FINISHED_ERROR})}i.AnalyticsHandler.getInstance().handleFinalResults(this.measurementDurationInSec,this.finalResults,null===(o=this.measurementError)||void 0===o?void 0:o.code);const l=await this.logAlgoMeasurements(this.measurementId);this.logs.push(...l),this.publishLogs(),this.state.set(f.ProcessorState.IDLE)}async close(){this.state.get()===f.ProcessorState.PROCESSING&&await this.stop(!1),(0,h.logMessage)(h.LogSeverity.WARN,"processor-manager.ts - ProcessorManager: close"),this.terminateFinished=!1,n.AlgoAdapter.terminate(),this.state.onClose()}async blockUntilProcessing(e){return new Promise(((t,r)=>{const n=setTimeout((()=>{this.state.get()!==f.ProcessorState.PROCESSING&&r(new Error("Timeout: Processing not received within "+e+"ms"))}),e),i=setInterval((()=>{this.state.get()===f.ProcessorState.PROCESSING&&(clearTimeout(n),clearInterval(i),t())}),10)}))}async blockUntilStartFinish(e){return new Promise(((t,r)=>{const n=setTimeout((()=>{this.startFinished||r(new Error("Timeout: startFinished message not received within "+e+"ms"))}),e),i=setInterval((()=>{this.startFinished&&(clearTimeout(n),clearInterval(i),t())}),10)}))}async blockUntilStopFinish(e){return new Promise(((t,r)=>{const n=setTimeout((()=>{this.stopFinished||r(new Error("Timeout: stopFinished message not received within "+e+"ms"))}),e),i=setInterval((()=>{this.stopFinished&&(clearTimeout(n),clearInterval(i),t())}),10)}))}async blockUntilpendingTerminateFinish(e){return new Promise(((t,r)=>{const n=setTimeout((()=>{this.pendingTerminate&&r(new Error("Timeout: pendingTerminate message not received within "+e+"ms"))}),e),i=setInterval((()=>{this.pendingTerminate||(clearTimeout(n),clearInterval(i),t())}),10)}))}getMeasurementTime(){return(Date.now()-this.measurementStartTime)/1e3}publishLogs(){window.handleLogs&&this.logs.length>0&&(window.handleLogs(this.logs,this.vitalSignsLogger.getFileFormattedDate()),this.logs.length=0)}resolveMeasurementId(){return(new Date).toISOString().slice(0,-5).replace("T","_").replaceAll(":","-")}}t.ProcessorManager=_,_.isFirstTime=!0},6646:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessorStateHolder=void 0;const n=r(7294);t.ProcessorStateHolder=class{constructor(){this.state=n.ProcessorState.INITIALIZING}get(){return this.state}set(e){this.state=e}onStart(){if(this.state===n.ProcessorState.CLOSED)throw new Error("Processor was already closed");if(this.state===n.ProcessorState.PROCESSING)throw new Error("Processor already processing");this.state=n.ProcessorState.STARTING}onStop(){if(this.state===n.ProcessorState.CLOSED)throw new Error("Processor was already closed");this.state===n.ProcessorState.PROCESSING&&(this.state=n.ProcessorState.STOPPING)}onClose(){this.state!==n.ProcessorState.CLOSED&&(this.state=n.ProcessorState.CLOSED)}}},7294:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessorState=void 0,(r=t.ProcessorState||(t.ProcessorState={}))[r.INITIALIZING=0]="INITIALIZING",r[r.IDLE=1]="IDLE",r[r.STARTING=2]="STARTING",r[r.PROCESSING=3]="PROCESSING",r[r.STOPPING=4]="STOPPING",r[r.CLOSED=5]="CLOSED",r[r.TERMINATING=6]="TERMINATING"},8762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HealthMonitorSessionImpl=void 0;const n=r(7537),i=r(1951),o=r(1903),s=r(4494),a=r(778);t.HealthMonitorSessionImpl=class{constructor(e,t,r,n,i){this.processorManager=e,this.healthMonitorCamera=t,this.processingTime=r,this.orientationHelper=n,this.onWarning=i,this.state=new s.SessionStateHolder,e.setErrorListener((()=>{this.stopAsync(!1)}))}addOnStateChangeListener(e){this.state.addOnStateChangeListener(e)}getState(){return this.state.get()}async init(){this.healthMonitorCamera.setFrameHandler((e=>{this.state.onFrameAvailable(),this.processorManager.process(e,o.MAP_IMAGE_ROTATION_TO_CONSTANT_ORIENTATION[(0,i.getOrientation)()],!this.orientationHelper.isOrientationValid()&&this.getState()===a.SessionState.MEASURING)})),await this.healthMonitorCamera.open(),this.state.set(a.SessionState.ACTIVE)}start(){this.startAsync()}stop(){this.stopAsync(!0)}async stopAsync(e){this.state.get()===a.SessionState.MEASURING&&(this.state.onStop(),clearTimeout(this.timeoutId),await this.processorManager.stop(e),this.state.set(a.SessionState.ACTIVE))}terminate(){this.terminateAsync()}async terminateAsync(){this.state.get()!=a.SessionState.TERMINATED&&(this.state.onTerminate(),this.healthMonitorCamera.close(),await this.processorManager.close(),n.AnalyticsHandler.getInstance().handleSessionTerminated(),this.state.set(a.SessionState.TERMINATED))}validate(){if(this.state.get()!==a.SessionState.ACTIVE)throw new Error("Can only start 'ACTIVE' session. session state is "+this.state.get())}startProcessingTimeout(){this.timeoutId=setTimeout((()=>{this.getState()===a.SessionState.MEASURING&&this.stop()}),1e3*this.processingTime)}async startAsync(){this.orientationHelper.resetValidOrientation(),this.validate(),this.healthMonitorCamera.resetTime(),this.processorManager.start(),this.startProcessingTimeout(),this.state.onStart()}}},7053:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionFactory=void 0;const n=r(1951),i=r(3739),o=r(7537),s=r(7632),a=r(1105),l=r(7223),u=r(242),c=r(3780),d=r(744),h=r(8480),p=r(7648),f=r(8762),_=r(778);class g{static async createFaceSession(e,t,{input:r,cameraDeviceId:n,onFaceDetected:a,processingTime:m,onVitalSign:E,onFinalResults:v,onError:y,onWarning:b,onStateChange:w,orientation:S,subjectDemographic:I,userInformation:R,strictMeasurementGuidance:A,onImageData:O,isAnalyticsEnabled:N,analyticsApiKey:T}){var M;if(!r)throw new Error("HTMLVideoElement input must be provided");if(I&&(R=Object.assign(Object.assign({},R),I)),!(null===(M=window.biosenseSignalConfig)||void 0===M?void 0:M.skipProcessingTimeValidation)&&(m<s.MIN_PROCESSING_TIME||m>s.MAX_PROCESSING_TIME))throw new l.MonitorError(d.HealthMonitorCodes.INITIALIZATION_CODE_INVALID_PROCESSING_TIME_ERROR,"");if((null==R?void 0:R.age)&&((null==R?void 0:R.age)<_.USER_INFORMATION_THRESHOLD.age.min||(null==R?void 0:R.age)>_.USER_INFORMATION_THRESHOLD.age.max))throw new l.MonitorError(d.HealthMonitorCodes.INITIALIZATION_CODE_UNSUPPORTED_USER_AGE,"The provided user age is not supported. The supported age range is between 18 to 110 years.");if((null==R?void 0:R.weight)&&((null==R?void 0:R.weight)<_.USER_INFORMATION_THRESHOLD.weight.min||(null==R?void 0:R.weight)>_.USER_INFORMATION_THRESHOLD.weight.max))throw new l.MonitorError(d.HealthMonitorCodes.INITIALIZATION_CODE_UNSUPPORTED_USER_WEIGHT,"The provided user weight is not supported. The supported weight range is between 40 to 200 kg.");if((null==R?void 0:R.height)&&((null==R?void 0:R.height)<_.USER_INFORMATION_THRESHOLD.height.min||(null==R?void 0:R.height)>_.USER_INFORMATION_THRESHOLD.height.max))throw new l.MonitorError(d.HealthMonitorCodes.INITIALIZATION_CODE_UNSUPPORTED_USER_HEIGHT,"The provided user height is not supported. The supported height range is between 130 to 230 cm.");const C=g.createCamera(r,n);if(N&&T){const e=i.AnalyticsFactory.create(T,(0,u.getUuidV4)());o.AnalyticsHandler.getInstance().setAnalyticsApi(e)}else o.AnalyticsHandler.getInstance().setAnalyticsApi(void 0);const D={mode:_.HealthMonitorSessionMode.FACE_FRONT_CAMERA,onFaceDetected:a,onImageData:O,onVitalSign:E,onFinalResults:v,onError:y,onWarning:b,orientation:S,userInformation:R,strictMeasurementGuidance:null!=A&&A,cameraId:n,licenseOptions:(0,h.resolveLicenseOptions)(e,t),processingTime:m,bloodPressureEnabled:g.verifyModelBasedVitalsEnabledByDevice(),bloodTestEnabled:g.verifyModelBasedVitalsEnabledByDevice()},L=await p.HealthMonitorProcessorManagerBuilder.build(D),k=void 0!==S?new c.ConstantOrientationHelper(S):new c.DefaultOrientationHelper,P=new f.HealthMonitorSessionImpl(L,C,m,k,b);return w&&P.addOnStateChangeListener(w),await P.init(),o.AnalyticsHandler.getInstance().handleSessionCreated(A,!!E,!!O,R,S),P}static createCamera(e,t){return a.HealthMonitorCameraFactory.create({videoElement:e,cameraDeviceId:t,frameDimensions:{width:s.DEFAULT_WIDTH,height:s.DEFAULT_HEIGHT}})}static verifyModelBasedVitalsEnabledByDevice(){return!(0,n.isIos)()||(0,n.getOSVersionMajor)()>=g.MINIMUM_MAJOR_IOS_VERSION_MODEL_BASED_VITALS}}t.SessionFactory=g,g.MINIMUM_MAJOR_IOS_VERSION_MODEL_BASED_VITALS=17},4494:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateHolder=void 0;const n=r(778);t.SessionStateHolder=class{constructor(){this.onStateChange=[],this.state=n.SessionState.INIT}get(){return this.state}set(e){this.state=e,this.onStateChange.forEach((t=>t(e)))}addOnStateChangeListener(e){e&&this.onStateChange.push(e)}onStart(){this.set(n.SessionState.MEASURING)}onStop(){if(this.state===n.SessionState.TERMINATED)throw new Error("Can not stop a Terminated session");this.state===n.SessionState.MEASURING&&this.set(n.SessionState.STOPPING)}onTerminate(){if(this.get()===n.SessionState.INIT)throw new Error("Cannot terminate session during session initialization");this.get(),n.SessionState.TERMINATED}onFrameAvailable(){this.state===n.SessionState.INIT&&this.set(n.SessionState.ACTIVE)}}},778:(e,t)=>{"use strict";var r,n,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.HealthMonitorSessionMode=t.SessionState=t.USER_INFORMATION_THRESHOLD=t.SUBJECT_DEMOGRAHIC_THRESHOLD=t.SmokingStatus=t.Sex=void 0,(o=t.Sex||(t.Sex={}))[o.UNSPECIFIED=0]="UNSPECIFIED",o[o.MALE=1]="MALE",o[o.FEMALE=2]="FEMALE",(i=t.SmokingStatus||(t.SmokingStatus={}))[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.SMOKER=1]="SMOKER",i[i.NON_SMOKER=2]="NON_SMOKER",t.SUBJECT_DEMOGRAHIC_THRESHOLD={age:{min:18,max:110},weight:{min:40,max:200},height:{min:130,max:230}},t.USER_INFORMATION_THRESHOLD={age:{min:18,max:110},weight:{min:40,max:200},height:{min:130,max:230}},(n=t.SessionState||(t.SessionState={}))[n.INIT=0]="INIT",n[n.ACTIVE=1]="ACTIVE",n[n.MEASURING=2]="MEASURING",n[n.STOPPING=3]="STOPPING",n[n.TERMINATED=4]="TERMINATED",(r=t.HealthMonitorSessionMode||(t.HealthMonitorSessionMode={}))[r.FACE_FRONT_CAMERA=0]="FACE_FRONT_CAMERA"},6353:function(e,t,r){var n;!function(i,o){"use strict";var s="function",a="undefined",l="object",u="string",c="model",d="name",h="type",p="vendor",f="version",_="architecture",g="console",m="mobile",E="tablet",v="smarttv",y="wearable",b="embedded",w="Amazon",S="Apple",I="ASUS",R="BlackBerry",A="Google",O="Huawei",N="LG",T="Microsoft",M="Motorola",C="Samsung",D="Sony",L="Xiaomi",k="Zebra",P="Facebook",x=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},F=function(e,t){return typeof e===u&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},U=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===a?e:e.substring(0,255)},B=function(e,t){for(var r,n,i,a,u,c,d=0;d<t.length&&!u;){var h=t[d],p=t[d+1];for(r=n=0;r<h.length&&!u;)if(u=h[r++].exec(e))for(i=0;i<p.length;i++)c=u[++n],typeof(a=p[i])===l&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):o:this[a[0]]=c?a[1].call(this,c,a[2]):o:4===a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):o):this[a]=c||o;d+=2}},j=function(e,t){for(var r in t)if(typeof t[r]===l&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(F(t[r][n],e))return"?"===r?o:r}else if(F(t[r],e))return"?"===r?o:r;return e},G={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,f],[/opios[\/ ]+([\w\.]+)/i],[f,[d,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[f,[d,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[d,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[f,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],f],[/\bfocus\/([\w\.]+)/i],[f,[d,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[f,[d,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[d,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[d,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[f,[d,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,P],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[d,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,f],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[f,[d,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[f,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[f,j,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[_,"amd64"]],[/(ia32(?=;))/i],[[_,H]],[/((?:i[346]|x)86)[;\)]/i],[[_,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[_,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/windows (ce|mobile); ppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[_,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[_,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[p,C],[h,E]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[p,C],[h,m]],[/\((ip(?:hone|od)[\w ]*);/i],[c,[p,S],[h,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[p,S],[h,E]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[p,O],[h,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[c,[p,O],[h,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[p,L],[h,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[p,L],[h,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[p,"OPPO"],[h,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[p,"Vivo"],[h,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[p,"Realme"],[h,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[p,M],[h,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[p,M],[h,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[p,N],[h,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[p,N],[h,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[p,"Lenovo"],[h,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[p,"Nokia"],[h,m]],[/(pixel c)\b/i],[c,[p,A],[h,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[p,A],[h,m]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[p,D],[h,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[p,D],[h,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[p,"OnePlus"],[h,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[p,w],[h,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[p,w],[h,m]],[/(playbook);[-\w\),; ]+(rim)/i],[c,p,[h,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[p,R],[h,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[p,I],[h,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[p,I],[h,m]],[/(nexus 9)/i],[c,[p,"HTC"],[h,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[p,[c,/_/g," "],[h,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[p,"Acer"],[h,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[p,"Meizu"],[h,m]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[p,"Sharp"],[h,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,c,[h,m]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,c,[h,E]],[/(surface duo)/i],[c,[p,T],[h,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[p,"Fairphone"],[h,m]],[/(u304aa)/i],[c,[p,"AT&T"],[h,m]],[/\bsie-(\w*)/i],[c,[p,"Siemens"],[h,m]],[/\b(rct\w+) b/i],[c,[p,"RCA"],[h,E]],[/\b(venue[\d ]{2,7}) b/i],[c,[p,"Dell"],[h,E]],[/\b(q(?:mv|ta)\w+) b/i],[c,[p,"Verizon"],[h,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[p,"Barnes & Noble"],[h,E]],[/\b(tm\d{3}\w+) b/i],[c,[p,"NuVision"],[h,E]],[/\b(k88) b/i],[c,[p,"ZTE"],[h,E]],[/\b(nx\d{3}j) b/i],[c,[p,"ZTE"],[h,m]],[/\b(gen\d{3}) b.+49h/i],[c,[p,"Swiss"],[h,m]],[/\b(zur\d{3}) b/i],[c,[p,"Swiss"],[h,E]],[/\b((zeki)?tb.*\b) b/i],[c,[p,"Zeki"],[h,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],c,[h,E]],[/\b(ns-?\w{0,9}) b/i],[c,[p,"Insignia"],[h,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[p,"NextBook"],[h,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],c,[h,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],c,[h,m]],[/\b(ph-1) /i],[c,[p,"Essential"],[h,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[p,"Envizen"],[h,E]],[/\b(trio[-\w\. ]+) b/i],[c,[p,"MachSpeed"],[h,E]],[/\btu_(1491) b/i],[c,[p,"Rotor"],[h,E]],[/(shield[\w ]+) b/i],[c,[p,"Nvidia"],[h,E]],[/(sprint) (\w+)/i],[p,c,[h,m]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[p,T],[h,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[p,k],[h,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[p,k],[h,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,c,[h,g]],[/droid.+; (shield) bui/i],[c,[p,"Nvidia"],[h,g]],[/(playstation [345portablevi]+)/i],[c,[p,D],[h,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[p,T],[h,g]],[/smart-tv.+(samsung)/i],[p,[h,v]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[p,C],[h,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,N],[h,v]],[/(apple) ?tv/i],[p,[c,"Apple TV"],[h,v]],[/crkey/i],[[c,"Chromecast"],[p,A],[h,v]],[/droid.+aft(\w)( bui|\))/i],[c,[p,w],[h,v]],[/\(dtv[\);].+(aquos)/i],[c,[p,"Sharp"],[h,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[p,U],[c,U],[h,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,v]],[/((pebble))app/i],[p,c,[h,y]],[/droid.+; (glass) \d/i],[c,[p,A],[h,y]],[/droid.+; (wt63?0{2,3})\)/i],[c,[p,k],[h,y]],[/(quest( 2)?)/i],[c,[p,P],[h,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[h,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[h,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[h,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,E]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[h,m]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[f,j,G]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[f,j,G]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[f,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,f],[/\(bb(10);/i],[f,[d,R]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[d,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,f],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,f]]},W=function(e,t){if(typeof e===l&&(t=e,e=o),!(this instanceof W))return new W(e,t).getResult();var r=e||(typeof i!==a&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),n=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(z,t):z;return this.getBrowser=function(){var e,t={};return t.name=o,t.version=o,B.call(t,r,n.browser),t.major=typeof(e=t.version)===u?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e.architecture=o,B.call(e,r,n.cpu),e},this.getDevice=function(){var e={};return e.vendor=o,e.model=o,e.type=o,B.call(e,r,n.device),e},this.getEngine=function(){var e={};return e.name=o,e.version=o,B.call(e,r,n.engine),e},this.getOS=function(){var e={};return e.name=o,e.version=o,B.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>255?U(e,255):e,this},this.setUA(r),this};W.VERSION="1.0.2",W.BROWSER=x([d,f,"major"]),W.CPU=x([_]),W.DEVICE=x([c,p,h,g,m,v,E,y,b]),W.ENGINE=W.OS=x([d,f]),typeof t!==a?(e.exports&&(t=e.exports=W),t.UAParser=W):r.amdO?(n=function(){return W}.call(t,r,t,e))===o||(e.exports=n):typeof i!==a&&(i.UAParser=W);var V=typeof i!==a&&(i.jQuery||i.Zepto);if(V&&!V.ua){var Z=new W;V.ua=Z.getResult(),V.ua.get=function(){return Z.getUA()},V.ua.set=function(e){Z.setUA(e);var t=Z.getResult();for(var r in t)V.ua[r]=t[r]}}}("object"==typeof window?window:this)}},n={};function i(e){if(n[e])return n[e].exports;var t=n[e]={exports:{}};return r[e].call(t.exports,t,t.exports,i),t.exports}return i.m=r,i.amdO={},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);i.r(r);var n={};if(2&t&&"object"==typeof e&&e)for(const t in e)n[t]=()=>e[t];return n.default=()=>e,i.d(r,n),r},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,r)=>(i.f[r](e,t),t)),[])),i.u=e=>(({96:"queryString",119:"auto-track",150:"legacyVideos",214:"remoteMiddleware",464:"ajs-destination",493:"schemaFilter",604:"tsub-middleware"}[e]||e)+".js"),i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@biosensesignal/web-sdk:",i.l=(r,n,o)=>{if(e[r])e[r].push(n);else{var s,a;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var c=l[u];if(c.getAttribute("src")==r||c.getAttribute("data-webpack")==t+o){s=c;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[n];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),a&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="./",(()=>{var e={179:0};i.f.j=(t,r)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,i)=>{n=e[t]=[r,i]}));r.push(n[2]=o);var s=i.p+i.u(t),a=new Error;i.l(s,(r=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,n[1](a)}}),"chunk-"+t)}};var t=self.webpackChunk_biosensesignal_web_sdk=self.webpackChunk_biosensesignal_web_sdk||[],r=t.push.bind(t);t.push=t=>{for(var n,o,[s,a,l]=t,u=0,c=[];u<s.length;u++)o=s[u],i.o(e,o)&&e[o]&&c.push(e[o][0]),e[o]=0;for(n in a)i.o(a,n)&&(i.m[n]=a[n]);for(l&&l(i),r(t);c.length;)c.shift()()}})(),i(1920)})()}));