const fs=require("fs"),path=require("path"),glob=require("glob");function copyFiles(s,e){const r=glob.sync("**/*",{cwd:s,nodir:!0,ignore:["**/main.*","**/postinstall.js"]});fs.existsSync(e)||fs.mkdirSync(e,{recursive:!0}),r.forEach((r=>{const c=path.join(s,r),i=path.join(e,r),n=path.dirname(i);fs.existsSync(n)||fs.mkdirSync(n,{recursive:!0}),fs.copyFileSync(c,i)}))}const srcDir=path.resolve(process.cwd(),"dist"),consumerDir=path.resolve(process.cwd(),"..","..",".."),packageJson=JSON.parse(fs.readFileSync(consumerDir+"/package.json","utf8"));let defaultAssetsDir=path.resolve(consumerDir,"dist");packageJson.dependencies&&(packageJson.dependencies["react-scripts"]||packageJson.dependencies.next)&&(defaultAssetsDir=path.resolve(consumerDir,"public"));let consumerBinahAssetsDir=defaultAssetsDir;try{consumerBinahAssetsDir=path.resolve(consumerDir,process.env.BINAH_ASSETS_DIR)}catch{}copyFiles(srcDir,consumerBinahAssetsDir);